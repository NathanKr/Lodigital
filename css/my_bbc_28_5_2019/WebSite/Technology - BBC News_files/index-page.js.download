!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return new Promise(function(e){return t.requirejs&&t.requirejs(["istats-1"],function(t){if(t)return t.addLabels({app_name:"news",app_type:"responsive",page_type:"Index",bbc_site:"news"}),e()}),e()})};e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(2),n=i(0),s=i(4);i.n(s);window.document.addEventListener("DOMContentLoaded",function(){Object(a.a)(),Object(n.default)(window)})},function(t,e,i){"use strict";function a(){var t=document.querySelector("[data-widths]");if(!t)return!1;var e=JSON.parse(t.getAttribute("data-widths")),i=new s.a(r,{availableWidths:e,className:"lazyloaded",lazyload:!0,lazyloadOffset:200,scrollDelay:100});return i.add(r),i}e.a=a;var n=i(3),s=i.n(n),r="#index-page .lazyload"},function(t,e,i){var a;!function(n,s){"use strict";var r=function(){return s.addEventListener?function(t,e,i){return t.addEventListener(e,i,!1)}:function(t,e,i){return t.attachEvent("on"+e,i)}}(),o=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],l="function"==typeof Object.keys?Object.keys:function(t){var e,i=[];for(e in t)i.push(e);return i},c=function(t,e){for(var i=0,a=t.length,n=[];i<a;i++)n[i]=e(t[i],i);return n},h=function(t){return t},u=function(){},d=function(){return!0},f=function(t,e){var i;return function(){var a=this,n=arguments,s=function(){i=null,t.apply(a,n)};clearTimeout(i),i=setTimeout(s,e)}},p=function(t,e){var i=this,a=s;e=e||{},void 0!==t&&("string"==typeof t?(e.selector=t,t=void 0):void 0===t.length&&(e=t,t=void 0)),this.viewportHeight=a.documentElement.clientHeight,this.selector=t?null:e.selector||".delayed-image-load",this.className=e.className||"image-replace",this.gif=a.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.lazyloadOffset=e.lazyloadOffset||0,this.scrollDelay=e.scrollDelay||250,this.onResize=!e.hasOwnProperty("onResize")||e.onResize,this.lazyload=!!e.hasOwnProperty("lazyload")&&e.lazyload,this.scrolled=!1,this.availablePixelRatios=e.availablePixelRatios||[1,2],this.availableWidths=e.availableWidths||o,this.onImagesReplaced=e.onImagesReplaced||u,this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=e.widthInterpolator||h,this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=p.createWidthsMap(this.availableWidths,this.widthInterpolator,this.devicePixelRatio):(this.widthsMap=this.availableWidths,this.availableWidths=l(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(t,e){return t-e})),this.divs=[],this.add(t||this.selector),this.ready(e.onReady),setTimeout(function(){i.init()},0)};p.prototype.add=function(t){t=t||this.selector;var e="string"==typeof t?s.querySelectorAll(t):t;if(e&&e.length){var i=c(e,h);this.changeDivsToEmptyImages(i),this.divs=this.divs.concat(i)}},p.prototype.scrollCheck=function(){var t=this,e=0,i=[];this.scrolled&&(c(this.divs,function(a){t.isPlaceholder(a)&&(++e,t.isThisElementOnScreen(a)&&i.push(a))}),0===e&&n.clearInterval(t.interval),this.changeDivsToEmptyImages(i),this.scrolled=!1)},p.prototype.init=function(){var t=this;this.initialized=!0;var e=d;this.lazyload?(this.registerScrollEvent(),this.scrolled=!0,t.scrollCheck(),e=function(e){return!1===t.isPlaceholder(e)}):this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(e),this.onReady()},p.prototype.ready=function(t){this.onReady=t||u},p.prototype.createGif=function(t){if(t.className.match(new RegExp("(^| )"+this.className+"( |$)")))return t;var e=t.getAttribute("data-class"),i=t.getAttribute("data-width"),a=this.gif.cloneNode(!1);return i&&(a.width=i,a.setAttribute("data-width",i)),a.className=(e?e+" ":"")+this.className,a.setAttribute("data-src",t.getAttribute("data-src")),a.setAttribute("alt",t.getAttribute("data-alt")||t.alt||this.gif.alt),t.parentNode.replaceChild(a,t),a},p.prototype.changeDivsToEmptyImages=function(t){var e=this;c(t,function(i,a){t[a]=e.createGif(i)}),this.initialized&&this.checkImagesNeedReplacing(t)},p.prototype.isPlaceholder=function(t){return t.src===this.gif.src},p.prototype.isThisElementOnScreen=function(t){var e=0,i=p.getPageOffset()+this.lazyloadOffset;if(t.offsetParent)do{e+=t.offsetTop}while(t=t.offsetParent);return e<this.viewportHeight+i},p.prototype.checkImagesNeedReplacing=function(t,e){var i=this;e=e||d,this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),c(t,function(t){e(t)&&i.replaceImagesBasedOnScreenDimensions(t)}),this.isResizing=!1,this.onImagesReplaced(t))},p.prototype.replaceImagesBasedOnScreenDimensions=function(t){var e,i;i=p.getNaturalWidth(t),e="function"==typeof this.availableWidths?this.availableWidths(t):this.determineAppropriateResolution(t),t.width=e,!this.isPlaceholder(t)&&e<=i||(t.src=this.changeImageSrcToUseNewImageDimensions(t.getAttribute("data-src"),e),t.removeAttribute("width"),t.removeAttribute("height"))},p.prototype.determineAppropriateResolution=function(t){return p.getClosestValue(t.getAttribute("data-width")||t.parentNode.clientWidth,this.availableWidths)},p.prototype.refreshPixelRatio=function(){this.devicePixelRatio=p.getClosestValue(p.getPixelRatio(),this.availablePixelRatios)},p.prototype.changeImageSrcToUseNewImageDimensions=function(t,e){return t.replace(/{width}/g,p.transforms.width(e,this.widthsMap)).replace(/{pixel_ratio}/g,p.transforms.pixelRatio(this.devicePixelRatio))},p.getPixelRatio=function(t){return(t||n).devicePixelRatio||1},p.createWidthsMap=function(t,e,i){for(var a={},n=t.length;n--;)a[t[n]]=e(t[n],i);return a},p.transforms={pixelRatio:function(t){return 1===t?"":"-"+t+"x"},width:function(t,e){return e[t]||t}},p.getClosestValue=function(t,e){var i=e.length,a=e[i-1];for(t=parseFloat(t);i--;)t<=e[i]&&(a=e[i]);return a},p.prototype.registerResizeEvent=function(t){var e=this;r(n,"resize",f(function(){e.checkImagesNeedReplacing(e.divs,t)},100))},p.prototype.registerScrollEvent=function(){var t=this;this.scrolled=!1,this.interval=n.setInterval(function(){t.scrollCheck()},t.scrollDelay),r(n,"scroll",function(){t.scrolled=!0}),r(n,"resize",function(){t.viewportHeight=s.documentElement.clientHeight,t.scrolled=!0})},p.getPageOffsetGenerator=function(t){return t?function(){return n.pageYOffset}:function(){return s.documentElement.scrollTop}},p.getNaturalWidth=function(){return"naturalWidth"in new Image?function(t){return t.naturalWidth}:function(t){var e=s.createElement("img");return e.src=t.src,e.width}}(),p.getPageOffset=p.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(n,"pageYOffset")),p.applyEach=c,p.addEvent=r,p.debounce=f,"object"==typeof t&&"object"==typeof t.exports?t.exports=e=p:void 0!==(a=function(){return p}.call(e,i,e,t))&&(t.exports=a)}(window,document)},function(t,e){}]);
//# sourceMappingURL=index-page.js.map