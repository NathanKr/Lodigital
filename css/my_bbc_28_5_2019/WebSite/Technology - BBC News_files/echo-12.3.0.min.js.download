/*!
 * Echo - v12.3.0, 2019-04-11, from git revision a7851d291a4ff9bc96102c92376922cc543a1e27.
 * Copyright (c) 2019 BBC, all rights reserved.
 * 
 * Copyright (c) 2014 comScore, Inc.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echo_js=e():t.echo_js=e()}(window,function(){return function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=21)}([function(t,e,n){var i;void 0===(i=function(t){"use strict";var i=n(2);function s(e){var n={};for(var i in e)try{e[i].constructor===Object?n[i]=s(e[i]):n[i]=e[i]}catch(t){n[i]=e[i]}return n}function a(t,e,n){var i=n?t:s(t);for(var r in e)try{e[r].constructor===Object?i[r]=a(i[r],e[r]):i[r]=e[r]}catch(t){i[r]=e[r]}return i}function r(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1}function o(t,e){for(var n=(e?s(t):t)||{},i=arguments,r=2,o=i.length;r<o;r++)"object"==typeof i[r]?a(n,i[r],!0):n[i[r]]=i[++r];return n}function u(t,e,n){return t||(n?i.warn("AssertionFailed: "+e):i.error("AssertionFailed: "+e)),t}return{clone:s,combineObjects:a,addKV:function(t,e,n){return n?o(t,!0,e,n):o(t,!0,e)},containsValue:r,extend:o,assert:u,assertContainsValue:function(t,e,n){return u(r(t,e),n)},trim:function(t){if("string"==typeof t)return t=String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,y){var n;void 0===(n=function(t){"use strict";var o=y(3),e=y(5),n={},i=y(10);Object.keys(i).map(function(t){n[t]=t});var r={},s=y(6);Object.keys(s).map(function(t){r[t]=t});var a="16060501",u="19293874",c="19999701",l="19774467",f="19774474",d="19774472",p="18897612",h="23239715",_="18897612";function g(t,e,n,i){var r={};return r[o.COMSCORE_CUSTOMER_ID]=t,r[o.COMSCORE_SITE]=e,r[o.COMSCORE_HOST]=n,r[o.SSC_HOSTNAME]=i,r}function v(t){return g(a,t,"sa.bbc.co.uk",".co.uk")}function E(t,e){return g(t,e,"scorecardresearch.com",".com")}var m={};return m.PUBLIC_SERVICE=v("bbc"),m.PUBLIC_SERVICE_STAGE=v("stage"),m.PUBLIC_SERVICE_TEST=v("test"),m.PUBLIC_SERVICE_INT=v("int"),m.PUBLIC_SERVICE_INTRANET=v("intranet"),m.GNL=E(u,"bbc"),m.GNL_ACCEPTANCE=E(p,"gnl-test"),m.WORLD_SERVICE=E(c,"bbc"),m.WORLD_SERVICE_ACCEPTANCE=E(p,"ws-test"),m.WORLDWIDE_FEATURES=E(l,"bbc"),m.WORLDWIDE_FEATURES_ACCEPTANCE=E(p,"features-test"),m.STORE_NONCOMMERCIAL=E(f,"bbc"),m.STORE_COMMERCIAL=E(d,"bbc"),m.BRITBOX_ACCEPTANCE=E(_,"bbc-global-test"),m.BRITBOX=E(h,"bbc"),{ApplicationType:{WEB:"web",MOBILE_WEB:"mobile-web",RESPONSIVE:"responsive",MOBILE_APP:"mobile-app",BIGSCREEN_HTML:"bigscreen-html",BIGSCREEN_FLASH:"bigscreen-flash",BIGSCREEN_APP:"bigscreen-app",BIGSCREEN_CAST:"bigscreen-cast",DESKTOP_APP:"desktop-app"},WindowState:{FULL:"full",NORMAL:"norm",MINIMISED:"min",MAXIMISED:"max",PICTUREINPICTURE:"picture-in-picture"},MediaIdType:{VERSION:"version",CLIP:"clip",EPISODE:"episode",SERVICE:"service",VPID:"vpid",NONPIPSCONTENTID:"nonpipscontentid",PRODUCER:"producer",BRAND:"brand",SERIES:"series"},MediaClipType:{UNDEFINED:void 0,CLIP:"clip",EPISODE:"episode"},MediaInitiationType:{UNDEFINED:void 0,USER:"user",AUTO:"auto"},AvType:{AUDIO:"audio",VIDEO:"video"},RetrievalType:{STREAM:"stream",DOWNLOAD:"download"},Form:{LONG:"long",SHORT:"short"},PIPsType:{CLIP:"clip",EPISODE:"ep"},MediaConsumptionMode:{ON_DEMAND:"ondemand",LIVE:"live",DOWNLOAD:"download"},EchoCacheMode:{OFFLINE:"offline",ALL:"all"},ManagedLabels:{EVENT_MASTER_BRAND:"event_master_brand",BBC_SITE:"bbc_site",IPLAYER_STATE:"iplayer_state",STORE_ED_TYPE:"store_ed_type",IPLAYER_AVAIL:"iplayer_avail",STORE_REFERRAL:"store_referral",BBC_HASHED_ID:"bbc_hid"},ReportingProfiles:m,EssError:{STATUS_CODE:"status_code",TIMEOUT:"timeout",JSON:"json",RUNTIME:"runtime_error"},Destinations:n,Producers:r,EchoLabelKeys:e}}.call(e,y,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(t){"use strict";var i=!1;function e(t){var e,n;i&&(e="log",n=t,"object"==typeof console&&"function"==typeof console[e]&&console[e](n))}return{enable:function(){i=!0},disable:function(){i=!1},getState:function(){return i},info:e,warn:e,error:function(t){if(i)throw new Error("ECHO_DEBUG: "+t)}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){"use strict";return{ECHO_ENABLED:"enabled",ECHO_AUTO_START:"auto_start",ECHO_TRACE:"trace",ECHO_DEVICE_ID:"device_id",REPORTING_PROFILE:"reporting_profile",ECHO_CACHE_MODE:"cache_mode",DEBUG_MODE:"disabled",ECHO_NAME:"lib_name",ECHO_VERSION:"lib_version",USE_SSC:"use_ssc",SSC_HOSTNAME:"ssc_hostname",COMSCORE_ENABLED:"comscore.enabled",COMSCORE_HOST:"comscore.host",COMSCORE_SITE:"comscore.site",COMSCORE_CUSTOMER_ID:"comscore.customer_id",COMSCORE_PUBLISHER_SECRET:"comscore.publisher_secret",ATI_ENABLED:"ati.enabled",ATI_LOG:"ati.log",ATI_SSL_LOG:"ati.ssl_log",ATI_DOMAIN:"ati.domain",ATI_PIXEL_PATH:"ati.pixel_path",ATI_FORCE_HTTPS:"ati.force_https",ATI_CACHE_MODE_ALWAYS:"always",ATI_CACHE_MODE_REQUIRED:"required",APP_CATEGORY:"app_category",KEEPALIVE_DURATION:"keepalive_duration",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",TEST_SERVICE_ENABLED:"test.enabled",TEST_SERVICE_URL:"test.url",BARB_ENABLED:"barb.enabled",BARB_SITE_CODE:"barb.site_code",BARB_DEBUG:"barb.debug",USE_ESS:"use_ess",ESS_HOSTNAME:"ess.hostname"}}.call(e,n,e,t))||(t.exports=i)},function(t,e,a){var n;void 0===(n=function(t){"use strict";var u=a(0),c=a(2),e=a(1),l=a(24),n=["player_name","ns_st_ws","bbc_site","app_type","app_name","bbc_store_pf","bbc_store_ed","bbc_store_fr","bbc_store_src"],i=["token","guardianToken","nonce","dateOfBirthDay","dateOfBirthMonth","dateOfBirthYear","dateOfBirth","permissionToken"],f={name:l.COUNTERNAME};f[e.ManagedLabels.EVENT_MASTER_BRAND]=l.EVENT_MASTER_BRAND;for(var r=0;r<n.length;r++)f[n[r]]=l.STRICT;function d(t){return t&&t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/(^_+)|(_+$)/g,"")}function o(t){var e=d(t);return u.assert(t===e,'Label key can only contain: [a-z0-9_], and no consecutive "_"s or "_" at the begining or end, got "'+t+'". This will be sent as "'+e+'"',!0),e}function p(t){var e=t&&t.toLowerCase().replace(/[^a-z0-9\.]+/g,"_").replace(/\.+/g,".").replace(/(^_+)|(_+$)/g,"")||"no.name.page";return t!==e&&(null!==t&&"string"==typeof t&&0!==t.replace(/ */,"").length||c.error("Countername must be a non-empty string"),t&&-1!==t.search(/-/)?c.warn('Submitted countername ("'+t+'") contains at least one "-". Dashes are not permitted but, for legacy reasons, "-" and "_" are equivalent in DAx. Echo converts dashes to underscores, so the countername will be sent as "'+e+'"'):c.warn('countername may only contain: [a-z0-9._], got "'+t+'". This will be cleaned up and sent as "'+e+'"')),-1===e.search(/\.page$/)&&(e+=".page"),e}function s(t,e){var n,i="",r=e,o=(n=t,f.hasOwnProperty(n)?f[n]:l.CUSTOM);if(o===l.COUNTERNAME&&(e=p(e)),"number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e){switch(o){case l.EVENT_MASTER_BRAND:i='Label value can only contain [0-9a-z], and no consecutive "_"s and no "_"s or whitespace at the start or end.',r=d(e);break;case l.STRICT:i='Strict Label values can only contain [ 0-9a-z-], and no consecutive "-"s and no "-"s or whitespace at the start or end.',r=(a=e)&&a.toLowerCase().replace(/(^\s+)|(\s+$)/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-+)|(-+$)/g,"");break;case l.NO_CLEANSING:break;default:i="Custom Label value cannot contain whitespace at start or end or pipes (|).",r=(s=e)&&s.replace(/(^\s+)|(\s+$)/g,"").replace(/\|/g,"!")}var s,a;return i+='Got "'+e+'", will be replaced with "'+r+'"',u.assert(e===r,i,!0),r}c.error("Label must have number, boolean or string value")}return{cleanCounterName:p,cleanLabelKey:o,cleanLabelValue:s,cleanLanguage:function(t){if("number"==typeof t||"boolean"==typeof t)return t.toString();var e=t&&t.replace(/(^\s*)|(\s*$)/g,"").replace(/[^0-9a-zA-Z._]+/g,"-").replace(/(^-)|(-$)/g,"")||"";return u.assert(t===e,'Language label value can only contain [0-9a-zA-Z._-], and no consecutive "-"s and no - at the start or end. Got "'+t+'", will be replaced with "'+e+'"',!0),e},cleanLabels:function(t){var e,n={};for(var i in t)n[e=o(i)]=s(e,t[i]);return n},cleanCustomVariable:function(t){return t&&t.trim().replace(/\[|\]/g,"").replace(/&/g,"$").replace(/\s{1,}/g," ")},removeSensitiveInfo:function(t){if(t&&"string"==typeof t)for(r=0;r<i.length;r++){var e=new RegExp(i[r]+"=[^&]*","g");t=t.replace(e,i[r]+"=XXXX")}return t}}}.call(e,a,e,t))||(t.exports=n)},function(t,e,n){t.exports={BBC_COUNTER_NAME:"name",ECHO_EVENT_NAME:"echo_event",APP_VERSION:"apvr",HASHED_ID:"at",LEVEL_1_SITE:"site",LEVEL_2_SITE:"level2",SECTION:"section",CHAPTER_1:"chapter1",CONTENT_ID:"bbc_content_id",APP_TYPE:"bbc_app_type",APP_NAME:"bbc_app_name",APP_CATEGORY:"app_category",LANGUAGE:"language",URL:"bbc_url",REFERRER_URL:"bbc_referrer_url",CONTENT_TYPE:"bbc_content_type",LIBRARY_VERSION:"bbc_library_version",PAGE_TITLE:"page_title",CUSTOM_VAR_1:"custom_var_1",CUSTOM_VAR_2:"custom_var_2",CUSTOM_VAR_3:"custom_var_3",CUSTOM_VAR_4:"custom_var_4",CUSTOM_VAR_5:"custom_var_5",CUSTOM_VAR_6:"custom_var_6",CUSTOM_VAR_7:"custom_var_7",CUSTOM_VAR_8:"custom_var_8",CUSTOM_VAR_9:"custom_var_9",CUSTOM_VAR_10:"custom_var_10",MEDIA_PLAYER:"bbc_media_player",LOGGED_IN:"bbc_identity",BBC_HID:"bbc_hid",MEDIA_BRAND:"brand",MEDIA_SERIES:"series",IS_BACKGROUND:"is_background",SOURCE:"source",CONTAINER:"container",METADATA:"metadata",PERSONALISATION:"personalisation",RESULT:"result"}},function(t,e,n){var i;void 0===(i=function(){"use strict";return{ACCOUNT:1,AFAAN_OROMOO:2,AFRIQUE:3,AMHARIC:4,ARABIC:5,AZERI:6,BBC:7,BBC_ALBA:8,BBC_ARTS:9,BBC_ASIAN_NETWORK:10,BBC_FOOD:11,BBC_FOUR:12,BBC_HD:13,BBC_MUSIC:14,BBC_NEWS_CHANNEL:15,BBC_ONE:16,BBC_PARLIAMENT_CHANNEL:17,BBC_RADIO:18,BBC_RADIO_1:19,BBC_RADIO_1XTRA:20,BBC_RADIO_2:21,BBC_RADIO_3:22,BBC_RADIO_4:23,BBC_RADIO_4_EXTRA:24,BBC_RADIO_5_LIVE:25,BBC_RADIO_6_MUSIC:26,BBC_SCOTLAND:120,BBC_SEND:121,BBC_SHOP:27,BBC_THREE:28,BBC_TWO:29,BBC_WORLD_NEWS:30,BENGALI:31,BITESIZE:32,BRASIL:33,BRITBOX:34,BURMESE:35,CBBC:36,CBEEBIES:37,CHINESE:38,ENGLISH_REGIONS:39,GAHUZA:40,GATEWAY:41,GNL_AUTOS:42,GNL_CAPITAL:43,GNL_CULTURE:44,GNL_EARTH:45,GNL_FUTURE:46,GNL_HOMEPAGE:47,GNL_STORYWORKS:48,GNL_TRAVEL:49,GUJARATI:50,HAUSA:51,HINDI:52,IGBO:53,INDONESIAN:54,IPLAYER:55,JAPANESE:56,KOREAN:57,KYRGYZ:58,MARATHI:59,MEDIA_ACTION:60,MONITORING:61,MUNDO:62,NEPALI:63,NEWS:64,NEWSROUND:65,NORTHERN_IRELAND:66,OTHER:67,OWN_IT:118,PASHTO:68,PERSIAN:69,PIDGIN:70,PROGRAMMES:71,PS_HOMEPAGE:72,PUNJABI:73,REEL:74,RUSSIAN:75,S4C:76,SCHOOL_RADIO:77,SCHOOL_REPORT:78,SCOTLAND:79,SEARCH:80,SERBIAN:81,SINHALA:82,SOMALI:83,SOUNDS:84,SPORT:85,SWAHILI:86,TAMIL:87,TASTER:88,TEACH:119,TELUGU:89,THAI:90,TIGRINYA:91,TURKISH:92,UK_CHINA:93,UKRAINIAN:94,URDU:95,UZBEK:96,VIETNAMESE:97,VOICE:98,VOICE_FIRST_FORMATS:99,WALES:100,WEATHER:101,WEATHER_WATCHERS:102,WORLD_SERVICE_ENGLISH:103,WORKLIFE:104,WS_LEARNING_ENGLISH:105,WS_PARTNERS_B2B:106,YORUBA:107,NEWS_ENGLISH_REGIONS:108,SPORT_ENGLISH_REGIONS:109,NEWS_SCOTLAND:110,SPORT_SCOTLAND:111,NEWS_WALES:112,SPORT_WALES:113,NEWS_NORTHERN_IRELAND:114,SPORT_NORTHERN_IRELAND:115,AUDIENCE_SERVICES:116,WORLD_NEWS_PROGRAMMES:117,getId:function(t){var e;return t&&(e=this[t.toUpperCase()]),e},hasId:function(e){var n=this;e&&(e=e.toString());var t=Object.getOwnPropertyNames(this);return Boolean(t.filter(function(t){return n[t].toString()===e}).length)}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports={BBC_APPLICATION_NAME:"app_name",BBC_APPLICATION_TYPE:"app_type",BBC_APPLICATION_VERSION:"app_version",BBC_COUNTER_NAME:"name",DESTINATION:"bbc_destination",PRODUCER:"bbc_producer",BBC_LANGUAGE:"language",DEVICE_ID:"ns_alias",COMSCORE_C1:"c1",COMSCORE_C7:"c7",BBC_MEASUREMENT_LIB_NAME:"ml_name",BBC_MEASUREMENT_LIB_VERSION:"ml_version",ECHO_TRACE:"trace",ECHO_EVENT_NAME:"echo_event",EVENT_TRIGGERED_BY_USER:"ns_st_ui",STREAMSENSE_CUSTOM_EVENT_TYPE:"ns_st_ev",USER_ACTION_TYPE:"action_type",USER_ACTION_NAME:"action_name",PLAYLIST_END:"ns_st_pe",REWIND_FF_RATE:"ffrw_rate",COMSCORE_SITE:"ns_site",COMSCORE_CUSTOMER:"c2",COMSCORE_ENDPOINT:"comscore_endpoint",PLAYER_NAME:"ns_st_mp",PLAYER_VERSION:"ns_st_mv",PLAYER_WINDOW_STATE:"ns_st_ws",PLAYER_VOLUME:"ns_st_vo",PLAYER_POPPED:"bbc_st_pop",PLAYER_SUBTITLED:"bbc_st_sub",PLAYLIST_NAME:"ns_st_pl",PLAYLIST_CLIP_COUNT:"ns_st_cp",PLAYLIST_LENGTH:"ns_st_ca",MEDIA_PID:"ns_st_ci",MEDIA_LENGTH:"ns_st_cl",MEDIA_STREAM_TYPE:"ns_st_ty",MEDIA_IS_LIVE:"ns_st_li",MEDIA_EPISODE_ID:"episode_id",MEDIA_CLIP_ID:"clip_id",MEDIA_CLIP_NUMBER:"ns_st_cn",MEDIA_PART_NUMBER:"ns_st_pn",MEDIA_TOTAL_PARTS:"ns_st_tp",MEDIA_MEDIUM:"bbc_st_med",MEDIA_LIVE_OR_ONDEMAND:"bbc_st_lod",MEDIA_FORM:"bbc_st_mf",MEDIA_RETRIEVAL_TYPE:"bbc_st_ret",MEDIA_SCHEDULE_INDICATOR:"bbc_st_sch",MEDIA_VERSION_ID:"version_id",MEDIA_SERVICE_ID:"service_id",MEDIA_NON_PIPS_CONTENT_ID:"non_pips_content_id",MEDIA_AMBIGUOUS_ID:"ambig_ci",MEDIA_TIMESTAMP:"bbc_st_live_ts",ESS_SUCCESS:"ess_success",ESS_ERROR:"ess_error",ESS_STATUS_CODE:"ess_status_code",APP_PLATFORM_NAME:"ns_ap_pn",APP_PLATFORM_RUNTIME:"ns_ap_pfm",APP_OS_VERSION:"ns_ap_pfv",APP_DEVICE_NAME:"ns_ap_device",APP_SCREEN_RESOLUTION:"ns_ap_res",APP_LANGUAGE:"ns_ap_lang",ENV_CHAR_SET:"ns_c",ENV_TITLE:"c8",ENV_URL:"c7",ENV_REFERRER:"c9",APP_NAME:"ns_ap_an",APP_VERSION:"ns_ap_ver",NO_COOKIES:"ns_nc",COOKIE_POLICY:"bbc_mc",BBC_ID_LOGGED_IN:"bbc_identity",WEB_SCREEN_RES:"screen_resolution",ESS_ENABLED:"ess_enabled",ESS_ENRICHED:"ess_enriched"}},function(t,e,l){var n;void 0===(n=function(t){"use strict";var e,i,r,n=l(4),o=l(9),s=l(25),a=!1,u=[];function c(){var t=window.screen||{},e=window.navigator||{},n=window.document||{};this._platformRuntimeEnvironment="html",this._platformOSVersion="5",this._screenResolution=(t.width||"-")+"x"+(t.height||"-"),this._language=e.language||"",this._platformName=e.platform||"",this._charset=n.characterSet||n.defaultCharset||"",this._title=n.title||"",this._url=n.URL||"",this._referrer=n.referrer||"",this._deviceName=null,this._httpGet=null,this._executeCrossDomainGet=null,this._getCookie=null,this._setCookie=null,this._setLocalStorageItem=null,this._getLocalStorageItem=null}return c._defaultHttpGet=s.httpGet,c._defaultGetCookie=o.getCookieValueByName,c.prototype.getPlatformName=function(){return this._platformName},c.prototype.getPlatformRuntimeEnvironment=function(){return this._platformRuntimeEnvironment},c.prototype.getPlatformOSVersion=function(){return this._platformOSVersion},c.prototype.getDeviceName=function(){return this._deviceName},c.prototype.getScreenResolution=function(){return this._screenResolution},c.prototype.getLanguage=function(){return this._language},c.prototype.getHttpGet=function(){return this._httpGet},c.prototype.setExecuteCrossDomainGet=function(t){this._executeCrossDomainGet=t},c.prototype.getExecuteCrossDomainGet=function(){return this._executeCrossDomainGet?this._executeCrossDomainGet:s.executeCrossDomainGet},c.prototype.getCookieGetter=function(){return this._getCookie},c.prototype.getCookieSetter=function(){return this._setCookie},c.prototype.getCharSet=function(){return this._charset},c.prototype.getTitle=function(){return this._title},c.prototype.getURL=function(){return this._url},c.prototype.getProtocol=function(){return 0!==this.getURL().toLowerCase().indexOf("http:",0)?"https:":"http:"},c.prototype.getReferrer=function(){return this._referrer},c.prototype.setSetLocalStorageItem=function(t){this._setLocalStorageItem=t},c.prototype.getSetLocalStorageItem=function(){return this._setLocalStorageItem},c.prototype.setGetLocalStorageItem=function(t){this._getLocalStorageItem=t},c.prototype.getGetLocalStorageItem=function(){return this._getLocalStorageItem},c.prototype.setPlatformName=function(t){return this._platformName=t,this},c.prototype.setPlatform=function(t,e){return this._platformRuntimeEnvironment=t,this._platformOSVersion=e,this},c.prototype.setDeviceName=function(t){return this._deviceName=t,this},c.prototype.setScreenResolution=function(t){return this._screenResolution=t,this},c.prototype.setLanguage=function(t){return this._language=n.cleanLanguage(t),this},c.prototype.setHttpGet=function(t){return this._httpGet=t,this},c.prototype.setCookieGetter=function(t){return this._getCookie=t,this},c.prototype.setCookieSetter=function(t){return this._setCookie=t,this},c.prototype.setCharSet=function(t){return this._charset=t,this},c.prototype.setTitle=function(t){return this._title=t,this},c.prototype.setURL=function(t){return this._url=t,this},c.prototype.setReferrer=function(t){return this._referrer=t,this},c.setOrbCookies=function(t){return e=t,this},c.getOrbCookies=function(){return e},c.getOrbCookiesPolicy=function(){if(e&&"function"==typeof e.readPolicy)return e.readPolicy()},c.setOrbIdCta=function(t){return i=t,this},c.getOrbIdCta=function(t){var e=function(t,e){t&&"function"==typeof t&&t(e)};if(void 0===i)if(!1!==r){u.push(t);var n=window.require;void 0===r&&n?!(r="function"==typeof n.defined&&n.defined("idcta/idcta-1"))&&n.s&&n.s.contexts&&n.s.contexts._&&n.s.contexts._.config&&n.s.contexts._.config.paths&&n.s.contexts._.config.paths.idcta&&(r=!0):r=!1,r&&!a?(a=!0,window.require(["idcta/idcta-1"],function(t){for(i=t,0;0<u.length;u++)u[0]&&"function"==typeof u[0]&&e(u[0],i)})):!1===r&&e(t)}else e(t);else e(t,i)},c}.call(e,l,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";return{getCookieValueByName:function(t,e){var n=t+"=",i=(e||window).document,r={};if(void 0===i||"string"!=typeof i.cookie)return null;for(var o=0,s=(r=i.cookie.split(";")).length;o<s;o++){var a=r[o];if(" "===a.charAt(0)&&(a=a.substring(1,a.length)),0===a.indexOf(n))return a.substring(n.length,a.length)}return null}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){"use strict";var t=n(6);return{DEFAULT:{id:"596068",defaultProducer:t.BBC,isTest:!0},ACCOUNT:{id:"598250",defaultProducer:t.ACCOUNT,isTest:!1},ACCOUNT_TEST:{id:"598252",defaultProducer:t.ACCOUNT,isTest:!0},AUDIENCE_PORTAL:{id:"602136",defaultProducer:t.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_PORTAL_TEST:{id:"602137",defaultProducer:t.AUDIENCE_SERVICES,isTest:!0},AUDIENCE_SERVICES_PS:{id:"602167",defaultProducer:t.AUDIENCE_SERVICES,isTest:!1},AUDIENCE_SERVICES_PS_TEST:{id:"602168",defaultProducer:t.AUDIENCE_SERVICES,isTest:!0},BBC_CORPORATE_PS:{id:"603550",defaultProducer:t.BBC,isTest:!1},BBC_CORPORATE_PS_TEST:{id:"603551",defaultProducer:t.BBC,isTest:!0},BBC_SHOP:{id:"598253",defaultProducer:t.BBC_SHOP,isTest:!1},BBC_SHOP_TEST:{id:"598254",defaultProducer:t.BBC_SHOP,isTest:!0},BBC_SYNDICATION:{id:"601718",defaultProducer:t.BBC,isTest:!1},BBC_SYNDICATION_TEST:{id:"601719",defaultProducer:t.BBC,isTest:!0},BBC_THREE:{id:"598255",defaultProducer:t.BBC_THREE,isTest:!1},BBC_THREE_TEST:{id:"598256",defaultProducer:t.BBC_THREE,isTest:!0},BITESIZE:{id:"598257",defaultProducer:t.BITESIZE,isTest:!1},BITESIZE_TEST:{id:"598258",defaultProducer:t.BITESIZE,isTest:!0},BLOGS_PS:{id:"603546",defaultProducer:t.BBC,isTest:!1},BLOGS_PS_TEST:{id:"603547",defaultProducer:t.BBC,isTest:!0},BRITBOX:{id:"598259",defaultProducer:t.BRITBOX,isTest:!1},BRITBOX_TEST:{id:"598260",defaultProducer:t.BRITBOX,isTest:!0},CBBC:{id:"598261",defaultProducer:t.CBBC,isTest:!1},CBBC_TEST:{id:"598262",defaultProducer:t.CBBC,isTest:!0},CBEEBIES:{id:"598263",defaultProducer:t.CBEEBIES,isTest:!1},CBEEBIES_TEST:{id:"598264",defaultProducer:t.CBEEBIES,isTest:!0},FEATURE_SITES_GNL:{id:"598265",defaultProducer:t.GNL_HOMEPAGE,isTest:!1},FEATURE_SITES_GNL_TEST:{id:"598266",defaultProducer:t.GNL_HOMEPAGE,isTest:!0},FOOD:{id:"598267",defaultProducer:t.BBC_FOOD,isTest:!1},FOOD_TEST:{id:"598268",defaultProducer:t.BBC_FOOD,isTest:!0},GAMES_PS:{id:"599452",defaultProducer:t.BBC,isTest:!1},GAMES_PS_TEST:{id:"599454",defaultProducer:t.BBC,isTest:!0},GATEWAY:{id:"598269",defaultProducer:t.GATEWAY,isTest:!1},GATEWAY_TEST:{id:"598270",defaultProducer:t.GATEWAY,isTest:!0},HOMEPAGE_GNL:{id:"598271",defaultProducer:t.GNL_HOMEPAGE,isTest:!1},HOMEPAGE_GNL_TEST:{id:"598272",defaultProducer:t.GNL_HOMEPAGE,isTest:!0},HOMEPAGE_PS:{id:"598273",defaultProducer:t.PS_HOMEPAGE,isTest:!1},HOMEPAGE_PS_TEST:{id:"598274",defaultProducer:t.PS_HOMEPAGE,isTest:!0},IDEAS:{id:"598275",defaultProducer:t.BBC,isTest:!1},IDEAS_TEST:{id:"598276",defaultProducer:t.BBC,isTest:!0},IPLAYER:{id:"598277",defaultProducer:t.IPLAYER,isTest:!1},IPLAYER_TEST:{id:"598278",defaultProducer:t.IPLAYER,isTest:!0},MEDIA_ACTION:{id:"598279",defaultProducer:t.MEDIA_ACTION,isTest:!1},MEDIA_ACTION_TEST:{id:"598280",defaultProducer:t.MEDIA_ACTION,isTest:!0},MONITORING:{id:"598281",defaultProducer:t.MONITORING,isTest:!1},MONITORING_TEST:{id:"598282",defaultProducer:t.MONITORING,isTest:!0},MUSIC:{id:"598283",defaultProducer:t.BBC_MUSIC,isTest:!1},MUSIC_TEST:{id:"598284",defaultProducer:t.BBC_MUSIC,isTest:!0},NEWS_PS:{id:"598285",defaultProducer:t.NEWS,isTest:!1},NEWS_PS_TEST:{id:"598286",defaultProducer:t.NEWS,isTest:!0},NEWS_GNL:{id:"598287",defaultProducer:t.NEWS,isTest:!1},NEWS_GNL_TEST:{id:"598288",defaultProducer:t.NEWS,isTest:!0},NEWS_LANGUAGES_GNL:{id:"598289",defaultProducer:t.NEWS,isTest:!1},NEWS_LANGUAGES_GNL_TEST:{id:"598290",defaultProducer:t.NEWS,isTest:!0},NEWS_LANGUAGES_PS:{id:"598291",defaultProducer:t.NEWS,isTest:!1},NEWS_LANGUAGES_PS_TEST:{id:"598292",defaultProducer:t.NEWS,isTest:!0},NEWSROUND:{id:"598293",defaultProducer:t.NEWSROUND,isTest:!1},NEWSROUND_TEST:{id:"598294",defaultProducer:t.NEWSROUND,isTest:!0},OTHER:{id:"598295",defaultProducer:t.OTHER,isTest:!1},OTHER_TEST:{id:"598297",defaultProducer:t.OTHER,isTest:!0},OWN_IT:{id:"598298",defaultProducer:t.CBBC,isTest:!1},OWN_IT_TEST:{id:"598299",defaultProducer:t.CBBC,isTest:!0},PROGRAMMES_PS:{id:"598300",defaultProducer:t.PROGRAMMES,isTest:!1},PROGRAMMES_PS_TEST:{id:"598301",defaultProducer:t.PROGRAMMES,isTest:!0},RED_BUTTON_PS:{id:"601192",defaultProducer:t.BBC,isTest:!1},RED_BUTTON_PS_TEST:{id:"601193",defaultProducer:t.BBC,isTest:!0},REWIND_PS:{id:"603552",defaultProducer:t.BBC,isTest:!1},REWIND_PS_TEST:{id:"603553",defaultProducer:t.BBC,isTest:!0},SEARCH_GNL:{id:"598302",defaultProducer:t.SEARCH,isTest:!1},SEARCH_GNL_TEST:{id:"598303",defaultProducer:t.SEARCH,isTest:!0},SEARCH_PS:{id:"598304",defaultProducer:t.SEARCH,isTest:!1},SEARCH_PS_TEST:{id:"598305",defaultProducer:t.SEARCH,isTest:!0},SOUNDS:{id:"598306",defaultProducer:t.SOUNDS,isTest:!1},SOUNDS_TEST:{id:"598307",defaultProducer:t.SOUNDS,isTest:!0},SPORT_GNL:{id:"598308",defaultProducer:t.SPORT,isTest:!1},SPORT_GNL_TEST:{id:"598309",defaultProducer:t.SPORT,isTest:!0},SPORT_PS:{id:"598310",defaultProducer:t.SPORT,isTest:!1},SPORT_PS_TEST:{id:"598311",defaultProducer:t.SPORT,isTest:!0},STORYWORKS_GNL:{id:"598312",defaultProducer:t.GNL_STORYWORKS,isTest:!1},STORYWORKS_GNL_TEST:{id:"598313",defaultProducer:t.GNL_STORYWORKS,isTest:!0},SUBTITLES_PS:{id:"603548",defaultProducer:t.PROGRAMMES,isTest:!1},SUBTITLES_PS_TEST:{id:"603549",defaultProducer:t.PROGRAMMES,isTest:!0},SYNDICATION_PARTNERS_GNL:{id:"598314",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},SYNDICATION_PARTNERS_GNL_TEST:{id:"598315",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},TASTER:{id:"598316",defaultProducer:t.TASTER,isTest:!1},TASTER_TEST:{id:"598317",defaultProducer:t.TASTER,isTest:!0},TEACH:{id:"598318",defaultProducer:t.BBC,isTest:!1},TEACH_TEST:{id:"598320",defaultProducer:t.BBC,isTest:!0},VOICE:{id:"598326",defaultProducer:t.VOICE,isTest:!1},VOICE_TEST:{id:"598328",defaultProducer:t.VOICE,isTest:!0},WEATHER_GNL:{id:"598330",defaultProducer:t.WEATHER,isTest:!1},WEATHER_GNL_TEST:{id:"598332",defaultProducer:t.WEATHER,isTest:!0},WEATHER_PS:{id:"598338",defaultProducer:t.WEATHER,isTest:!1},WEATHER_PS_TEST:{id:"598339",defaultProducer:t.WEATHER,isTest:!0},WS_LEARNING_ENGLISH:{id:"598340",defaultProducer:t.WS_LEARNING_ENGLISH,isTest:!1},WS_LEARNING_ENGLISH_TEST:{id:"598341",defaultProducer:t.WS_LEARNING_ENGLISH,isTest:!0},WS_NEWS_LANGUAGES:{id:"598342",defaultProducer:t.BBC_WORLD_NEWS,isTest:!1},WS_NEWS_LANGUAGES_TEST:{id:"598343",defaultProducer:t.BBC_WORLD_NEWS,isTest:!0},WS_PARTNERS_B2B:{id:"598820",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},WS_PARTNERS_B2B_TEST:{id:"598823",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},WS_PROGRAMMES:{id:"598344",defaultProducer:t.PROGRAMMES,isTest:!1},WS_PROGRAMMES_TEST:{id:"598345",defaultProducer:t.PROGRAMMES,isTest:!0},WS_SYNDICATION_PARTNERS:{id:"598346",defaultProducer:t.WS_PARTNERS_B2B,isTest:!1},WS_SYNDICATION_PARTNERS_TEST:{id:"598347",defaultProducer:t.WS_PARTNERS_B2B,isTest:!0},get:function(t){var e;return t&&(e=this[t.toUpperCase()]),e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports={NAME:"echo_js",VERSION:"12.3.0"}},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(){this.reset()}return t.prototype.start=function(){!0!==this._isPlaying&&(this._isPlaying=!0,this._startTime=this._getCurrentTime())},t.prototype.reset=function(){this._isPlaying=!1,this._position=0,this._startTime=0},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._position+=this._getCurrentTime()-this._startTime,this._startTime=0)},t.prototype.getPosition=function(){var t=this._position;return!0===this._isPlaying&&(t+=this._getCurrentTime()-this._startTime),t},t.prototype._getCurrentTime=function(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Date.now()},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i,r;i=[n(0),n(2),n(1)],void 0===(r=function(t,s,n){"use strict";function r(t,e,n){this._schedule=[],this.serviceId=null,this._media=t,this._environment=e,this._echoClient=n,this._fetchData()}return r.prototype.getBroadcast=function(t){var e,n;for(e=0;e<this._schedule.length;e++)if(t<(n=this._schedule[e].published_time).end&&t>=n.start)return this._schedule[e]},r.essHost="ess.api.bbci.co.uk",r.prototype._fetchData=function(){var t,i=this;t=this._environment.getExecuteCrossDomainGet();var e=this._environment.getProtocol()+r.essHost.replace(/^(\/+)?/,"//")+"/schedules";if(this._media){if(this._media.getServiceId())e+="?serviceId="+encodeURIComponent(this._media.getServiceId());else if(this._media.getVersionId())e+="?versionId="+encodeURIComponent(this._media.getVersionId());else{if(!this._media.getVpId())return void s.info("Unable to determine serviceId, versionId or VpId for schedule");e+="?vpid="+encodeURIComponent(this._media.getVpId())}t(e,{onSuccess:function(t){i._dataSuccessHandler(t)},onError:function(t,e){var n="error";"json"===t?n="json":"object"==typeof t&&"timeout"===t.type&&(n="timeout"),i._dataErrorHandler(n,e)}})}},r.prototype.hasData=function(){return 0<this._schedule.length},r.prototype._dataSuccessHandler=function(t){var e,n,i,r,o=[];if(s.info("Cross-domain schedule request success."),t){for(this._echoClient.setEssSuccess(!0),this.serviceId=t.service.id,t.items=t.items||[],e=0;e<t.items.length;e++)i=t.items[e].published_time.start,r=t.items[e].published_time.end,(n=t.items[e]).published_time.start=new Date(i).getTime(),n.published_time.end=new Date(r).getTime(),o.push(n);this._schedule=o}},r.prototype._dataErrorHandler=function(t,e){this._schedule=[],s.error("There was a problem requesting the schedule from ESS: "+t),this._echoClient.setEssSuccess(!1),"json"===t?this._echoClient.setEssError(n.EssError.JSON,e):"timeout"===t?this._echoClient.setEssError(n.EssError.TIMEOUT,e):"error"===t&&void 0!==e?this._echoClient.setEssError(n.EssError.STATUS_CODE,e):this._echoClient.setEssError(n.EssError.RUNTIME,"0")},r}.apply(e,i))||(t.exports=r)},function(t,e,f){var n;void 0===(n=function(t){"use strict";var n=f(6),r=f(15),o=f(1),s=f(0),e=f(5),i=f(7),a=f(4),u=f(2),c=o.MediaConsumptionMode;var l=function(t,e){var n,i;this.avType=(n=t)===o.AvType.AUDIO||n===o.AvType.VIDEO?t:null,this.consumptionMode=(i=e)===c.ON_DEMAND||i===c.DOWNLOAD||i===c.LIVE?e:null,s.assert(this.avType,"Media: Invalid avType: "+this.avType,!0),s.assert(this.consumptionMode,"Media: Invalid consumptionMode: "+this.consumptionMode,!0),this.serviceIdObject=new r(o.MediaIdType.SERVICE,!0),this.versionIdObject=new r(o.MediaIdType.VERSION,!0),this.clipIdObject=new r(o.MediaIdType.CLIP,!0),this.episodeIdObject=new r(o.MediaIdType.EPISODE,!0),this.vpIdObject=new r(o.MediaIdType.VPID,!0),this.nonPipsContentIdObject=new r(o.MediaIdType.NONPIPSCONTENT,!1),this.producerObject=new r(o.MediaIdType.PRODUCER,!1),this.brandIdObject=new r(o.MediaIdType.BRAND,!1),this.seriesIdObject=new r(o.MediaIdType.SERIES,!1),this.length=0,this.bufferLength=0,this.supplier=null,this.mediaSet=null,this.transferFormat=null,this.essEnrichedData=!1,this._isPlaying=!1,this._isBuffering=!1,this._isEmbedded=!1,this.name="",this.type=o.MediaClipType.UNDEFINED,this.playlist="",this.initiationType=o.MediaInitiationType.UNDEFINED,this.adsEnabled=!1,this.mediaPlayerName="",this.mediaPlayerVersion="",this.transportMode=""};return l.prototype.isEssEnriched=function(){return!0===this.essEnrichedData},l.prototype.setEssEnriched=function(t){this.essEnrichedData=t},l.prototype.getAvType=function(){return this.avType},l.prototype.getMediaConsumptionMode=function(){return this.consumptionMode},l.prototype.getClone=function(){var t=new l(this.avType,this.consumptionMode);return t.brandIdObject=this.brandIdObject,t.seriesIdObject=this.seriesIdObject,t.serviceIdObject=this.serviceIdObject,t.versionIdObject=this.versionIdObject,t.clipIdObject=this.clipIdObject,t.episodeIdObject=this.episodeIdObject,t.vpIdObject=this.vpIdObject,t.name=this.name,t.type=this.type,t.playlist=this.playlist,t.initiationType=this.initiationType,t.adsEnabled=this.adsEnabled,t.mediaPlayerVersion=this.mediaPlayerVersion,t.mediaPlayerName=this.mediaPlayerName,t.transportMode=this.transportMode,t.nonPipsContentIdObject=this.nonPipsContentIdObject,t.producerObject=this.producerObject,t.bufferLength=this.bufferLength,t.mediaSet=this.mediaSet,t.supplier=this.supplier,t.transferFormat=this.transferFormat,t.length=this.length,t.essEnrichedData=this.essEnrichedData,t},l.prototype.isEmbedded=function(){return this._isEmbedded},l.prototype.setIsEmbedded=function(t){return this._isEmbedded=t,this},l.prototype.setVersionId=function(t){return this.versionIdObject.setValue(t),this},l.prototype.setBrandId=function(t){return this.brandIdObject.setValue(a.cleanLabelValue(e.MEDIA_BRAND,t)),this},l.prototype.setSeriesId=function(t){return this.seriesIdObject.setValue(a.cleanLabelValue(e.MEDIA_SERIES,t)),this},l.prototype.setClipId=function(t){return this.clipIdObject.setValue(t),this},l.prototype.setServiceId=function(t){return this.serviceIdObject.setValue(t),this},l.prototype.setEpisodeId=function(t){return this.episodeIdObject.setValue(t),this},l.prototype.setVpId=function(t){return this.vpIdObject.setValue(t),this},l.prototype.setNonPipsContentId=function(t){return this.nonPipsContentIdObject.setValue(a.cleanLabelValue(i.MEDIA_NON_PIPS_CONTENT_ID,t)),this},l.prototype.getSupplier=function(){return this.supplier},l.prototype.setSupplier=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.supplier=e)}return this},l.prototype.getMediaSet=function(){return this.mediaSet},l.prototype.setMediaSet=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.mediaSet=e)}return this},l.prototype.getTransferFormat=function(){return this.transferFormat},l.prototype.setTransferFormat=function(t){if(null!==t){var e=s.trim(t);0!==e.length&&(this.transferFormat=e)}return this},l.prototype.isAdsEnabled=function(){return this.adsEnabled},l.prototype.setAdsEnabled=function(t){return this.adsEnabled=t,this},l.prototype.getName=function(){return this.name},l.prototype.setName=function(t){return this.name=t,this},l.prototype.getType=function(){return this.type},l.prototype.setType=function(t){return this.type=t,this},l.prototype.getPlaylist=function(){return this.playlist},l.prototype.setPlaylist=function(t){return this.playlist=t,this},l.prototype.getInitiationType=function(){return this.initiationType},l.prototype.setInitiationType=function(t){return this.initiationType=t,this},l.prototype.getMediaPlayerName=function(){return this.mediaPlayerName},l.prototype.setMediaPlayerName=function(t){return this.mediaPlayerName=t,this},l.prototype.getMediaPlayerVersion=function(){return this.mediaPlayerVersion},l.prototype.setMediaPlayerVersion=function(t){return this.mediaPlayerVersion=t,this},l.prototype.getTransportMode=function(){return this.transportMode},l.prototype.setTransportMode=function(t){return this.transportMode=t,this},l.prototype.getLength=function(){return this.length},l.prototype.setLength=function(t){return null!=t&&(t=Math.floor(t)),(void 0===t||isNaN(t)||!isFinite(t)||t<0)&&(u.warn("Media: length must be an integer of 0 or greater. Echo will report as 0."),t=0),this.length=t,this},l.prototype.getProducer=function(){return this.producerObject.getValue()},l.prototype.setProducer=function(t){var e;return(e=t?n.getId(t):"0")&&this.producerObject.setValue(e),this},l.prototype.setProducerById=function(t){return t&&this.producerObject.setValue(t),this},l.prototype.getVersionIdObject=function(){return this.versionIdObject},l.prototype.getClipIdObject=function(){return this.clipIdObject},l.prototype.getServiceIdObject=function(){return this.serviceIdObject},l.prototype.getEpisodeIdObject=function(){return this.episodeIdObject},l.prototype.getVpIdObject=function(){return this.vpIdObject},l.prototype.getNonPipsContentIdObject=function(){return this.nonPipsContentIdObject},l.prototype.getBrandIdObject=function(){return this.brandIdObject},l.prototype.getBrandId=function(){return this.brandIdObject.getValue()},l.prototype.getSeriesIdObject=function(){return this.seriesIdObject},l.prototype.getSeriesId=function(){return this.seriesIdObject.getValue()},l.prototype.getVersionId=function(){return this.versionIdObject.getValue()},l.prototype.getClipId=function(){return this.clipIdObject.getValue()},l.prototype.getServiceId=function(){return this.serviceIdObject.getValue()},l.prototype.getEpisodeId=function(){return this.episodeIdObject.getValue()},l.prototype.getVpId=function(){return this.vpIdObject.getValue()},l.prototype.getNonPipsContentId=function(){return this.nonPipsContentIdObject.getValue()},l.prototype.getRetrievalType=function(){return null===this.consumptionMode?null:this.consumptionMode===c.DOWNLOAD?o.RetrievalType.DOWNLOAD:o.RetrievalType.STREAM},l.prototype.isOnDemand=function(){return this.consumptionMode===c.ON_DEMAND},l.prototype.isDownload=function(){return this.consumptionMode===c.DOWNLOAD},l.prototype.isLive=function(){return this.consumptionMode===c.LIVE},l.prototype.isVideo=function(){return this.avType===o.AvType.VIDEO},l.prototype.getPlayerId=function(){return"1"},l.prototype.setPlaying=function(t){return this._isPlaying=Boolean(t),this},l.prototype.getPlaying=function(){return this._isPlaying},l.prototype.setBuffering=function(t){return this._isBuffering=Boolean(t),this},l.prototype.getBuffering=function(){return this._isBuffering},l}.call(e,f,e,t))||(t.exports=n)},function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(0),n=function(t,e){this.idType=t,this.validValueRegex=/^[a-z0-9A-Z_-]+$/,this.value=null,this.isSet=!1,this.isValid=!1,this.requiresValidation=e};return n.prototype.getIdType=function(){return this.idType},n.prototype.setValue=function(t){this.isSet=!0,null==t?this.isValid=!1:this.requiresValidation?this.isValid=this._validateValue(t):this.isValid=!0,e.assert(this.isValid,"MediaId: The value for "+this.idType+"Id is invalid",!0),this.value=t},n.prototype.getValue=function(){return this.value},n.prototype.isValueSet=function(){return this.isSet},n.prototype.isValueValid=function(){return this.isValid},n.prototype._validateValue=function(t){return"string"==typeof t&&this.validValueRegex.test(t)},n}.call(e,i,e,t))||(t.exports=n)},function(t,e,i){var n;void 0===(n=function(){"use strict";var n=i(17).Promise;function t(){}return t.get=function(){if(window&&window.bbcpage){return n.all(["getDestination","getProducer","getSection","getContentId","getContentType","getLanguage","getAdditionalProperties","getName"].map(function(t){return e=t,window.bbcpage[e]&&"function"==typeof window.bbcpage[e]?window.bbcpage[e]():n.resolve(null);var e})).then(function(t){return{destination:t[0],producer:t[1],section:t[2],contentId:t[3],contentType:t[4],language:t[5],additionalProperties:t[6],pageName:t[7]}})}return n.resolve(void 0)},t}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){(function(F,j){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */
t.exports=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,r=void 0,a=function(t,e){d[i]=t,d[i+1]=e,2===(i+=2)&&(r?r(p):E())},t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==F&&"[object process]"==={}.toString.call(F),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(p,1)}}var d=new Array(1e3);function p(){for(var t=0;t<i;t+=2){var e=d[t],n=d[t+1];e(n),d[t]=void 0,d[t+1]=void 0}i=0}var h,_,g,v,E=void 0;function m(t,e){var n=this,i=new this.constructor(A);void 0===i[b]&&B(i);var r=n._state;if(r){var o=arguments[r-1];a(function(){return x(r,i,o,n._result)})}else M(n,i,t,e);return i}function y(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return w(e,t),e}E=u?function(){return F.nextTick(p)}:s?(_=0,g=new s(p),v=document.createTextNode(""),g.observe(v,{characterData:!0}),function(){v.data=_=++_%2}):l?((h=new MessageChannel).port1.onmessage=p,function(){return h.port2.postMessage(0)}):void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?f():function(){e(p)}}catch(t){return f()}}():f();var b=Math.random().toString(36).substring(2);function A(){}var S=void 0,I=1,T=2,P={error:null};function C(t){try{return t.then}catch(t){return P.error=t,P}}function O(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function N(t,e,n){var i,r,o,s;e.constructor===t.constructor&&n===m&&e.constructor.resolve===y?(o=t,(s=e)._state===I?D(o,s._result):s._state===T?R(o,s._result):M(s,void 0,function(t){return w(o,t)},function(t){return R(o,t)})):n===P?(R(t,P.error),P.error=null):void 0===n?D(t,e):c(n)?(i=e,r=n,a(function(e){var n=!1,t=O(r,i,function(t){n||(n=!0,i!==t?w(e,t):D(e,t))},function(t){n||(n=!0,R(e,t))},e._label);!n&&t&&(n=!0,R(e,t))},t)):D(t,e)}function w(t,e){var n,i;t===e?R(t,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=e),null===n||"object"!==i&&"function"!==i?D(t,e):N(t,e,C(e)))}function L(t){t._onerror&&t._onerror(t._result),U(t)}function D(t,e){t._state===S&&(t._result=e,t._state=I,0!==t._subscribers.length&&a(U,t))}function R(t,e){t._state===S&&(t._state=T,t._result=e,a(L,t))}function M(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+I]=n,r[o+T]=i,0===o&&t._state&&a(U,t)}function U(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?x(n,i,r,o):r(o);t._subscribers.length=0}}function x(t,e,n,i){var r=c(n),o=void 0,s=void 0,a=void 0,u=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return P.error=t,P}}(n,i))===P?(u=!0,s=o.error,o.error=null):a=!0,e===o)return void R(e,new TypeError("A promises callback cannot return that same promise."))}else o=i,a=!0;e._state!==S||(r&&a?w(e,o):u?R(e,s):t===I?D(e,o):t===T&&R(e,o))}var k=0;function B(t){t[b]=k++,t._state=void 0,t._result=void 0,t._subscribers=[]}var V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[b]||B(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&D(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===y){var r=C(e);if(r===m&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===G){var o=new n(A);N(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===S&&(this._remaining--,t===T?R(i,n):this._result[e]=n),0===this._remaining&&D(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;M(t,void 0,function(t){return n._settledAt(I,e,t)},function(t){return n._settledAt(T,e,t)})},t}(),G=function(){function e(t){this[b]=k++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){w(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return G.prototype.then=m,G.all=function(t){return new V(this,t).promise},G.race=function(r){var o=this;return n(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},G.resolve=y,G.reject=function(t){var e=new this(A);return R(e,t),e},G._setScheduler=function(t){r=t},G._setAsap=function(t){a=t},G._asap=a,G.polyfill=function(){var t=void 0;if(void 0!==j)t=j;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=G},G.Promise=G}()}).call(this,n(18),n(19))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function _(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i;void 0===(i=function(t){"use strict";var e=n(44).version;return{getLibraryName:function(){return"echo_js"},getLibraryVersion:function(){return e}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports=n(22)},function(t,e,n){var i,r;i=[n(23)],void 0===(r=function(t){"use strict";return window&&window.bbccookies&&t.Environment.setOrbCookies(window.bbccookies),t}.apply(e,i))||(t.exports=r)},function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(11),n=i(8);return{EchoClient:i(26),Media:i(14),MediaId:i(15),Environment:n,Enums:i(1),ConfigKeys:i(3),Debug:i(2),getImplementationVersion:function(){return e.VERSION}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){t.exports={STRICT:"strict",COUNTERNAME:"countername",EVENT_MASTER_BRAND:"event_master_brand",NO_CLEANSING:"no_cleansing",CUSTOM:"custom"}},function(t,e,n){var i;void 0===(i=function(){"use strict";return{httpGet:function(t,e,n){var i=new Image;i.onload=e,i.onerror=n,i.src=t},executeCrossDomainGet:function(t,n){var e,i,r;r=i=!1;var o=function(t,e){n.onError&&n.onError(t,e)};if(window.JSON&&window.JSON.parse&&void 0!==window.XMLHttpRequest&&"withCredentials"in(e=new XMLHttpRequest)&&(r=!0),r){try{e.open("GET",t,!0),e.onload=function(){(void 0===e.status||e.status<400)&&null!==e.responseText?function(){var t;if(n.onSuccess){try{t=window.JSON.parse(e.responseText)}catch(t){o("json")}"object"==typeof t&&setTimeout(function(){n.onSuccess(t)})}}():o(e.responseText,e.status)},e.onerror=function(t){o(t)},e.timeout=1e4,e.ontimeout=function(t){o(t)}}catch(t){s=t,i||o(s)}var s;try{e.send(null)}catch(t){i=!0,e.onload=e.onerror=e.onreadystatechange=null,e.abort(),o(t)}}else o()}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,E){var n;void 0===(n=function(t){"use strict";var u=E(2),c=E(0),l=E(3),e=E(10),n=E(6),f=E(1),i=E(27),r=E(28),o=E(7),d=E(13),p=E(9),h="sa.bbc.co.uk",_="ckpf_echo_device_id",g="ckns_echo_device_id",s=E(16),a=E(17).Promise;function v(t,e,n,i,r){var o=this;n=n||{},c.assertContainsValue(f.ApplicationType,e,'appType should be one of Enums.ApplicationType, got "'+e+'"'),this.state={counterNameSet:!1};var s,a=v.ConfigGenerator.generate(n);this._env=void 0!==i?i:new v.Environment,a&&"string"==typeof a[l.ECHO_DEVICE_ID]&&(0<(s=c.trim(a[l.ECHO_DEVICE_ID])).length?(a[l.ECHO_DEVICE_ID]=s,this._deviceId=s):a[l.ECHO_DEVICE_ID]=void 0),a&&a[l.COMSCORE_HOST]===h&&!a[l.ECHO_DEVICE_ID]&&((s=p.getCookieValueByName(g))||(s=p.getCookieValueByName(_)),s&&(this._deviceId=s,a[l.ECHO_DEVICE_ID]=s)),a&&!1===a[l.ECHO_AUTO_START]?this._autoStart=!1:this._autoStart=!0,this._setConsumers(t,e,a,this._env),a&&a[l.USE_ESS]?this._essEnabled=!0:this._essEnabled=!1,a&&a[l.ESS_HOSTNAME]&&(d.essHost=a[l.ESS_HOSTNAME]),a&&!1===a[l.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0,a&&!0===a[l.DEBUG_MODE]?u.enable():u.disable(),this._liveBroker=null,this._onDemandBroker=null,this._suppressingPlayEvent=!1,this._suppressedPlayEventLabels=null,this.addLabel("bbc_id_wait","1"),v.Environment.getOrbIdCta(function(t){o.removeLabel("bbc_id_wait"),t&&"function"==typeof t.getIStatsLabels&&o.addLabels({bbc_identity:t.getIStatsLabels().bbc_identity,bbc_hid:encodeURIComponent(t.getIStatsLabels().bbc_hid||"unidentified-user")})}),a&&a[l.ECHO_CACHE_MODE]&&(this._cacheMode=a[l.ECHO_CACHE_MODE]),this._isEnabled&&this._autoStart&&this.start().then(r)}return v.prototype.getDebugMode=function(){return u.getState()},v.prototype.start=function(){return this._isEnabled&&!this._hasStarted?(this._hasStarted=!0,s.get().then(function(t){this._delegate("start",[t]),t.pageName&&""!==t.pageName&&"orb.page"!==t.pageName&&this.setCounterName(t.pageName)}.bind(this))):a.reject()},v.prototype.enable=function(){return this._isEnabled||(this._isEnabled=!0,this._delegate("enable"),this._autoStart&&!this._hasStarted&&this.start()),this},v.prototype.disable=function(){return this._isEnabled&&(this._clearMedia(),this._isEnabled=!1,this._delegate("disable")),this},v.prototype.isEnabled=function(){return this._isEnabled},v.prototype.getComScoreDeviceId=function(){var t;return this.consumers[v.Consumers.COMSCORE]&&(t=this.consumers[v.Consumers.COMSCORE])instanceof v.ComScoreDelegate&&"function"==typeof t.getDeviceId?t.getDeviceId():null},v.prototype.getAtiDeviceId=function(){var t;return this.consumers[v.Consumers.ATI]&&(t=this.consumers[v.Consumers.ATI])instanceof v.AtiDelegate&&"function"==typeof t.getDeviceId?t.getDeviceId():null},v.prototype.setTraceId=function(t){this._delegate("setTraceId",[t])},v.ConfigGenerator=E(29),v.LabelCleanser=E(4),v.Util=E(0),v.ComScoreDelegate=E(30),v.SpringDelegate=E(36),v.AtiDelegate=E(40),v.Environment=E(8),v.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},v.prototype._setConsumers=function(t,e,n,i){this.consumers={};var r=v.LabelCleanser.cleanLabelValue("app_name",t);return n&&n[l.COMSCORE_ENABLED]&&(this.consumers[v.Consumers.COMSCORE]=new v.ComScoreDelegate(r,e,n,i)),n&&n[l.ATI_ENABLED]&&(this.consumers[v.Consumers.ATI]=new v.AtiDelegate(r,e,n,i)),n&&n[l.BARB_ENABLED]&&(this.consumers[v.Consumers.BARB]=new v.SpringDelegate(r,e,n,i)),this},v.prototype._delegate=function(t,e,n){var i,r,o=[];for(i in this.consumers)i&&(r=this.consumers[i],n&&r.requiresLabelCleansing()?o.push(r[t].apply(r,n)):o.push(r[t].apply(r,e)));return a.all(o)},v.prototype.addLabels=function(t){return this._delegate("addLabels",[v.LabelCleanser.cleanLabels(t)]),this},v.prototype.addLabel=function(t,e){if("string"==typeof t){if(null!=e){var n={};return n[t]=e,this.addLabels(n)}u.error("Label cannot be null/undefined")}else u.error("Label key must be a string")},v.prototype.addManagedLabel=function(t,e){return this._delegate("addManagedLabel",[v.LabelCleanser.cleanLabelKey(t),v.LabelCleanser.cleanLabelValue(t,e)]),this},v.prototype.removeLabels=function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(v.LabelCleanser.cleanLabelKey(t[n]));return this._delegate("removeLabels",[e]),this},v.prototype.removeLabel=function(t){return this.removeLabels([t])},v.prototype.setLoggedInToBBCId=function(t){return this._delegate("setLoggedInToBBCId",[t]),this},v.prototype.setLoggedOutOfBBCId=function(){return this._delegate("setLoggedOutOfBBCId"),this},v.prototype.setAppVersion=function(t){return this._delegate("setAppVersion",[t]),this},v.prototype.setDestination=function(t){return this._delegate("setDestination",[e.get(t)]),this},v.prototype.setProducer=function(t){var e;return(e=t?n.getId(t):"0")?this._delegate("setProducer",[e]):u.info("Producer ["+t+"] not recognised"),this},v.prototype.setProducerById=function(t){return t=t&&n.hasId(t)?parseInt(t,10):n.BBC,this._delegate("setProducer",[t]),this},v.prototype.setCounterName=function(t){var e=v.LabelCleanser.cleanCounterName(t),n=this._delegate("setCounterName",[t],[e]);return this.state.counterNameSet=!0,n},v.prototype.setContentLanguage=function(t){return this._delegate("setContentLanguage",[t]),this},v.prototype.setCacheMode=function(t){return this._delegate("setCacheMode",[t]),this._cacheMode=t,this},v.prototype.getCacheMode=function(){return this._cacheMode},v.prototype.clearCache=function(){this._isEnabled&&this._delegate("clearCache")},v.prototype.flushCache=function(){this._isEnabled&&this._delegate("flushCache")},v.prototype.viewEvent=function(t,e){if(this._eventsEnabled()){var n=v.LabelCleanser.cleanCounterName(t),i=v.LabelCleanser.cleanLabels(e);this.consumers[v.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0);var r=this._delegate("viewEvent",[t,e],[n,i]);return this.state.counterNameSet=!0,this.consumers[v.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),r}},v.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled())return this.state.counterNameSet?(this._delegate("userActionEvent",[t,e,v.LabelCleanser.cleanLabels(n)]),this.consumers[v.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0)):u.error("userActionEvent not available before a call to viewEvent (to set counter name)."),this},v.prototype.errorEvent=function(t,e){if(this._eventsEnabled())return this._delegate("errorEvent",[t,v.LabelCleanser.cleanLabels(e)]),this},v.prototype.setPlayerName=function(t){c.assert("string"==typeof t&&0<t.length,'setPlayerName: name must be string with length, got "'+t+'"');var e=v.LabelCleanser.cleanLabelValue("player_name",t);return this._delegate("setPlayerName",[t],[e])},v.prototype.setPlayerVersion=function(t){c.assert("string"==typeof t&&0<t.length,'setPlayerVersion: version must be string with length, got "'+t+'"');var e=v.LabelCleanser.cleanLabelValue("player_version",t);return this._delegate("setPlayerVersion",[t],[e])},v.prototype.setPlayerIsPopped=function(t){return c.assert("boolean"==typeof t,'setPlayerIsPopped: isPopped must be boolean, got "'+t+'"'),this._delegate("setPlayerIsPopped",[t]),this},v.prototype.setPlayerWindowState=function(t){return c.assertContainsValue(f.WindowState,t,'The window state must be set as a member of Enums.WindowState, got "'+t+'"'),this._delegate("setPlayerWindowState",[t]),this},v.prototype.setPlayerVolume=function(t){return c.assert(t<=100&&0<=t,"volume must be 0-100, got: "+t),t<=100&&0<=t&&this._delegate("setPlayerVolume",[t]),this},v.prototype.setPlayerIsSubtitled=function(t){return c.assert("boolean"==typeof t,'setPlayerIsSubtitled: isSubtitled must be a boolean, got "'+t+'"'),this._delegate("setPlayerIsSubtitled",[t]),this},v.prototype.setPlayerDelegate=function(t){t=t||{};var e,n,i,r=["getTimestamp","getPosition"],o=!1;for(n=0;n<r.length;n++)e=r[n],i=t.hasOwnProperty(e)&&"function"==typeof t[e],c.assert(i,'The player delegate must implement "'+e+'"'),i||(o=!0);return o||(this._playerDelegate=t),this},v.prototype.setMedia=function(t){if(this._eventsEnabled()){this._clearMedia();var e=t.getClone();if(this.state.counterNameSet){this.media=e,this.addLabel(o.ESS_ENABLED,this._essEnabled?"true":"false");var n=f.MediaConsumptionMode.LIVE;this.media.getMediaConsumptionMode()===n?this._initLiveBroker():this._initOnDemandBroker(),this._delegate("setMedia",[this.media])}else u.error("setMedia: Must have a countername set or view event sent first")}},v.prototype.liveMediaUpdate=function(t,e,n){this._eventsEnabled()&&this._avEventsEnabled()&&t&&(this._suppressingPlayEvent=!1,this.media=t,this._delegate("liveMediaUpdate",[t,e,n]))},v.prototype.setMediaLength=function(t){return this.media?this.media.isOnDemand()?"number"!=typeof(t=this._cleanPosition(t))?u.error("setMediaLength: Length must be a positive number"):(this._delegate("setMediaLength",[t]),this.media.setLength(t)):u.error("setMediaLength: Length should be set to zero prior to passing the media object to Echo for live media"):u.error("setMediaLength: Must call setMedia first"),this},v.prototype.setMediaBitrate=function(){},v.prototype.setMediaCodec=function(){},v.prototype.setMediaCDN=function(){},v.prototype.setEssSuccess=function(t){this.addLabel(o.ESS_SUCCESS,t?"true":"false")},v.prototype.setEssError=function(t,e){this.addLabel(o.ESS_ERROR,t.toString().toLowerCase()),t.toString()===f.EssError.STATUS_CODE.toString()&&this.addLabel(o.ESS_STATUS_CODE,e),this._delegate("liveEnrichmentFailed")},v.prototype._avEventsEnabled=function(){return c.assert(Boolean(this.media),"setMedia() must be called prior to this method",!0)&&c.assert(Boolean(this._playerDelegate),"setPlayerDelegate not called or not configured correctly",!0)},v.prototype.getLiveBroker=function(){return this._liveBroker},v.prototype._initLiveBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()===f.MediaConsumptionMode.LIVE&&(this._liveBroker=new i(this._playerDelegate,this.media,this,this._env,this._essEnabled),this._delegate("setBroker",[this._liveBroker]))},v.prototype.getOnDemandBroker=function(){return this._onDemandBroker},v.prototype._initOnDemandBroker=function(){this._avEventsEnabled()&&this.media.getMediaConsumptionMode()!==f.MediaConsumptionMode.LIVE&&(this._onDemandBroker=new r(this._playerDelegate,this.media,this),this._delegate("setBroker",[this._onDemandBroker]))},v.prototype._cleanPosition=function(t){return null!=t&&(t=Math.floor(t)),(void 0===t||isNaN(t)||!isFinite(t)||t<0)&&(t=0),t},v.prototype.avPlayEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled()){var n=this.media.isLive();if(this._isPlaying=!0,n&&this._liveBroker)t=this._liveBroker.getPosition(),this._liveBroker.start();else if(!n&&this._onDemandBroker){if(t=this._cleanPosition(t),this._previousPlayPosition=t,this._positionExceedsMediaLength(t))return;this._onDemandBroker.setPosition(t),this._onDemandBroker.start()}return n&&this.media.isEssEnriched()&&this._suppressingPlayEvent?this._suppressedPlayEventLabels=e:(this._delegate("avPlayEvent",[t,v.LabelCleanser.cleanLabels(e)]),this.media.setBuffering(!1),this.media.setPlaying(!0)),this.consumers[v.Consumers.COMSCORE]&&(this.state.comscoreEventSent=!0),this}},v.prototype._avNavigationEvent=function(t,e,n,i){this._avEventsEnabled()&&(this._isPlaying=!1,this.media.isLive()?(this._liveBroker&&(this._liveBroker.stop(),e=this._liveBroker.getPosition()),this.media.isEssEnriched()&&!this._suppressingPlayEvent&&(this._suppressingPlayEvent=!0)):this._onDemandBroker&&(e=this._cleanPosition(e),e=this._preventPositionExceedingMediaLength(e),this._onDemandBroker.stop()),"avRewindEvent"===t||"avFastForwardEvent"===t?this._delegate(t,[e,i,v.LabelCleanser.cleanLabels(n)]):this._delegate(t,[e,v.LabelCleanser.cleanLabels(n)]))},v.prototype.avPauseEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avPauseEvent",t,e),this},v.prototype.avBufferEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avBufferEvent",t,e),this.media.setBuffering(!0),this},v.prototype.avEndEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this.media.setPlaying(!1),this._avNavigationEvent("avEndEvent",t,e),this.media=null,this},v.prototype.avRewindEvent=function(t,e,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avRewindEvent",t,n,e),this},v.prototype.avFastForwardEvent=function(t,e,n){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avFastForwardEvent",t,n,e),this},v.prototype.avSeekEvent=function(t,e){if(this._eventsEnabled()&&this._avEventsEnabled())return this._avNavigationEvent("avSeekEvent",t,e),this},v.prototype.avUserActionEvent=function(t,e,n,i){if(this._eventsEnabled()&&this._avEventsEnabled()){n=this._liveBroker?this._liveBroker.getPosition():(n=this._cleanPosition(n),this._preventPositionExceedingMediaLength(n));var r=v.LabelCleanser.cleanLabels(i);return this._delegate("avUserActionEvent",[t,e,n,r]),this}},v.prototype.releaseSuppressedPlay=function(){if(this._eventsEnabled()&&this._avEventsEnabled())return this._suppressingPlayEvent&&(this._suppressingPlayEvent=!1,this.avPlayEvent(this._liveBroker.getPosition(),this._suppressedPlayEventLabels)),this},v.prototype._clearMedia=function(){this.removeLabel(o.MEDIA_TIMESTAMP),this.removeLabel(o.ESS_ENABLED),this.removeLabel(o.ESS_ENRICHED),this.removeLabel(o.ESS_SUCCESS),this.removeLabel(o.ESS_ERROR),this.removeLabel(o.ESS_STATUS_CODE),null!==this.media&&(this.media=null),this._liveBroker instanceof i&&(this._liveBroker.stop(),this._liveBroker=null),this._onDemandBroker instanceof r&&(this._onDemandBroker.stop(),this._onDemandBroker=null),this._isPlaying=void 0,this._previousPlayPosition=void 0},v.prototype._positionExceedsMediaLength=function(t){return!!(this.media&&0<this.media.length&&t>=this.media.length-1e3)},v.prototype._preventPositionExceedingMediaLength=function(t){return this._positionExceedsMediaLength(t)?this.media.length:t},v.Consumers={COMSCORE:1,BARB:2,ATI:4},v}.call(e,E,e,t))||(t.exports=n)},function(t,e,n){var i,r;i=[n(12),n(7),n(13),n(14)],void 0===(r=function(o,u,s,a){"use strict";var c="no-broadcast";function t(t,e,n,i,r){this._playerDelegate=t,this._playhead=new o,this._isStarted=!1,this._interval=null,this._echoClient=n,this._broadcast=c,this._playerDelegateTimestamp=0,this._previousPosition=0,this._playingTime=0,this._media=e,this._environment=i,this._essEnabled=r,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._isRecievingPlayerTimestamp=!1,this._updateTime=0,this._essEnabled&&(this._schedule=new s(e,i,n))}return t.prototype.start=function(){var t=this;this._isStarted||(this._interval=setInterval(function(){t._update()},1e3),this._isStarted=!0,this._isRecievingPlayerTimestamp||this._playhead.start())},t.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},t.prototype._update=function(){var t,e=parseInt(this._playerDelegate.getTimestamp(),10),n=!1,i=!1,r=!1,o=this.getTimestamp(),s=new Date,a=(s=s.getTime())-this._updateTime;this._updateTime=s,"number"==typeof e&&0<e&&(i=!0,this._isRecievingPlayerTimestamp=!0,this._playerDelegateTimestamp!==e&&(n=!0,this._echoClient.addLabel(u.MEDIA_TIMESTAMP,e)),t=e-o,i&&(0===this._playerDelegateTimestamp||t<0-a-1500||a+1500<t)&&(r=!0,this._playerDelegateTimestamp=e,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),o=this.getTimestamp())),r||(0!==this._playerDelegateTimestamp&&!n||this._isRecievingPlayerTimestamp&&!i?this._playhead.stop():this._playhead.start()),this._updateSchedule(o)?(this._playingTime=0,this._playerDelegateTimestamp=e,this._restartPlayhead(),this._hb3NotSentYet=!0,this._hb5NotSentYet=!0):n&&this._echoClient.releaseSuppressedPlay(),this._updateHeartbeats(),this._previousPosition=this.getPosition()},t.prototype._updateSchedule=function(t){var e,n,i,r,o=!1;return this._essEnabled&&this._schedule.hasData()&&0<t&&(e=this._schedule.getBroadcast(t),(r=new a(this._media.getAvType(),this._media.getMediaConsumptionMode())).setServiceId(this._schedule.serviceId),r.setTransportMode(this._media.getTransportMode()),r.setMediaPlayerName(this._media.getMediaPlayerName()),r.setMediaPlayerVersion(this._media.getMediaPlayerVersion()),e||this._broadcast===c?!e||this._broadcast!==c&&e.version.id===this._broadcast.version.id||(i=(n=(this._broadcast=e).published_time).end-n.start,r.setEssEnriched(!0),r.setVersionId(e.version.id),r.setLength(i),e.episode&&e.episode.id&&r.setEpisodeId(e.episode.id),this._updateMedia(r),o=!0):(this._broadcast=c,this._updateMedia(r),o=!0)),o},t.prototype._updateHeartbeats=function(){var t,e;this._broadcast!==c&&(this._hb3NotSentYet||this._hb5NotSentYet)&&(t=this._playingTime+this._playhead.getPosition(),e=this.getPosition(),3e3<=t&&this._hb3NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",e),this._hb3NotSentYet=!1),5e3<=t&&this._hb5NotSentYet&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",e),this._hb5NotSentYet=!1))},t.prototype._updateMedia=function(t){var e=this.getPosition();this._echoClient.liveMediaUpdate(t,e,this._previousPosition),this._previousPosition=e},t.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},t.prototype.getPosition=function(){return this._broadcast&&this._broadcast!==c?this._playerDelegateTimestamp-this._broadcast.published_time.start+this._playhead.getPosition():this._playhead.getPosition()},t.prototype.getTimestamp=function(){return this._playerDelegateTimestamp+this._playhead.getPosition()},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(12)],void 0===(r=function(i){"use strict";function t(t,e,n){this._playerDelegate=t,this._media=e,this._echoClient=n,this._playhead=new i,this._isStarted=!1,this._interval=null,this._playerDelegatePosition=0,this._playingTime=0,this._currentIntervalMaxPosition=0,this._hb3NotSentYet=!0,this._hb5NotSentYet=!0,this._previousPlayingTime=0}return t.prototype.setPlayhead=function(t){this._playhead=t},t.prototype.start=function(){var t=this;this._isStarted||(this._interval=setInterval(function(){t._update()},1e3),this._isStarted=!0,this._playhead.start())},t.prototype.stop=function(){clearInterval(this._interval),this._playhead.stop(),this._isStarted=!1},t.prototype.setPosition=function(t){"number"==typeof t&&0<=t&&!this.arePositionsWithinTolerance(this.getPosition(),t)&&(this._playerDelegatePosition=t,this._playingTime+=this._playhead.getPosition(),this._restartPlayhead(),this._currentIntervalMaxPosition=t)},t.prototype.getCurrentIntervalMaxPosition=function(){return this._currentIntervalMaxPosition},t.prototype._update=function(){var t=parseInt(this._playerDelegate.getPosition(),10),e=this.getPosition(),n=this._playingTime+this._playhead.getPosition(),i=Math.abs(n-(this._previousPlayingTime||n));this._previousPlayingTime=n,"number"==typeof t&&t!==this._playerDelegatePosition&&0<t&&(0!==this._playerDelegatePosition&&this.arePositionsWithinTolerance(t,e)||(this._playerDelegatePosition=t,e=this._playerDelegatePosition,this._restartPlayhead())),e>this._currentIntervalMaxPosition&&(this._currentIntervalMaxPosition=e),3e3<=n&&this._hb3NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_3",e),this._hb3NotSentYet=!1),5e3<=n&&this._hb5NotSentYet&&i<1500&&(this._echoClient.avUserActionEvent("echo_hb","echo_hb_5",e),this._hb5NotSentYet=!1),0<this._media.length&&e>=this._media.length&&this._echoClient.avPauseEvent(this._media.length,{echo_pause_at_media_length:1})},t.prototype._restartPlayhead=function(){this._playhead.reset(),this._playhead.start()},t.prototype.getPosition=function(){var t=this._playhead.getPosition();return this._playerDelegatePosition+t},t.prototype.getTimestamp=function(){return 0},t.prototype.arePositionsWithinTolerance=function(t,e){var n=t-e;return-1500<=n&&n<=1500},t}.apply(e,i))||(t.exports=r)},function(t,e,i){var n;void 0===(n=function(t){"use strict";var a=i(2),n=i(1),u=i(0),e=i(11),c=i(3),l={};l[c.ECHO_ENABLED]=!0,l[c.ECHO_AUTO_START]=!0,l[c.ECHO_DEVICE_ID]=null,l[c.REPORTING_PROFILE]="PUBLIC_SERVICE",l[c.ECHO_CACHE_MODE]="OFFLINE",l[c.COMSCORE_ENABLED]=!1,l[c.ATI_ENABLED]=!0,l[c.BARB_ENABLED]=!1,l[c.BARB_DEBUG]=!1,l[c.BARB_SITE_CODE]="bbcdotcom",l[c.TEST_SERVICE_ENABLED]=!1,l[c.USE_ESS]=!1,l[c.ESS_HOSTNAME]="ess.api.bbci.co.uk",l[c.USE_SSC]=!1,l[c.SSC_HOSTNAME]=null;var f={};function d(t){return"string"==typeof t&&0<t.length}function p(t){return"string"==typeof(e=t[c.ECHO_CACHE_MODE])&&(e=e.toUpperCase(),n.EchoCacheMode.hasOwnProperty(e))?u.assert("boolean"==typeof t[c.ECHO_ENABLED],'Config: "enabled" must be boolean, got '+t[c.ECHO_ENABLED])&&u.assert("boolean"==typeof t[c.ECHO_AUTO_START],'Config: "auto_start" must be boolean, got '+t[c.ECHO_AUTO_START])&&u.assert(null===t[c.ECHO_DEVICE_ID]||"string"==typeof t[c.ECHO_DEVICE_ID]&&t[c.ECHO_DEVICE_ID].length,"ECHO.DEVICE_ID must be an non-empty string"):(a.error("Config Error: KEYS.ECHO_CACHE_MODE Invalid cache mode specified"),!1);var e}function h(t){if(!1===t[c.COMSCORE_ENABLED])return!0;if(!d(t[c.REPORTING_PROFILE])){if(!d(t[c.COMSCORE_HOST]))return a.error("Config Error: Must have config value for COMSCORE_HOST or REPORTING_PROFILE"),!1;if("scorecardresearch.com"!==t[c.COMSCORE_HOST]&&"sa.bbc.co.uk"!==t[c.COMSCORE_HOST])return a.error("Config Error: KEYS.COMSCORE_HOST Should be one of scorecardresearch.com or sa.bbc.co.uk"),!1}return"string"==typeof(e=t[c.REPORTING_PROFILE])&&(e=e.toUpperCase(),n.ReportingProfiles.hasOwnProperty(e))?u.assert("boolean"==typeof t[c.COMSCORE_ENABLED],'ComScore config: "ENABLED" must be boolean'):(a.error("Config Error: KEYS.REPORTING_PROFILE Invalid reporting profile specified"),!1);var e}function _(t){return"string"==typeof t&&(t=t.toUpperCase(),n.ReportingProfiles.hasOwnProperty(t))?n.ReportingProfiles[t]:null}function g(t){return"string"==typeof t&&(t=t.toUpperCase(),n.EchoCacheMode.hasOwnProperty(t))?n.EchoCacheMode[t]:null}return f[c.ECHO_NAME]=e.NAME,f[c.ECHO_VERSION]=e.VERSION,{defaultConfig:l,fixedConfig:f,generate:function(t){var e,n;(t=t||{})[c.REPORTING_PROFILE]&&(e=_(t[c.REPORTING_PROFILE])),e||(e=_("PUBLIC_SERVICE")),t[c.ECHO_CACHE_MODE]&&(n=g(t[c.ECHO_CACHE_MODE])),n||(n=g("OFFLINE"));var i,r,o,s=u.extend(l,!0,e,t||{},f);return p(s)&&h(s)&&(!1===(o=s)[c.BARB_ENABLED]||(d(o[c.BARB_SITE_CODE])?o[c.BARB_SITE_CODE].match(/[a-zA-Z]+/)?"boolean"==typeof o[c.BARB_DEBUG]||(a.error("Config Error: KEYS.BARB_DEBUG must be a boolean"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must match [a-zA-Z]"),0):(a.error("Config Error: KEYS.BARB_SITE_CODE must have a value"),0)))&&(r=(i=s)[c.SSC_HOSTNAME],"boolean"!=typeof i[c.USE_SSC]?(a.error("Config Error: KEYS.USE_SSC must be boolean"),0):null===r||".com"===r||".co.uk"===r||(a.error("Config Error: SSC_HOSTNAME must be one of .com, .co.uk or null"),0))?s:null}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,l){var n;void 0===(n=function(t){"use strict";var h=l(7),_=l(3),e=l(31),g=l(8),v=l(0),r=l(32),E=l(1),m="invalid-data",n=l(33),y=l(9),o="sa.bbc.co.uk/bbc",b="scorecardresearch.com",A=[E.ApplicationType.WEB,E.ApplicationType.MOBILE_WEB,E.ApplicationType.RESPONSIVE],i=[h.NO_COOKIES],s=["ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_st","ns_st_pu"];function a(){return-1}function S(t,e,n){return t===b?(i=e)+"//"+("https:"===i?"s":"")+"b."+b+"/p?":e+"//"+o+"/"+n+"/s";var i}function d(t){return null===t?m:t}function p(t){return null!==t&&t.isValueValid()?t.getValue():m}function I(t){var e=t.getMediaConsumptionMode(),n=t.getServiceIdObject(),i=t.getVersionIdObject(),r=t.getClipIdObject(),o=t.getEpisodeIdObject(),s=t.getVpIdObject(),a=t.getNonPipsContentIdObject();return e===E.MediaConsumptionMode.LIVE&&!0===t.isEssEnriched()&&i.isValueValid()?i:e===E.MediaConsumptionMode.LIVE&&n.isValueValid()?n:a.isValueValid()?a:i.isValueValid()?i:r.isValueValid()?r:o.isValueValid()?o:s.isValueValid()?s:n.isValueValid()?n:null}function u(t){var e={},n=I(t),i=d(t.getAvType()),r=d(t.getLength()),o=d(t.getRetrievalType());e[h.MEDIA_PART_NUMBER]=1,e[h.MEDIA_TOTAL_PARTS]=1,e[h.MEDIA_LENGTH]=r,e[h.MEDIA_MEDIUM]=i,e[h.MEDIA_RETRIEVAL_TYPE]=o,null===t.getMediaConsumptionMode()?(e[h.MEDIA_STREAM_TYPE]=m,e[h.MEDIA_LIVE_OR_ONDEMAND]=m):t.isLive()||i!==m?t.isOnDemand()||t.isDownload()?(e[h.MEDIA_STREAM_TYPE]=t.isVideo()?"vod":"aod",e[h.MEDIA_LIVE_OR_ONDEMAND]="on-demand"):(t.isEssEnriched()?e[h.ESS_ENRICHED]="true":(e[h.ESS_ENRICHED]="false",e[h.MEDIA_IS_LIVE]="1"),e[h.MEDIA_STREAM_TYPE]="live",e[h.MEDIA_LIVE_OR_ONDEMAND]="live"):e[h.MEDIA_STREAM_TYPE]=m;var s=t.getVersionIdObject(),a=t.getServiceIdObject(),u=t.getClipIdObject(),c=t.getEpisodeIdObject(),l=t.getNonPipsContentIdObject();if(e[h.MEDIA_PID]=p(n),t.isLive()&&!t.getServiceId()&&!1===t.isEssEnriched()&&(t.getVersionId()||t.getVpId())){var f=t.getVersionId()||t.getVpId();e[h.MEDIA_PID]="unverified_"+f}return l.isValueSet()&&(e[h.MEDIA_NON_PIPS_CONTENT_ID]=p(l)),s.isValueSet()&&(e[h.MEDIA_VERSION_ID]=p(s)),a.isValueSet()&&(e[h.MEDIA_SERVICE_ID]=p(a)),u.isValueSet()&&(e[h.MEDIA_CLIP_ID]=p(u)),c.isValueSet()&&(e[h.MEDIA_EPISODE_ID]=p(c)),function(t){var e=I(t),n=t.getVersionIdObject(),i=t.getEpisodeIdObject(),r=t.getClipIdObject();if(null!==e){var o=e.getIdType();if(t.isLive()){if(o===E.MediaIdType.SERVICE||t.isEssEnriched())return!1}else{if(!(o!==E.MediaIdType.SERVICE||n.isValueSet()||i.isValueSet()||r.isValueSet()))return!0;if(o!==E.MediaIdType.VPID)return!1}}return!0}(t)&&(e[h.MEDIA_AMBIGUOUS_ID]="1"),e}function T(t,e,n,i){var r,o,s,a,u,c,l,f,d,p=n[_.COMSCORE_SITE];this._deviceId=null,this._broker=null,this.media=null,this.SSPlayerEvent=T.StreamSense.PlayerEvents,this.SSPlayerState=T.StreamSense.InternalStates,this._clips=[],this._isEnabled=!0,this._hasStartedAppTag=!1,this._hasCreatedAsset=!1,this._storedAssetLabels={},u=n[_.COMSCORE_HOST],p=n[_.COMSCORE_SITE],this.useSsc=!0===n[_.USE_SSC]&&"sa.bbc.co.uk"!==u,this._deviceId=n[_.ECHO_DEVICE_ID]||void 0,!0!==this.useSsc||this._deviceId||(l=T._createSscHelper({forceBBCHost:n[_.SSC_HOSTNAME]}),this._deviceId=l.getCookieId()),v.containsValue(E.ApplicationType,e)||(e=m),r=S(u,i.getProtocol(),p),!0!==this.useSsc||this._deviceId||(r=l.getLocation().protocol+"//"+l.getSSCHostname()),!0===n[_.TEST_SERVICE_ENABLED]&&(s=r,r=n[_.TEST_SERVICE_URL]+"/comscore",this._isUsingComscoreOTTLibrary&&(o=n[_.TEST_SERVICE_URL]+"/offline")),this._isApp=!v.containsValue(A,e),c=i.getHttpGet(),a=u===b,this._isUsingComscoreOTTLibrary=!(!T.AppTag||!T.AppTag.ns_),this._isUsingComscoreOTTLibrary?(this.appTag=T.AppTag.ns_.comScore,this.appTag.setPlatformAPI(T.AppTag.ns_.PlatformAPIs.html5),c&&(this.appTag.getPlatformAPI().httpGet=c),this.appTag.setPublisherSecret(n[_.COMSCORE_PUBLISHER_SECRET]),this.appTag.setAppContext()):this.appTag=new T.AppTag(c||g._defaultHttpGet,this._isApp,a),this.ss=new T.StreamSense.StreamingAnalytics({liveEndpointURL:r,systemClockJumpDetection:!0}),c&&(this.ss.getPlatformAPI().httpGet=c),a&&(this.appTag.setCustomerC2(n[_.COMSCORE_CUSTOMER_ID]),this.ss.setLabel(h.COMSCORE_CUSTOMER,n[_.COMSCORE_CUSTOMER_ID]),this.addLabel(h.COMSCORE_C1,"2"),this.addLabel(h.COMSCORE_SITE,p)),this.appTag.setPixelURL(r),this._deviceId?this.addLabel(h.DEVICE_ID,this._deviceId):this.useSsc||"sa.bbc.co.uk"!==u||(this._deviceId=y.getCookieValueByName("s1")),!0===n[_.TEST_SERVICE_ENABLED]&&(this.addLabel(h.COMSCORE_ENDPOINT,s),this._isUsingComscoreOTTLibrary&&this.appTag.setOfflineURL(o)),this.addLabel(h.BBC_APPLICATION_NAME,t),this.addLabel(h.BBC_APPLICATION_TYPE,e),this.setCacheMode(n[_.ECHO_CACHE_MODE]),this.addLabel(h.BBC_MEASUREMENT_LIB_NAME,n[_.ECHO_NAME]),this.addLabel(h.BBC_MEASUREMENT_LIB_VERSION,n[_.ECHO_VERSION]),this._isApp?(this._isUsingComscoreOTTLibrary?this.appTag.setAppName(t):this.addLabel(h.APP_NAME,t),this.addLabel(h.APP_PLATFORM_NAME,i.getPlatformName()),this.addLabel(h.APP_PLATFORM_RUNTIME,i.getPlatformRuntimeEnvironment()),this.addLabel(h.APP_OS_VERSION,i.getPlatformOSVersion()),this.addLabel(h.APP_DEVICE_NAME,i.getDeviceName()),this.addLabel(h.APP_SCREEN_RESOLUTION,i.getScreenResolution()),this.addLabel(h.APP_LANGUAGE,i.getLanguage())):this.addLabel(h.WEB_SCREEN_RES,i.getScreenResolution()),this.addLabel(h.ENV_CHAR_SET,i.getCharSet()),this.addLabel(h.ENV_TITLE,i.getTitle()),this.addLabel(h.ENV_REFERRER,i.getReferrer()),-1===i.getURL().indexOf("file:",0)&&this.addLabel(h.ENV_URL,i.getURL()),n[_.ECHO_TRACE]&&this.setTraceId(n[_.ECHO_TRACE]),(f=g.getOrbCookiesPolicy())&&(d="ad"+(f.ads?"1":"0")+"ps"+(f.personalisation?"1":"0")+"pf"+(f.performance?"1":"0"),this.addLabel(h.COOKIE_POLICY,d)),this.addLabel(E.ManagedLabels.BBC_SITE,m),this._mediaIsLive=null,n&&!1===n[_.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}T.prototype.start=function(){this._isEnabled&&!this._hasStartedAppTag&&(this.appTag.start(),this._hasStartedAppTag=!0)},T.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},T.prototype.disable=function(){this._isEnabled&&(this.clearMedia(),this._isEnabled=!1)},T.prototype.getDeviceId=function(){return this._deviceId},T.prototype._buildStreamSenseClip=function(t){var e,n=u(t),i=n[h.MEDIA_PID];for(e=0;e<this._clips.length;e++)if(this._clips[e][h.MEDIA_PID]===i)return this._clips[e];return n[h.MEDIA_CLIP_NUMBER]=this._clips.length+1,this._clips.push(n),n},T.prototype.setTraceId=function(t){this.addLabel(_.ECHO_TRACE,t)},T._createSscHelper=function(t){return new n(t||{})},T.StreamSense=l(34),T.AppTag=l(35);var c="<"+i.join("><")+">";return T.prototype._isExcludedLabel=function(t){return!0===this.useSsc&&!!c.match(new RegExp("<"+t+">"))},T.prototype.addLabels=function(t){if("object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&this.addLabel(e,t[e])},T.prototype.addLabel=function(t,e){!0!==this._isExcludedLabel(t)&&(this.appTag.setLabel(t,e),-1<s.indexOf(t)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(t,e):this._storedAssetLabels[t]=e:this.ss.setLabel(t,e))},T.prototype.addManagedLabel=function(t,e){var n=r.isValidManagedLabel(t,e)?e:m;for(var i in E.ManagedLabels)E.ManagedLabels[i]===t&&this.addLabel(t,n)},T.prototype.removeLabels=function(t){for(var e=0,n=t.length;e<n;e++)this.removeLabel(t[e])},T.prototype.removeLabel=function(t){this.appTag.setLabel(t,null),-1<s.indexOf(t)?this._hasCreatedAsset?this.ss.getPlaybackSession().getAsset().setLabel(t,null):delete this._storedAssetLabels[t]:this.ss.setLabel(t,null)},T.prototype.setLoggedInToBBCId=function(t){this.addLabel(h.BBC_ID_LOGGED_IN,"1"),t&&0<t.length?this.addManagedLabel(E.ManagedLabels.BBC_HASHED_ID,t):this.removeLabel(E.ManagedLabels.BBC_HASHED_ID)},T.prototype.setLoggedOutOfBBCId=function(){this.removeLabels([h.BBC_ID_LOGGED_IN,E.ManagedLabels.BBC_HASHED_ID])},T.prototype.setAppVersion=function(t){"function"==typeof this.appTag.setAppVersion?this.appTag.setAppVersion(t):t&&this._isApp?this.addLabel(h.APP_VERSION,t.toString()):t&&this.addLabel(h.BBC_APPLICATION_VERSION,t.toString())},T.prototype.setCounterName=function(t){this._isEnabled&&this.addLabel(h.BBC_COUNTER_NAME,t)},T.prototype.setDestination=function(t){this.addLabel(h.DESTINATION,t)},T.prototype.setProducer=function(t){this.addLabel(h.PRODUCER,t)},T.prototype.setContentLanguage=function(t){this.addLabel(h.BBC_LANGUAGE,t)},T.prototype.setCacheMode=function(t){if(this._isUsingComscoreOTTLibrary&&t!==this._cacheMode){switch(t){case E.EchoCacheMode.ALL:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.NEVER),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.NEVER);break;case E.EchoCacheMode.OFFLINE:this.appTag.allowLiveTransmission(this.appTag.TransmissionMode.DEFAULT),this.appTag.allowOfflineTransmission(this.appTag.TransmissionMode.DEFAULT)}this._cacheMode=t}},T.prototype.flushCache=function(){this._isUsingComscoreOTTLibrary&&this.appTag.flushCache()},T.prototype.clearCache=a,T.prototype.viewEvent=function(t,e){if(this._eventsEnabled()){this.addLabel(h.BBC_COUNTER_NAME,t);var n=v.extend(e,!0,h.ECHO_EVENT_NAME,"view");n.name=t,this.appTag.view(n)}},T.prototype.errorEvent=a,T.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled()){var i=v.extend(n,!0,h.USER_ACTION_TYPE,t,h.USER_ACTION_NAME,e,h.ECHO_EVENT_NAME,"userAct");this.appTag.hidden(i)}},T.prototype.setPlayerName=function(t){this.addLabel(h.PLAYER_NAME,t)},T.prototype.setPlayerVersion=function(t){this.addLabel(h.PLAYER_VERSION,t)},T.prototype.setPlayerIsPopped=function(t){this.ss.setLabel(h.PLAYER_POPPED,t?1:0)},T.prototype.setPlayerWindowState=function(t){this.ss.setLabel(h.PLAYER_WINDOW_STATE,t)},T.prototype.setPlayerVolume=function(t){this.ss.setLabel(h.PLAYER_VOLUME,t)},T.prototype.setPlayerIsSubtitled=function(t){this.ss.setLabel(h.PLAYER_SUBTITLED,t?1:0)},T.prototype.setBroker=function(t){return this._broker=t,this},T.prototype.setMedia=function(t){var e,n,i;if(this._eventsEnabled()&&(this.clearMedia(),t)){this.media=t;var r=this._buildStreamSenseClip(this.media),o=(e=this.media,n={},i=I(e),n[h.PLAYLIST_NAME]=null===i?m:i.getValue(),n);this._mediaIsLive=!t.isOnDemand(),this.ss.createPlaybackSession(o),this.ss.getPlaybackSession()&&(this.ss.getPlaybackSession().setAsset(r),this._hasCreatedAsset=!0,this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels))}},T.prototype.liveMediaUpdate=function(t,e,n){v.assert("number"==typeof e,"newPosition must be a number"),v.assert("number"==typeof n,"oldPosition must be a number"),this.media=t;var i=this._buildStreamSenseClip(t);this.ss.notifyEnd(n),this.ss.getPlaybackSession().setAsset(i),this.ss.getPlaybackSession().getAsset().setLabels(this._storedAssetLabels),this.ss.notifyPlay(e)},T.prototype.liveEnrichmentFailed=a,T.prototype.setMediaLength=function(t){this._eventsEnabled()&&null!=this.media&&((!t||t<0)&&(t=0),this.ss.getPlaybackSession().getAsset().setLabel(h.MEDIA_LENGTH,t))},T.prototype.avPlayEvent=function(t,e){if(this._eventsEnabled()){var n=v.extend(e,!0,h.ECHO_EVENT_NAME,"avPlay");this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPlay(n,t)}},T.prototype.avPauseEvent=function(t,e){if(this._eventsEnabled()){var n=v.extend(e,!0,h.ECHO_EVENT_NAME,"avPause"),i=this.media.isLive();i&&!1===this.media.isEssEnriched()?t=0:!i&&this._broker&&0===t&&(t=this._broker.getCurrentIntervalMaxPosition()),this.ss.notifyPause(n,t)}},T.prototype.avBufferEvent=function(t,e){this._eventsEnabled()&&(this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyBufferStart(t))},T.prototype.avEndEvent=function(t,e){if(this._eventsEnabled()){var n=v.extend(e,!0,h.ECHO_EVENT_NAME,"avEnd",h.PLAYLIST_END,1);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyEnd(t,n),this.clearMedia()}},T.prototype.avRewindEvent=function(t,e,n){if(this._eventsEnabled()){var i=v.extend(n,!0,h.ECHO_EVENT_NAME,"avRW",h.EVENT_TRIGGERED_BY_USER,"rewind",h.REWIND_FF_RATE,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(t,i)}},T.prototype.avFastForwardEvent=function(t,e,n){if(this._eventsEnabled()){var i=v.extend(n,!0,h.ECHO_EVENT_NAME,"avFF",h.EVENT_TRIGGERED_BY_USER,"fastforward",h.REWIND_FF_RATE,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(i,t)}},T.prototype.avSeekEvent=function(t,e){if(this._eventsEnabled()){var n=v.extend(e,!0,h.ECHO_EVENT_NAME,"avSeek",h.EVENT_TRIGGERED_BY_USER,"seek");this.media.isLive()&&!1===this.media.isEssEnriched()&&(t=0),this.ss.notifyPause(t,n)}},T.prototype.avUserActionEvent=function(t,e,n,i){if(this._eventsEnabled()){var r=v.extend(i,!0,h.ECHO_EVENT_NAME,"avUserAct",h.STREAMSENSE_CUSTOM_EVENT_TYPE,t,h.USER_ACTION_TYPE,t,h.USER_ACTION_NAME,e);this.media.isLive()&&!1===this.media.isEssEnriched()&&(n=0),this.ss.notifyCustomEvent(n,r)}},T.prototype.clearMedia=function(){this._eventsEnabled()&&(this._clips=[],this._hasCreatedAsset=!1,null!==this.media&&(this.ss.getState()===e.PLAYING&&this.avEndEvent(0),this.media=null))},T.prototype.requiresLabelCleansing=function(){return!0},T.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStartedAppTag},T}.call(e,l,e,t))||(t.exports=n)},function(t,e,n){t.exports={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}},function(t,e,r){var n;void 0===(n=function(t){"use strict";var n=r(1),i=r(0);return{isValidManagedLabel:function(t,e){switch(t){case n.ManagedLabels.IPLAYER_STATE:if("purchased"!==e&&"free"!==e)return!1;break;case n.ManagedLabels.STORE_ED_TYPE:if("archive"!==e&&"standard"!==e)return!1;break;case n.ManagedLabels.IPLAYER_AVAIL:if("avail"!==e&&"unavail"!==e&&"soon"!==e)return!1;break;case n.ManagedLabels.STORE_REFERRAL:if("iplayer"!==e&&"store"!==e)return!1;break;case n.ManagedLabels.BBC_HASHED_ID:if("string"!=typeof e||0===i.trim(e).length)return!1}return!0}}}.call(e,r,e,t))||(t.exports=n)},function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var o,s;function t(t){t=t||{},this.alwaysUseHttps=!0===t.alwaysUseHttps||!1,this.forceBBCHost=!1,this._sscCookieId=void 0,this._s1CookieId=void 0,this._uidCookieId=void 0,".co.uk"===t.forceBBCHost?this.forceBBCHost=".co.uk":".com"===t.forceBBCHost&&(this.forceBBCHost=".com")}return o="ssc.api.bbc.co.uk",s="ssc.api.bbc.com",t.prototype.getCookie=function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},t.prototype.getLocation=function(){return window.location},t.prototype.getCookieId=function(){var t,e,n,i,r;return e=this.getSSCHostname(),n=this.getLocation(),i=e===o&&-1!==n.hostname.search(/bbc.co.uk$/),r=e===s&&-1!==n.hostname.search(/bbc.com$/),(i||r)&&null==(t=this.getSSCCookieId())&&(i?t=this.getS1CookieId():r&&(t=this.getUidCookieId())),t},t.prototype.getS1CookieId=function(){return void 0===this._s1CookieValue&&(this._s1CookieValue=this.getCookie("s1")),this._s1CookieValue},t.prototype.getUidCookieId=function(){return void 0===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckns_uid"),null===this._uidCookieValue&&(this._uidCookieValue=this.getCookie("ckpf_uid"))),this._uidCookieValue},t.prototype.getSSCCookieId=function(){return void 0===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckns_sscid"),null===this._sscCookieValue&&(this._sscCookieValue=this.getCookie("ckpf_sscid"))),this._sscCookieValue},t.prototype.isValidId=function(t){var e;return e=!1,"string"==typeof t&&-1!==t.search(/^[^(?!<>\s)]+$/)&&(e=!0),e},t.prototype.getAnalyticsLocation=function(t,e){var n,i,r,o,s;return this.getSSCHostname(),i=this.getLocation(),n={sscId:void 0},"string"!=typeof t&&(t=""),void 0!==e&&!1!==this.isValidId(e)||(e=this.getCookieId()),this.alwaysUseHttps||"https:"===i.protocol?n.protocol="https:":n.protocol="http:",o=-1!==t.search(/ns_alias=/),s=this.isValidId(e),n.hostname=o||s?this.getScorecardresearchHostname():this.getSSCHostname(),s&&(t=""===t?"?ns_alias="+e:(r=t.search(/\?/)+1,[t.slice(0,r),"ns_alias="+e+"&",t.slice(r)].join("")),n.sscId=e),n.search=t,-1!==n.hostname.search(/scorecardresearch.com$/)?n.pathname="/p":n.pathname="/",n.href=n.protocol+"//"+n.hostname+n.pathname+n.search,n},t.prototype.getSSCHostname=function(){var t;return t=this.getLocation(),".com"===this.forceBBCHost||".co.uk"!==this.forceBBCHost&&-1===t.hostname.search(/bbc\.co\.uk$/)?s:o},t.prototype.getScorecardresearchHostname=function(){return"https:"===this.getLocation().protocol?"sb.scorecardresearch.com":"b.scorecardresearch.com"},t})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){(function(n,v){t.exports=function r(o,s,a){function u(n,t){if(!s[n]){if(!o[n]){if(c)return c(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(t){var e=o[n][1][t];return u(e||t)},i,i.exports,r,o,s,a)}return s[n].exports}for(var c=!1,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){var u=t(24),c=t(26),l=t(36);e.exports=function(e){var t=this,n=!1,i=-1,r=null;function o(t){i=t,e.t().set("plannedFlushTime",t+"")}function s(){e.flush(),o(-1),t.i()}function a(){r&&(l.clearTimeout(r),r=null)}u.extend(t,{start:function(){n=!0,!r&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.t().has("plannedFlushTime")&&(i=c.o(e.t().get("plannedFlushTime"),-1)),t.i())},stop:function(){n=!1,a()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!r&&n?(o(-1),t.start()):null!=r&&(o(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),r&&(l.clearTimeout(r),t.i())):(o(-1),a())},i:function(){i<0&&o(+new Date+1e3*e.getCacheFlushingInterval()),r=l.setTimeout(s,i-+new Date)}})}},{24:24,26:26,36:36}],2:[function(t,e,n){var i=t(5),r=t(8).TransmissionMode,o=t(8).u,s=new i,a={TransmissionMode:r,getCore:function(){return s},setAppContext:function(t){s.setAppContext(t)},setEnabled:function(t){s.setEnabled(t)},getEnabled:function(){return s.getEnabled()},onUxActive:function(){s.onUxActive()},onUxInactive:function(){s.onUxInactive()},onEnterForeground:function(){s.onEnterForeground()},onExitForeground:function(){s.onExitForeground()},onUserInteraction:function(){s.onUserInteraction()},update:function(){s.update()},enableAutoUpdate:function(t,e){s.enableAutoUpdate(t,void 0===e||e)},disableAutoUpdate:function(){s.disableAutoUpdate()},isAutoUpdateEnabled:function(){return s.isAutoUpdateEnabled()},start:function(t){s.s(o.l,t||{})},view:function(t){s.s(o.v,t||{})},hidden:function(t){s.s(o.HIDDEN,t||{})},close:function(t){s.s(o.h,t)},aggregate:function(t){s.s(o._,t)},getPixelURL:function(){return s.getPixelURL()},setPixelURL:function(t){s.setPixelURL(t)},getCustomerC2:function(){return s.getCustomerC2()},setCustomerC2:function(t){s.setCustomerC2(t)},getAppName:function(){return s.getAppName()},setAppName:function(t){s.setAppName(t)},getAppVersion:function(){return s.getAppVersion()},setAppVersion:function(t){s.setAppVersion(t)},getGenesis:function(){return s.getGenesis()},getVisitorID:function(){return s.getVisitorId()},setVisitorId:function(t,e){s.setVisitorId(t,e)},getCrossPublisherId:function(){return s.getCrossPublisherId()},getOfflineTransmissionMode:function(){return s.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){s.allowOfflineTransmission(t)},getLiveTransmissionMode:function(){return s.getLiveTransmissionMode()},allowLiveTransmission:function(t){s.allowLiveTransmission(t)},getPublisherSecret:function(){return s.g()},setPublisherSecret:function(t){s.m(t)},flushCache:function(){s.flush()},clearOfflineCache:function(){s.I().clear()},setLabel:function(t,e){s.setLabel(t,e)},getLabel:function(t){return s.getLabel(t)},setLabels:function(t){s.setLabels(t)},getLabels:function(){return s.getLabels()},setAutoStartLabels:function(t){s.setAutoStartLabels(t)},getAutoStartLabel:function(t){return s.getAutoStartLabel(t)},getAutoStartLabels:function(){return s.getAutoStartLabels()},setAutoStartLabel:function(t,e){s.setAutoStartLabel(t,e)},isKeepAliveEnabled:function(){return s.S().isEnabled()},setKeepAliveEnabled:function(t){s.setKeepAliveEnabled(!!t)},setCacheMaxMeasurements:function(t){s.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return s.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(t){s.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return s.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(t){s.setCacheMaxFlushesInARow(t)},getCacheMaxFlushesInARow:function(){return s.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(t){s.setCacheMinutesToRetry(t)},getCacheMinutesToRetry:function(){return s.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(t){s.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return s.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return s.getCacheFlushingInterval()},setCacheFlushingInterval:function(t){s.setCacheFlushingInterval(t)},setSecure:function(t){s.setSecure(t)},isSecure:function(){return s.isSecure()},getMeasurementLabelOrder:function(){return s.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){s.setMeasurementLabelOrder(t)},setAutoStartEnabled:function(t){s.setAutoStartEnabled(t)},isAutoStartEnabled:function(){return s.isAutoStartEnabled()},getVersion:function(){return s.getVersion()},getPlatformAPI:function(){return s.getPlatformAPI()},setPlatformAPI:function(t){s.setPlatformAPI(t)},setOfflineURL:function(t){s.setOfflineURL(t)},clearInternalData:function(){s.clearInternalData()},cacheHttpRedirects:function(){s.cacheHttpRedirects()}};e.exports=a},{5:5,8:8}],3:[function(t,e,n){var d=t(24),p=t(36),h=t(8).TransmissionMode;e.exports=function(e){var n,i=1e3,r=!1,o=null,s=null,a=-1;function u(){e.flush(),a=-1,o=null}function c(){o&&(p.clearTimeout(o),o=null)}function l(t){var e=+new Date;r?(c(),(a<e||a<0||!t)&&(a=e+3e4),o=p.setTimeout(u,a-e)):a<0&&(a=e+3e4)}function f(){var t=p.isConnectionAvailable();t!=n&&((n=t)?e.getOfflineTransmissionMode()!=h.NEVER&&e.getOfflineTransmissionMode()!=h.DISABLED&&l(!1):(c(),a=-1)),r&&(s=p.setTimeout(f,i))}d.extend(this,{start:function(){r=!0,n&&0<a&&l(!0),s=p.setTimeout(f,i)},stop:function(){p.clearTimeout(s),s=null,r=!1,c()}})}},{24:24,36:36,8:8}],4:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",P:2048,A:4096,C:"previousVersion",k:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(t,e,n){var bt=t(8).T,At=t(8).N,St=t(4),It=t(26),i=t(17),Tt=t(8).u,Pt=t(36),Ct=t(21),Ot=t(24),Nt=t(22),wt=t(25),Lt=t(6),Dt=t(11),Rt=t(7),Mt=t(9),Ut=t(12).L,xt=t(1),kt=t(3),Bt="undefined",Vt=i.D,Gt="http://b.scorecardresearch.com/p2?",Ft="https://sb.scorecardresearch.com/p2?",jt="exitCode",Ht="lastApplicationAccumulationTimestamp",Yt="lastSessionAccumulationTimestamp",Wt="lastApplicationSessionTimestamp",Kt="lastUserSessionTimestamp",zt="lastActiveUserSessionTimestamp",qt="foregroundTransitionsCount",$t="accumulatedForegroundTime",Qt="accumulatedBackgroundTime",Xt="accumulatedInactiveTime",Zt="totalForegroundTime",Jt="totalBackgroundTime",te="totalInactiveTime",ee="accumulatedApplicationSessionTime",ne="accumulatedActiveUserSessionTime",ie="accumulatedUserSessionTime",re="activeUserSessionCount",oe="userSessionCount",se="lastUserInteractionTimestamp",ae="userInteractionCount",ue="applicationSessionCountKey",ce="genesis",le="previousGenesis",fe="installId",de="firstInstallId",pe="currentVersion",he="runs",_e="coldStartCount",ge="crossPublisherIdHashed",ve="crossPublisherId";e.exports=function(){var e,r,a,u,c,l,n,i,o,s,f,t,d,p,h,_,g,v,E,m,y,b,A,S,I,T,P,C,O,N,w,L,D,R,M,U,x,k,B,V,G,F,j,H,Y,W,K,z,q,$,Q,X,Z,J,tt=this,et=!0,nt=!1,it=!0,rt=bt.R,ot=At.R,st=!1,at=!1,ut=!1,ct=!0,lt=!1,ft=0;function dt(t){return r.has(t)?r.get(t)+"":null}function pt(){var t=+new Date,e=!1;return 18e5<t-x&&(O=C,C=t,R++,e=!0),x=t,e}function ht(t){if(Z){t=typeof t===Bt||t;var e=+new Date,n=e-N;switch(rt){case bt.H:T+=n,b+=n;break;case bt.Y:I+=n,A+=n;break;case bt.R:P+=n,S+=n}N=e,t&&(r.set(Ht,N+""),r.set(qt,y+""),r.set($t,T+""),r.set(Qt,I+""),r.set(Xt,P+""),r.set(Zt,b+""),r.set(Jt,A+""),r.set(te,S+""))}}function _t(t){if(Z){t=typeof t===Bt||t;var e=+new Date,n=e-F;switch(ot){case At.F:D+=n,B=e;case At.G:L+=n,k=e;case At.K:w+=n,x=e;break;case At.R:}F=e,t&&(r.set(Yt,F+""),r.set(Wt,x+""),r.set(Kt,k+""),r.set(zt,B+""),r.set(ee,w+""),r.set(ne,D+""),r.set(ie,L+""),r.set(re,U+""),r.set(oe,M+""),r.set(se,G+""),r.set(ae,V+""),r.set(le,O+""),r.set(ce,C+""),r.set(ue,R+""))}}function gt(){if(Z){var t,e,n=+new Date;t=0<E?bt.H:0<m?bt.Y:bt.R,e=n-G<3e5?At.F:0<m?At.G:0<E?At.K:At.R;var i,r=rt,o=ot;if(t!=r||e!=o){var s=!1;r!=t&&(function(t){if(Z)switch(t){case bt.R:c.J(!1),a.X(),a.Z(),l.start(),u.start();break;case bt.Y:mt();break;case bt.H:tt.nn(null),mt()}}(rt),function(t){if(Z)switch(t){case bt.R:l.stop(),a.pause(),u.stop(),mt(),c.J(!0);break;case bt.Y:et||Et();break;case bt.H:Et(),y++}}(t),ht(),rt=t,s=!0),o!=e&&(function(t){if(Z){var e=+new Date;switch(t){case At.F:null!=j&&(Pt.clearTimeout(j),j=null),B=e;case At.G:k=e;case At.K:x=e;break;case At.R:pt()||(w+=e-F)}}}(ot),function(t){if(Z)switch(t){case At.F:3e5<=(n=+new Date)-B&&U++,B=n,tt.j();case At.G:3e5<=(e=+new Date)-k&&M++,k=e;case At.K:pt();break;case At.R:}var e,n}(e),_t(),ot=e),s&&(i=rt,Z&&i!=bt.R&&tt.isAutoStartEnabled()&&!nt&&tt.s(Tt.l,X))}}}function vt(t,e){Z&&(Ct.tn(t)?(e=Ct.tn(e)?"-cs"+e:"",Y=t+e):null==Y&&lt&&(Y=Nt(Pt.getVisitorId()+tt.g()),"function"==typeof Pt.getVisitorIdSuffix&&null!=Pt.getVisitorIdSuffix()&&(Y=Y+"-cs"+Pt.getVisitorIdSuffix())),r.set("vid",Y+""))}function Et(){if(Z){mt();var t=function(){tt.update(),null!=i&&Pt.setTimeout(t,s)};i=Pt.setTimeout(t,s)}}function mt(){Z&&null!=i&&(Pt.clearTimeout(s),i=null)}function yt(){return!lt||null==z||0===z.length||null==H||0===H.length}Ot.extend(tt,{isProperlyInitialized:function(){return!yt()},reset:function(){Z&&(n.reset(),rt=bt.R,ot=At.R,nt=!1,g=_=null,$=V=O=L=D=w=P=T=I=S=A=b=m=E=d=f=0,at=st=!(h=p=B=k=x=F=N=G=M=U=C=p=h=t=-1),tt.disableAutoUpdate(),null!=j&&(Pt.clearTimeout(j),j=null),null!=a&&a.cancel(),null!=u&&u.stop(),null!=c&&(c.en(),c=new Rt(tt)))},M:function(t){r=t||new Pt.Storage},O:function(t){e=t||new Ut(tt)},W:function(t){u=t||new xt(tt)},V:function(t){l=new kt(tt)},in:function(){var t=dt("AppName");null!=t&&tt.setAppName(t);var e=dt("AppVersion");null!=e&&tt.setAppVersion(e)},rn:function(){Z&&r.has("vid")&&(Y=r.get("vid"))},un:function(){Z&&(f++,r.set(he,f+""))},sn:function(){return!nt&&(nt=!0,d++,r.set(_e,d+""),t=+new Date,!0)},j:function(){Z&&(null!=j&&(Pt.clearTimeout(j),j=null),j=Pt.setTimeout(function(){null!=j&&(Pt.clearTimeout(j),j=null),gt()},3e5))},I:function(){return e},an:function(){return l},t:function(){return r},fn:function(){return c},S:function(){return a},cn:function(){return u},ln:function(){return n},onUxActive:function(){Z&&(yt()||(M<0&&(M=0),m++,gt()))},onUxInactive:function(){Z&&(yt()||0<m&&(m--,gt()))},onEnterForeground:function(){Z&&(yt()||(E++,gt()))},onExitForeground:function(){Z&&(yt()||0<E&&(E--,gt()))},onUserInteraction:function(){Z&&(yt()||(M<0&&(M=0),U<0&&(U=0),G=+new Date,V++,ot!=At.F?gt():tt.j()))},pn:function(){return rt},vn:function(){return ot},dn:function(){return f},hn:function(){return p},_n:function(){return h},gn:function(){return t},mn:function(){return d},wn:function(){return g},yn:function(t){g=t},bn:function(t){var e=y;return(t=typeof t===Bt||t)&&(y=0,r.set(qt,y+"")),e},In:function(t){var e=b;return(t=typeof t===Bt||t)&&(b=0,r.set(Zt,b+"")),e},Sn:function(t){var e=T;return(t=typeof t===Bt||t)&&(T=0,r.set($t,T+"")),e},Pn:function(t){var e=A;return(t=typeof t===Bt||t)&&(A=0,r.set(Jt,A+"")),e},An:function(t){var e=I;return(t=typeof t===Bt||t)&&(I=0,r.set(Qt,I+"")),e},Cn:function(t){var e=S;return(t=typeof t===Bt||t)&&(S=0,r.set(te,S+"")),e},kn:function(t){var e=P;return(t=typeof t===Bt||t)&&(P=0,r.set(Xt,P+"")),e},En:function(t){var e=w;return(t=typeof t===Bt||t)&&(w=0,r.set(ee,w+"")),e},Tn:function(t){var e=D;return(t=typeof t===Bt||t)&&(D=0,r.set(ne,D+"")),e},Nn:function(t){var e=L;return(t=typeof t===Bt||t)&&(L=0,r.set(ie,L+"")),e},Ln:function(){return s},Dn:function(t){var e=R;return(t=typeof t===Bt||t)&&(R=0,r.set(ue,R+"")),e},Rn:function(t){t=typeof t===Bt||t;var e=-1;return 0<=U&&(e=U,t&&(U=0,r.set(re,U+""))),e},Mn:function(t){t=typeof t===Bt||t;var e=-1;return 0<=M&&(e=M,t&&(M=0,r.set(oe,M+""))),e},On:function(t){var e=V;return(t=typeof t===Bt||t)&&(V=0,r.set(ae,V+"")),e},setAppContext:function(){lt||(Pt.autoDetect(),tt.M(),c=new Rt(tt),a=new Mt(tt),tt.O(),tt.W(),tt.V(),o=new Dt(tt),n=new Lt,function(){N=It.o(r.get(Ht),-1),F=It.o(r.get(Yt),-1),x=It.o(r.get(Wt),-1),k=It.o(r.get(Kt),-1),B=It.o(r.get(zt),-1),y=It.U(r.get(qt)),T=It.o(r.get($t)),I=It.o(r.get(Qt)),P=It.o(r.get(Xt)),b=It.o(r.get(Zt)),A=It.o(r.get(Jt)),S=It.o(r.get(te)),w=It.o(r.get(ee)),D=It.o(r.get(ne)),L=It.o(r.get(ie)),U=It.U(r.get(re),-1),M=It.U(r.get(oe),-1),G=It.o(r.get(se),-1),V=It.U(r.get(ae),0),R=It.U(r.get(ue),0),$=r.get(jt)?parseInt(r.get(jt)):0,_=Pt.getAppVersion(),O=It.o(r.get(le),0),(C=It.o(r.get(ce),-1))<0?(C=+new Date,O=0,x=C,R++):(pt()||(w+=+new Date-F,r.set(ee,w+"")),x=C),(h=It.o(r.get(de),-1))<0?(p=h=C,_&&_!=Vt&&r.set(pe,_+""),r.set(de,h+""),r.set(fe,p+"")):tt.setAppVersion(_),r.set(ce,C+""),r.set(le,O+""),tt.B(C);var t=+new Date;if(0<=N){var e=t-N;P+=e,r.set(Xt,P+""),S+=e,r.set(te,S+"")}F=N=t,r.set(Ht,N+""),r.set(Yt,F+""),r.set(Wt,x+""),r.has(he)||r.set(he,"0"),f=It.U(r.get(he)),d=It.U(r.get(_e))}(),tt.in(),tt.rn(),lt=!0)},setEnabled:function(t){Z&&null!=t&&!t&&(Z=!1,u.stop(),l.stop(),a.pause())},getEnabled:function(){return Z},Wn:function(){return{}},Vn:function(){return v},nn:function(t){v=t},setPixelURL:function(t){if(Z){if(null==t||0===t.length)return null;st=!0;var e=t.indexOf("?");if(0<=e){if(e<t.length-1){for(var n=t.substring(e+1).split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");2==o.length?tt.setLabel(o[0],o[1]):1==o.length&&tt.setLabel(St.PAGE_NAME_LABEL,o[0])}t=t.substring(0,e+1)}}else t+="?";return H=t}},setKeepAliveEnabled:function(t){Z&&a.xn(t)},getPixelURL:function(){return H},getCrossPublisherId:function(){return W},isCrossPublisherIdChanged:function(){return Pt.isCrossPublisherIdChanged()||ut},getVisitorId:function(){return null==Y&&vt(),Y},setVisitorId:vt,Un:function(){var t=(Pt.getCrossPublisherId()||"null").split(" "),e=t[0]&&"null"!=t[0]?t[0]:null,n="true"==t[1];if(null!=e){W||(K=r.get(ge),W=r.get(ve));var i=null;W?"none"==e&&"none"==W||!ct&&"none"==W||"none"!=e&&(i=Nt(e))==K||(W=n?"none"==e?(K=null,"none"):(K=i,wt(e)):(ut=!0,ct&&"none"!=e?(K=Nt(e),wt(e)):(K=null,"none")),r.set(ve,W),null==K?r.remove(ge):r.set(ge,K)):(W="none"==e?(K=null,"none"):(K=Nt(e),wt(e)),r.set(ve,W),null==K?r.remove(ge):r.set(ge,K)),ct=!1}else W=K=null},m:function(t){return null==t||0===t.length||(z=t),tt},g:function(){return null==z&&(z=""),z},setAppName:function(t){Z&&(q=t)},getAppName:function(){return null!=q&&0!==q.length||tt.setAppName(Pt.getAppName()),q},setAppVersion:function(t){var e;r&&(t&&t!=Vt?(r.has(St.C)&&(g=r.get(St.C)+""),r.has(pe)&&(e=r.get(pe)+""),e&&e!==t?(g=e,r.set(St.C,g+""),p=C,r.set(fe,p+"")):p=It.o(r.get(fe),-1),r.set(pe,t+"")):p=It.o(r.get(fe),-1)),_=t},getAppVersion:function(){return _},getVersion:function(){return"6.2.3.180328"},getGenesis:function(){return C},Bn:function(){return O},B:function(t){r.set(jt,t.toString(10))},Fn:function(){return $},getLabels:function(){return Q},setLabels:function(t){if(Z)for(var e in t)t.hasOwnProperty(e)&&tt.setLabel(e,t[e])},getLabel:function(t){return Q[t]},setLabel:function(t,e){Z&&(!t||e?Q[t]=e:delete Q[t])},setAutoStartLabels:function(t){Z&&null!=t&&Ot.extend(X,t)},getAutoStartLabel:function(t){return X[t]},getAutoStartLabels:function(){return X},setAutoStartLabel:function(t,e){Z&&(X[t]=e)},getCustomerC2:function(){return Q.c2},setCustomerC2:function(t){if(Z&&null!=t&&0!==t.length){var e=n.isSecure()?Ft:Gt;tt.setPixelURL(e),st=!1,tt.setLabel("c2",t)}},getLiveTransmissionMode:function(){return n.getLiveTransmissionMode()},allowLiveTransmission:function(t){Z&&n.getLiveTransmissionMode()!=t&&n.allowLiveTransmission(t)},getOfflineTransmissionMode:function(){return n.getOfflineTransmissionMode()},allowOfflineTransmission:function(t){Z&&n.getOfflineTransmissionMode()!=t&&n.allowOfflineTransmission(t)},setSecure:function(t){Z&&(this.getCustomerC2()||(at=!0,n.isSecure()!=t&&n.setSecure(t)))},jn:function(t){if(!at&&(n.setSecure(!!t),null!=c&&c.Gn(Lt.Kn,!!t),tt.getCustomerC2()&&!st)){var e=n.isSecure()?Ft:Gt;tt.setPixelURL(e),st=!1}},setAutoStartEnabled:function(t){Z&&(it=t)},isAutoStartEnabled:function(){return it},isSecure:function(){return n.isSecure()},setCacheMaxMeasurements:function(t){null!=e&&e.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return null!=e?e.getCacheMaxMeasurements():Ut.qn},setCacheMaxBatchFiles:function(t){null!=e&&e.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return null!=e?e.getCacheMaxBatchFiles():Ut.Hn},setCacheMaxFlushesInARow:function(t){null!=e&&e.Yn(t)},getCacheMaxFlushesInARow:function(){return null!=e?e.Jn():Ut.zn},setCacheMinutesToRetry:function(t){null!=e&&e.Qn(t)},getCacheMinutesToRetry:function(){return null!=e?e.Xn():Ut.Zn},setCacheMeasurementExpiry:function(t){null!=e&&e.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return null!=e?e.getCacheMeasurementExpiry():Ut.$n},getCacheFlushingInterval:function(){return ft},setCacheFlushingInterval:function(t){Z&&ft!=t&&(ft=t,null!=u&&u.update())},getMeasurementLabelOrder:function(){return n.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(t){Z&&t!=n.getMeasurementLabelOrder()&&n.setMeasurementLabelOrder(t)},flush:function(){e.flush(n,function(){})},update:function(t){Z&&(ht(t=typeof t===Bt||t),_t(t))},enableAutoUpdate:function(t,e){Z&&(t=t||60,mt(),t<60&&(t=60),et=e,s=1e3*t,rt==bt.H?Et():rt!=bt.Y||et||Et())},disableAutoUpdate:function(){Z&&(mt(),et=!0,s=-1)},isAutoUpdateEnabled:function(){return 0<s},s:function(t,e){Z&&(yt()||(nt||t==Tt.l||o.send(Tt.l,{},st?H:null),t==Tt.h?(tt.B(0),tt.update(!0)):o.send(t,e,st?H:null)))},nt:function(t,e){o.send(Tt.HIDDEN,t,e)},setOfflineURL:function(t){Z&&e.tt(t)},getPlatformAPI:function(){return Pt},setPlatformAPI:function(t){Pt.setPlatformAPI(t)},et:function(){return o},clearInternalData:function(){r&&r.clear()},cacheHttpRedirects:function(t){J=t},it:function(){return J}}),n=new Lt,Q={},X={},J=Z=!0,tt.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(t,e,n){var o=t(24),s=t(8).TransmissionMode,a=t(36),u=t(4);function i(){var e,n,i,r;o.extend(this,{reset:function(){e=s.DEFAULT,n=s.DEFAULT,i=a.isConnectionSecure(),r=u.k},rt:function(t){e=t.getLiveTransmissionMode(),n=t.getOfflineTransmissionMode(),r=t.getMeasurementLabelOrder(),i=t.isSecure()},ot:function(t,e){switch(t){case 0:this.allowLiveTransmission(e);break;case 1:this.allowOfflineTransmission(e);break;case 2:this.setSecure(e);break;case 3:this.setMeasurementLabelOrder(e)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return n},allowOfflineTransmission:function(t){null!=t&&(n=t)},isSecure:function(){return i},setSecure:function(t){i=t},getMeasurementLabelOrder:function(){return r},setMeasurementLabelOrder:function(t){null!=t&&0<t.length&&(r=t)}}),this.reset()}i.ut=0,i.st=1,i.Kn=2,i.at=3,e.exports=i},{24:24,36:36,4:4,8:8}],7:[function(t,e,n){var r=t(24),g=t(13),o="q_dcf",v="q_dcc";e.exports=function(s){var n,a,i,u,c,t,l=[],f=!1;function d(t){return t-a<1e3&&20<=n}function p(t){return t-u<864e5&&6e3<=i}function h(t){864e5<t-u&&(i=0,u=t),1e3<t-a&&(n=0,a=t),i++,n++;var e=s.t();e.set(v,i+""),e.set(o,u+"")}function _(){var t,e=+new Date;if(f)for(;l.length;){var n=l.shift();i=n,s.I().ft(i)}else{for(var i,r,o;l.length&&!d(o=e)&&!p(o);)h(e),n=l.shift(),r=n,new g(s,s.ln(),r).send();t=e,l.length&&(c||(d(t)?c=s.getPlatformAPI().setTimeout(function(){c=null,_()},a+1e3-t):p(t)&&(c=s.getPlatformAPI().setTimeout(function(){c=null,_()},u+864e5-t))))}}r.extend(this,{ct:function(t){s.getEnabled()&&(l.push(t),_())},en:function(){s.getPlatformAPI().clearTimeout(c),l.length=0},J:function(t){f=t,s.getPlatformAPI().clearTimeout(c),_()}}),u=(t=s.t()).has(v)&&t.has(o)?(i=parseInt(t.get(v)),parseInt(t.get(o))):(i=0,+new Date),n=0,a=+new Date}},{13:13,24:24}],8:[function(t,e,n){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(t){return null==t||"DEFAULT"==t?i.DEFAULT:"NEVER"==t?i.NEVER:"WIFIONLY"==t?i.WIFIONLY:"PIGGYBACK"==t?i.PIGGYBACK:"DISABLED"==t?i.DISABLED:void 0}};n.TransmissionMode=i,n.N={R:0,K:1,G:2,F:3},n.T={R:0,Y:1,H:2},n.u={l:"start",v:"view",h:"close",_:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(t,e,n){var u=t(36),c=t(8).u,l=t(24);e.exports=function(t){var e=this,n=null,i=NaN,r=!0,o=864e5;function s(){i=+new Date+o,a()}function a(){t.et().send(c.KEEPALIVE)}l.extend(e,{xn:function(t){(r=t)?(e.X(),e.Z()):e.cancel()},isEnabled:function(){return r},Z:function(){r&&(e.cancel(),i=+new Date+o,n=u.setInterval(s,o))},X:function(){if(r){var t=+new Date;i&&i<=t&&a()}},pause:function(){e.cancel()},cancel:function(){n&&(u.clearInterval(n),n=null)}})}},{24:24,36:36,8:8}],10:[function(t,e,n){var l=t(24),i=t(21),a=t(8).u,r=t(17),u=t(36),s=t(4),y="undefined",o=r.D,f=typeof encodeURIComponent!=y?encodeURIComponent:escape,c=function(t){return i.lt(t)?t:o},d=function(t){return t==a.l||t==a.h||t==a.v?a.v:a.HIDDEN};function p(t){var e,c={};l.extend(this,{pt:function(t){delete c[t]},vt:function(t){if(null!=t)for(var e in t)t.hasOwnProperty(e)&&this.setLabel(e,t[e])},setLabel:function(t,e){c[t]=e},getLabel:function(t){return c[t]},getLabels:function(){return c},dt:function(t){return c.hasOwnProperty(t)},ht:function(t){for(var e=[],n=l.extend({},c),i=0,r=t.length;i<r;i++){var o=t[i],s=n[o];null!=s&&""!==s&&(e.push("&",f(o),"=",f(s)),delete n[o])}for(var a in n)if(n.hasOwnProperty(a)){var u=n[a];null!=u&&""!==u&&e.push("&",f(a),"=",f(n[a]))}return 0<(e=e.join("")).length&&"&"==e.charAt(0)?e.substring(1):e},setPixelURL:function(t){e=t},getPixelURL:function(){return e}}),t&&this.setPixelURL(t.getPixelURL())}function h(t,e,n,i){if(p.call(this,t),t){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",c(t.getAppName())),this.setLabel("ns_ap_pn",c(u.getPlatformName())),this.setLabel("ns_ap_pv",c(u.getRuntimeVersion())),this.setLabel("c12",t.getVisitorId()),t.Un();var r=t.getCrossPublisherId();r&&(this.setLabel("ns_ak",r),t.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",c(u.getDeviceModel())),this.setLabel("ns_ap_ar",c(u.getDeviceArchitecture())),this.setLabel("ns_radio",c(u.getConnectionType())),this.setLabel("ns_type",d(e)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",c(u.getPlatformVersion())),this.setLabel("ns_ap_pfm",c(u.getRuntimeName())),this.setLabel("ns_ap_ev",e),this.setLabel("ns_ap_ver",c(t.getAppVersion())),this.setLabel("ns_ap_sd",u.getDisplayResolution()),this.setLabel("ns_ap_res",u.getApplicationResolution()),this.setLabel("ns_ap_lang",u.getLanguage()),this.setLabel("ns_ap_sv",t.getVersion()),e==a.KEEPALIVE&&this.setLabel("ns_ap_oc",t.I()._t()+"");var o=t.gn(),s=t.mn();this.setLabel("ns_ap_id",o+""),this.setLabel("ns_ap_cs",s+""),this.setLabel("ns_ap_bi",u.getPackageName()),this.setLabel("ns_ap_jb",c(u.getDeviceJailBrokenFlag()))}}function _(t,e,n,i){h.call(this,t,e,n,i),this.setLabel("ns_ap_gs",t._n()+""),this.setLabel("ns_ap_install",t.hn()+""),this.setLabel("ns_ap_runs",t.dn()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",t.Bn()+"");var r=t.Fn();0<r&&this.setLabel("ns_ap_miss",r.toString());var o=t.wn();o&&(this.setLabel("ns_ap_updated",o+""),t.t().remove(s.C),t.yn(null)),this.setLabel("ns_ap_jb",c(u.getDeviceJailBrokenFlag()))}h.gt=function(t,e){var n=e.wt,i=e.yt,r=e.bt;if(i=typeof i===y||i,r=typeof r===y||r,t.update(r),r){var o=t.bn(),s=t.In(n),a=t.Sn(i),u=t.Pn(n),c=t.An(i),l=t.Cn(n),f=t.kn(i),d=t.En(i),p=t.Tn(i),h=t.Nn(i),_=t.Ln(),g=t.Dn(i),v=t.Rn(i),E=t.Mn(i),m=t.On(i);e.labels.ns_ap_fg=o+"",e.labels.ns_ap_ft=s+"",e.labels.ns_ap_dft=a+"",e.labels.ns_ap_bt=u+"",e.labels.ns_ap_dbt=c+"",e.labels.ns_ap_it=l+"",e.labels.ns_ap_dit=f+"",e.labels.ns_ap_ut=_+"",e.labels.ns_ap_as=g+"",e.labels.ns_ap_das=d+"",0<=v&&(e.labels.ns_ap_aus=v+"",e.labels.ns_ap_daus=p+"",e.labels.ns_ap_uc=m+""),0<=E&&(e.labels.ns_ap_us=E+"",e.labels.ns_ap_dus=h+""),e.labels.ns_ap_usage=e.It-t.getGenesis()+""}e.labels.ns_ts=e.It+""},h.prototype=new p,h.St=function(t,e,n,i){var r=t.et(),o=r.Pt(e,n,i);return r.At(o)},_.prototype=new h,e.exports.Ct=p,e.exports.kt=h,e.exports.Et=_},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(t,e,n){var c=t(10).kt,l=t(10).Et,f=t(36),d=t(8).u,p=t(8).T,h=t(4),_=t(14).Tt;e.exports=function(o){var r=this,i=0,s=[],e=!1,a=0,u={};r.Nt=function(){i++;var e=!1;return function(t){e||(e=!0,i--,t&&r.Lt())}},r.Dt=function(){if(!e){var t=r.Nt();e=!0,f.onDataFetch(function(){t(!(e=!1))},function(){t(e=!1)})}},r.Lt=function(){if(!(0<i)){for(var t=0;t<s.length;++t){var e=s[t],n=r.At(e);r.Rt(e,n)}s.length=0}},r.Mt=function(t){s.push(t),r.Dt()},r.Rt=function(t,e){o.fn().ct(e),o.S().Z()},r.send=function(t,e,n){if(t!=d._){var i=r.Pt(t,e,n);r.Mt(i)}else r.Ot(e)},r.Pt=function(t,e,n){var i={It:+new Date,Wt:t,Vt:n,wt:!1,yt:void 0,bt:void 0,labels:{}};return a++,i.labels.ns_ap_ec=a+"",t==d.l?(o.un(),i.wt=o.sn()):(i.yt=!(null!=e&&e.hasOwnProperty("ns_st_ev")&&"hb"==e.ns_st_ev),i.bt=!(null!=e&&e.hasOwnProperty("ns_st_ev"))),i.xt=o.getLabels(),i.Ut=e,null!=o.Vn()?i.Bt=o.Vn():t==d.l?i.Bt="start":o.pn()==p.H?i.Bt="foreground":i.Bt="background",c.gt(o,i),i},r.At=function(t){var e=null,n=t.Wt,i=t.Vt,r=t.wt;return(e=n===d.l?new l(o,n,i,r):new c(o,n,i,r)).vt(t.labels),e.vt(t.xt),e.vt(t.Ut),e.dt(h.PAGE_NAME_LABEL)||e.setLabel(h.PAGE_NAME_LABEL,t.Bt),f.processMeasurementLabels(e),e.vt(u),u={},e},r.Ot=function(t){_(u,t)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(t,e,n){var T=t(36),P=t(24),C=t(21),O=t(19),N=t(22),w=t(8).TransmissionMode,L=t(15),D=t(14).Ft,R="CACHE_DROPPED_MEASUREMENTS";function i(s,o){var e,n,a,u,i,c,l,f,d,p,h=this,r=0;function _(){r=0,null!=l&&(l=null)}function g(){for(var t,e=E(),n=!1,i=e.length;0<i;i--){var r=(t=e[i-1],Number(t.substring(o.length)));n?y(e[i-1],!0):n=S(r)}}function v(t){if(s.getEnabled()){var e=s.t();e.has(R)&&(t+=Number(e.get(R))),e.set(R,t+"")}}function E(){return null==c&&(c=D.Gt()),c}function m(t){var e=o+L.Kt(t,"ns_ts");D.qt(s,e,t),null==c&&(c=[]),c.push(e),_()}function y(t,e){if(null!=t){e&&(i=t,(r=s.t()).has(i)&&v(Number(r.get(i)))),D.deleteFile(s,t);var n=O.indexOf(t,c);0<=n&&c.splice(n,1)}var i,r}function b(){return null!=c&&0<c.length?c[c.length-1]:null}function A(t){var e=s.t(),n=0;return null!=t&&(n=e.has(t)?Number(e.get(t)):D.Ht(s,t).length),n}function S(t){var e=+new Date;return 24*i*60*60*1e3-(e-t)<=0}function I(e,n){var i=s.t();if(function(){if(s.getEnabled()&&T.isConnectionAvailable()&&!h.jt()&&null!=s.getCustomerC2()){if(!(a<=f))return!0;if(1e3*u*60-(+new Date-d)<=0)return!(d=f=0)}return!1}()){var t=null,r=null;if(null==l&&null!=(t=function(t){for(var e=0,n=D.Ht(s,t),i=!1;e<n.length&&!(i=!S(Number(L.Kt(n[e],"ns_ts"))));e++);return n=i?(v(e),n.slice(e,n.length)):(y(t,!0),null)}(r=b()))&&0<t.length){var o=i.has(R)?i.get(R):"0";l=L.Yt(t,o)}if(null!=l&&0<l.length)return void T.httpPost(function(t){var e,n=!0;-1==(e=C.tn(p)&&C.lt(p)?p:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(e+="?",n=!1);var i=s.getCustomerC2();C.lt(i)&&(n&&(e+="&"),e+="c2="+i,n=!0);var r="JetportGotAMaskOfThe"+s.g()+"S.D_K-";return r=N(r),C.lt(r)&&(n&&(e+="&"),e+="s="+r),e.toLowerCase()}(e),l,function(t){if(200==t)return f++,y(r,!1),_(),d=+new Date,i.remove(R),void T.setTimeout(function(){I(e,n)},0);n()})}n()}o=o||"cs_cache_",P.extend(this,{flush:function(t,e){s.getEnabled()&&(g(),1e3*u*60-(+new Date-r)<=0?(r=0,I(t,e)):e())},setCacheMaxMeasurements:function(t){e=t},getCacheMaxMeasurements:function(){return e},setCacheMaxBatchFiles:function(t){t<=0||(n=t)},getCacheMaxBatchFiles:function(){return n},Yn:function(t){a=t},Jn:function(){return a},Qn:function(t){u=t},Xn:function(){return u},setCacheMeasurementExpiry:function(t){i=t},getCacheMeasurementExpiry:function(){return i},ft:function(t){if(s.getEnabled()){var e=s.ln();if("string"!=typeof t&&(t=t.ht(e.getMeasurementLabelOrder())),e.getOfflineTransmissionMode()!=w.DISABLED&&null!=s.getCustomerC2()&&C.lt(L.Kt(t,"ns_ts"))){var n=b();null!=n?A(n)<this.getCacheMaxBatchFiles()?(t="\n"+t,D.qt(s,n,t),_()):(E().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&y(null!=c&&0<c.length?c[0]:null,!0),m(t)):m(t)}}},_t:function(){var t=A(b());return 0<E().length&&(t+=(E().length-1)*this.getCacheMaxBatchFiles()),t},jt:function(){return 0==this._t()},clear:function(){for(var t=E(),e=t.length;0<e;e--)y(t[e-1],!0);s.t().remove(R)},tt:function(t){p=t}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.Yn(10),this.Qn(30),this.setCacheMeasurementExpiry(31),g()}i.qn=2e3,i.Hn=100,i.zn=10,i.Zn=30,i.$n=31,n.L=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(t,e,n){var c=t(24),l=t(20),f=t(36),d=t(4),p=t(8).TransmissionMode;e.exports=function(e,t,n,i){var r=this,o=t,s=n;function a(t){200!=t&&(302!=t&&301!=t||e.it())&&e.I().ft(s.ht(o.getMeasurementLabelOrder()),o),i&&i()}function u(){var t=r.process(s.getPixelURL());f.httpGet(t,a)}c.extend(r,{process:function(t){t+=s.ht(o.getMeasurementLabelOrder());var e=l.Jt()?d.A:d.P;if(t.length>e&&0<t.indexOf("&")){var n=t.substring(0,e-8).lastIndexOf("&"),i=encodeURIComponent(t.substring(n+1));t=t.substring(0,n)+"&ns_cut="+i}return t.length>e&&(t=t.substring(0,e)),t},send:function(){var t=o.getLiveTransmissionMode();return t==p.NEVER||t==p.DISABLED?(e.I().ft(s.ht(o.getMeasurementLabelOrder()),o),i&&i()):o.getOfflineTransmissionMode()!=p.NEVER&&0<e.I()._t()?e.I().flush(o,u):u(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(t,e,n){var o=t(36),s="cache_dir",i={Gt:function(){return o.IO.dir(s)||[]},qt:function(t,e,n){var i=t.t(),r=Number(i.get(e))||0;o.IO.append(s,e,n),r++,i.set(e,r+"")},deleteFile:function(t,e){o.IO.deleteFile(s,e),t.t().remove(e)},Ht:function(t,e){var n=o.IO.read(s,e);return n?n.split("\n"):[]}};function a(t){return!((t+="").indexOf(",")<0)&&t.indexOf(" ")<0}function u(t){return!isNaN(parseInt(t))&&isFinite(t)}function c(t,e){for(var n=e,i=t.split(","),r=0,o=i.length;r<o;r++){var s=i[r];if(0<s.length)if(n.indexOf(s)<0)0==n.length?n+=s+":1":n+=";"+s+":1";else for(var a=n.split(";"),u=0,c=a.length;u<c;u++)if(0<=a[u].indexOf(s)){var l=a[u].split(":"),f=Number(l[1]);f++;var d=l[0]+":"+f,p=n.indexOf(a[u]);n=n.substring(0,p)+d+n.substring(p+a[u].length)}}return n}n.Tt=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=t[n],r=e[n];null==i?a(r)?t[n]=c(r,""):t[n]=r:u(i)&&u(r)?t[n]=parseInt(i)+parseInt(r)+"":a(r)?t[n]=c(r,i):(o=r,0<=i.indexOf(o)||(t[n]=i+","+r))}var o},n.Ft=i},{36:36}],15:[function(t,e,n){var o=t(22),f=t(21),d=[],p=-1,h=-1,c=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],_=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],g=(1<<_.length)-1,l=-1;function v(t,e){p=h=-1;var n=0;do{if(0<=(n=t.indexOf(e,n))){var i=n+e.length;if((0==n||"&"==t.charAt(n-1))&&i<t.length&&"="==t.charAt(i))return p=i+1,void(-1==(h=t.indexOf("&",p))&&(h=t.length));n=i+1}}while(0<=n&&n<t.length)}function s(t,e){var n=0;if(v(t,"ns_ts"),-1!=p&&p<h){e.push('<event t="',t.substring(p,h),'">');for(var i,r,o=0,s=0;o<t.length;){if(-1==(i=t.indexOf("&",o))&&(i=t.length),o<i&&o<(r=t.indexOf("=",o))){var a=!0;if(n!=g)for(var u=0,c=_.length;u<c;u++){var l=1<<u;if(0==(n&l)&&_[u].length==r-o&&f.zt(_[u],0,t,o,_[u].length)){a=!1,n|=l;break}}a&&(0<s&&(d.push("&"),e.push("&")),d.push(t.substring(o,i)),e.push(t.substring(o,i)),s++)}o=i+1}e.push("</event>")}}var i={Yt:function(t,e){var n,i,r=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(t,e,n){var i,r,o,s=+new Date+"";t.push('<events t="',s,'" ');for(var a=0,u=c.length;a<u;a++)i=t,v(r=e,o=c[a]),-1!=p&&p<h&&i.push(o,'="',r.substring(p,h),'" ');t.push('dropped="',n,'" md5="','">'),l=t.length-1}(r,t[0],e),function(t,e){d=[];for(var n=0,i=t.length;n<i;n++)f.lt(t[n])&&s(t[n],e)}(t,r),n=r,i=o(d.join("")).toLowerCase(),n.splice(l,0,i),r.push("</events>"),r.join("")},Kt:function(t,e){return v(t,e),-1!=p&&p<h?t.substring(p,h):null}};e.exports=i},{21:21,22:22}],16:[function(e,r,t){(function(t){var n=e(24),i=r.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=i),i.comScore=e(2),i.loadModule=i.loadModule||function(t){for(var e in t)"ns_"!==e&&n.extend(i,t);return t.ns_=i},i.PlatformAPIs=e(32),e(39),i.StreamingAnalytics=e(67),i.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(t,e,n){e.exports={D:"unknown",Qt:"0x0",Xt:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(t,e,n){var a="undefined",u="function";e.exports=function(n,o){var t=this,i=[];function e(t){t=t||[];var e=["comScore",+new Date];return n&&e.push(n),t=Array.prototype.slice.call(t),e=e.concat(t)}function r(t){var e,n,i;if("boolean"==typeof o||!o)return!!o;if(i=t.join(" "),o instanceof Array&&0<o.length){for(e=0;e<o.length;++e)if((n=o[e])instanceof RegExp&&n.test(i))return!0;return!1}if("object"!=typeof o)return!0;var r=!1;if(o.hide instanceof Array)for(e=0;e<o.hide.length;++e)if((n=o.hide[e])instanceof RegExp&&n.test(i)){r=!0;break}if(o.show instanceof Array)for(e=0;e<o.show.length;++e)if((n=o.show[e])instanceof RegExp&&n.test(i))return!0;return!r&&!o.show}function s(t){var e=i.length;if(1e4<e||"object"==typeof o&&o.max&&e>o.max){var n="object"==typeof o&&o.max||1e4;i.splice(0,i.length-n+1)}i.push(t)}t.log=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.log==u&&r(t)&&console.log.apply(console,t)},t.warn=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.warn==u&&r(t)&&console.warn.apply(console,t)},t.error=function(){var t=e(arguments);s(t),typeof console!=a&&typeof console.error==u&&r(t)&&console.error.apply(console,t)},t.Zt=function(t){for(var e=["API call to:",t],n=1;n<arguments.length;++n)e.push("arg"+n+":",arguments[n]);this.log.apply(this,e)},t.$t=function(){var t=["Trace log:"];t.push.apply(t,Array.prototype.slice.call(arguments)),this.log.apply(this,t)},t.ne=function(t,e){var n=["Deprecated API:",t,"is deprecated and will be eventually removed."];e&&n.push("Use",e,"instead."),this.warn.apply(this,n)},t.te=function(){return i}}},{}],19:[function(t,e,n){var r={},a="undefined";r.indexOf=function(n,t){var i=-1;return r.forEach(t,function(t,e){t==n&&(i=e)}),i},r.forEach=function(t,e,n){try{if("function"==typeof e)if(n=typeof n!=a?n:null,"number"!=typeof t.length||typeof t[0]==a){var i=typeof t.__proto__!=a;for(var r in t)t.hasOwnProperty(r)&&(!i||i&&typeof t.__proto__[r]==a)&&"function"!=typeof t[r]&&e.call(n,t[r],r)}else for(var o=0,s=t.length;o<s;o++)e.call(n,t[o],o)}catch(t){}},n.indexOf=r.indexOf,n.forEach=r.forEach},{}],20:[function(t,e,n){var i={},r="undefined",o=typeof document!=r&&document||void 0;i.ee=function(){if(!o)return!1;var t=!1;return typeof o.hidden!==r?t=!0:typeof o.mozHidden!==r?t=!0:typeof o.msHidden!==r?t=!0:typeof o.webkitHidden!==r&&(t=!0),function(){return t}}(),i.ie=function(){if(!o)return null;var t,e,n;typeof o.hidden!==r?(t="hidden",e="visibilitychange",n="visibilityState"):typeof o.mozHidden!==r?(t="mozHidden",e="mozvisibilitychange",n="mozVisibilityState"):typeof o.msHidden!==r?(t="msHidden",e="msvisibilitychange",n="msVisibilityState"):typeof o.webkitHidden!==r&&(t="webkitHidden",e="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:t,re:e,state:n};return function(){return i}}(),i.oe=function(){if(!o)return null;var t=i.ie();return function(){return o[t.hidden]}}(),i.ue=function(){if(!navigator)return"";var t,e,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(e=n.indexOf("Opera"))||-1!=(e=n.indexOf("OPR/"))?i="Opera":-1!=(e=n.indexOf("Android"))?i="Android":-1!=(e=n.indexOf("Chrome"))?i="Chrome":-1!=(e=n.indexOf("Safari"))?i="Safari":-1!=(e=n.indexOf("Firefox"))?i="Firefox":-1!=(e=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))?(i=n.substring(t,e)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.se=function(){if(!navigator)return"";var t,e,n,i=navigator.userAgent||"",r=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(e=i.indexOf("Opera"))?(o=i.substring(e+6),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))):-1!=(e=i.indexOf("OPR/"))?o=i.substring(e+4):-1!=(e=i.indexOf("Android"))?o=i.substring(e+11):-1!=(e=i.indexOf("Chrome"))?o=i.substring(e+7):-1!=(e=i.indexOf("Safari"))?(o=i.substring(e+7),-1!=(e=i.indexOf("Version"))&&(o=i.substring(e+8))):-1!=(e=i.indexOf("Firefox"))?o=i.substring(e+8):"Microsoft Internet Explorer"==r?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):"Netscape"==r?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(o=parseFloat(RegExp.$1)):o=i.lastIndexOf(" ")+1<(e=i.lastIndexOf("/"))?i.substring(e+1):"unknown",-1!=(n=(o=o.toString()).indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),t=parseInt(""+o,10),isNaN(t)&&(o=""+parseFloat(navigator.appVersion)),o},i.Jt=function(){return typeof window!=r&&window.ae,!0},i.fe=function(){return typeof window!=r&&o},i.ce=function(){return!!o&&"s"===o.location.href.charAt(4)},e.exports.ee=i.ee,e.exports.ie=i.ie,e.exports.oe=i.oe,e.exports.ue=i.ue,e.exports.se=i.se,e.exports.Jt=i.Jt,e.exports.fe=i.fe,e.exports.ce=i.ce},{}],21:[function(t,e,n){var i,r=r||{},o="undefined";r.le=(i=1,function(){return+new Date+"_"+i++}),r.jt=function(t){return null==t||""===t||t instanceof Array&&0===t.length},r.lt=function(t){return!this.jt(t)},r.pe=function(t,e){return e=this.tn(e)?e:"",this.tn(t)?t:e},r.ve=function(t){return typeof t!=o&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},r.zt=function(t,e,n,i,r){if(e<0||i<0||e+r>t.length||i+r>n.length)return!1;for(;0<=--r;)if(t.charAt(e++)!=n.charAt(i++))return!1;return!0},r.tn=function(t){return typeof t!=o&&null!=t},e.exports.tn=r.tn,e.exports.zt=r.zt,e.exports.ve=r.ve,e.exports.pe=r.pe,e.exports.lt=r.lt,e.exports.jt=r.jt,e.exports.le=r.le},{}],22:[function(t,e,n){var i={};i.de=function(){function o(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=l(i=l(i=l(i=l(i=c(i=c(i=c(i=c(i=u(i=u(i=u(i=u(i=s(i=s(i=s(i=s(i,r=s(r,o=s(o,n=s(n,i,r,o,e[0],7,-680876936),i,r,e[1],12,-389564586),n,i,e[2],17,606105819),o,n,e[3],22,-1044525330),r=s(r,o=s(o,n=s(n,i,r,o,e[4],7,-176418897),i,r,e[5],12,1200080426),n,i,e[6],17,-1473231341),o,n,e[7],22,-45705983),r=s(r,o=s(o,n=s(n,i,r,o,e[8],7,1770035416),i,r,e[9],12,-1958414417),n,i,e[10],17,-42063),o,n,e[11],22,-1990404162),r=s(r,o=s(o,n=s(n,i,r,o,e[12],7,1804603682),i,r,e[13],12,-40341101),n,i,e[14],17,-1502002290),o,n,e[15],22,1236535329),r=u(r,o=u(o,n=u(n,i,r,o,e[1],5,-165796510),i,r,e[6],9,-1069501632),n,i,e[11],14,643717713),o,n,e[0],20,-373897302),r=u(r,o=u(o,n=u(n,i,r,o,e[5],5,-701558691),i,r,e[10],9,38016083),n,i,e[15],14,-660478335),o,n,e[4],20,-405537848),r=u(r,o=u(o,n=u(n,i,r,o,e[9],5,568446438),i,r,e[14],9,-1019803690),n,i,e[3],14,-187363961),o,n,e[8],20,1163531501),r=u(r,o=u(o,n=u(n,i,r,o,e[13],5,-1444681467),i,r,e[2],9,-51403784),n,i,e[7],14,1735328473),o,n,e[12],20,-1926607734),r=c(r,o=c(o,n=c(n,i,r,o,e[5],4,-378558),i,r,e[8],11,-2022574463),n,i,e[11],16,1839030562),o,n,e[14],23,-35309556),r=c(r,o=c(o,n=c(n,i,r,o,e[1],4,-1530992060),i,r,e[4],11,1272893353),n,i,e[7],16,-155497632),o,n,e[10],23,-1094730640),r=c(r,o=c(o,n=c(n,i,r,o,e[13],4,681279174),i,r,e[0],11,-358537222),n,i,e[3],16,-722521979),o,n,e[6],23,76029189),r=c(r,o=c(o,n=c(n,i,r,o,e[9],4,-640364487),i,r,e[12],11,-421815835),n,i,e[15],16,530742520),o,n,e[2],23,-995338651),r=l(r,o=l(o,n=l(n,i,r,o,e[0],6,-198630844),i,r,e[7],10,1126891415),n,i,e[14],15,-1416354905),o,n,e[5],21,-57434055),r=l(r,o=l(o,n=l(n,i,r,o,e[12],6,1700485571),i,r,e[3],10,-1894986606),n,i,e[10],15,-1051523),o,n,e[1],21,-2054922799),r=l(r,o=l(o,n=l(n,i,r,o,e[8],6,1873313359),i,r,e[15],10,-30611744),n,i,e[6],15,-1560198380),o,n,e[13],21,1309151649),r=l(r,o=l(o,n=l(n,i,r,o,e[4],6,-145523070),i,r,e[11],10,-1120210379),n,i,e[2],15,718787259),o,n,e[9],21,-343485551),t[0]=d(n,t[0]),t[1]=d(i,t[1]),t[2]=d(r,t[2]),t[3]=d(o,t[3])}function a(t,e,n,i,r,o){return e=d(d(e,t),d(i,o)),d(e<<r|e>>>32-r,n)}function s(t,e,n,i,r,o,s){return a(e&n|~e&i,t,e,r,o,s)}function u(t,e,n,i,r,o,s){return a(e&i|n&~i,t,e,r,o,s)}function c(t,e,n,i,r,o,s){return a(e^n^i,t,e,r,o,s)}function l(t,e,n,i,r,o,s){return a(n^(e|~i),t,e,r,o,s)}function f(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var i="0123456789abcdef".split("");function n(t){for(var e="",n=0;n<4;n++)e+=i[t>>8*n+4&15]+i[t>>8*n&15];return e}function t(t){return function(t){for(var e=0;e<t.length;e++)t[e]=n(t[e]);return t.join("")}(function(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)o(i,f(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),55<e)for(o(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,o(i,r),i}(t))}function d(t,e){return t+e&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=t("hello"))function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t}(),e.exports=i.de},{}],23:[function(t,e,n){var o=function(t){if("object"!=typeof t)return t;var e;if(t instanceof Array){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=o(t[n]);return e}for(var r in e={},t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e};e.exports=o},{}],24:[function(t,e,n){var i=i||{};i.filter=function(t,e){var n={};for(var i in e)e.hasOwnProperty(i)&&t(e[i])&&(n[i]=e[i]);return n},i.extend=function(t){var e,n=arguments.length;t=t||{};for(var i=1;i<n;i++)if(e=arguments[i])for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.exports.filter=i.filter,e.exports.extend=i.extend},{}],25:[function(t,e,n){var G=t(17),i={};i.encrypt=function(){var s=function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e));if(-1===n)throw new Error;return n};function m(t,e,n){null!=t&&("number"==typeof t?this.he(t,e,n):null==e&&"string"!=typeof t?this._e(t,256):this._e(t,e))}function y(){return new m(null)}m.prototype.ge=function(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;0<=--o;){var u=16383&this[t],c=this[t++]>>14,l=a*u+c*s;r=((u=s*u+((16383&l)<<14)+n[i]+r)>>28)+(l>>14)+a*c,n[i++]=268435455&u}return r},m.prototype.me=28,m.prototype.we=268435455,m.prototype.ye=1<<28,m.prototype.be=Math.pow(2,52),m.prototype.Ie=24,m.prototype.Se=4;var t,e,n="0123456789abcdefghijklmnopqrstuvwxyz",i=[];for(t="0".charCodeAt(0),e=0;e<=9;++e)i[t++]=e;for(t="a".charCodeAt(0),e=10;e<36;++e)i[t++]=e;for(t="A".charCodeAt(0),e=10;e<36;++e)i[t++]=e;function u(t){return n.charAt(t)}function c(t,e){var n=i[t.charCodeAt(e)];return null==n?-1:n}function g(t){var e=y();return e.Pe(t),e}function b(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function v(t){this.Ae=t}function E(t){this.Ae=t,this.Ce=t.ke(),this.Ee=32767&this.Ce,this.Te=this.Ce>>15,this.Ne=(1<<t.me-15)-1,this.Le=2*t.De}function r(t,e){return t&e}function o(t,e){return t|e}function a(t,e){return t^e}function l(t,e){return t&~e}function f(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function d(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function p(){}function h(t){return t}function A(t){this.r2=y(),this.Re=y(),m.ONE.Me(2*t.De,this.r2),this.Oe=this.r2.We(t),this.Ae=t}v.prototype.Ve=function(t){return t.xe<0||0<=t.Ue(this.Ae)?t.Be(this.Ae):t},v.prototype.Fe=function(t){return t},v.prototype.reduce=function(t){t.je(this.Ae,null,t)},v.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},v.prototype.qe=function(t,e){t.He(e),this.reduce(e)},E.prototype.Ve=function(t){var e=y();return t.abs().Me(this.Ae.De,e),e.je(this.Ae,null,e),t.xe<0&&0<e.Ue(m.ZERO)&&this.Ae.Ye(e,e),e},E.prototype.Fe=function(t){var e=y();return t.Je(e),this.reduce(e),e},E.prototype.reduce=function(t){for(;t.De<=this.Le;)t[t.De++]=0;for(var e=0;e<this.Ae.De;++e){var n=32767&t[e],i=n*this.Ee+((n*this.Te+(t[e]>>15)*this.Ee&this.Ne)<<15)&t.we;for(t[n=e+this.Ae.De]+=this.Ae.ge(0,i,t,e,0,this.Ae.De);t[n]>=t.ye;)t[n]-=t.ye,t[++n]++}t.ze(),t.Qe(this.Ae.De,t),0<=t.Ue(this.Ae)&&t.Ye(this.Ae,t)},E.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},E.prototype.qe=function(t,e){t.He(e),this.reduce(e)},m.prototype.Je=function(t){for(var e=this.De-1;0<=e;--e)t[e]=this[e];t.De=this.De,t.xe=this.xe},m.prototype.Pe=function(t){this.De=1,this.xe=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+DV:this.De=0},m.prototype._e=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.Xe(t,e);n=2}this.De=0,this.xe=0;for(var i=t.length,r=!1,o=0;0<=--i;){var s=8==n?255&t[i]:c(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==o?this[this.De++]=s:o+n>this.me?(this[this.De-1]|=(s&(1<<this.me-o)-1)<<o,this[this.De++]=s>>this.me-o):this[this.De-1]|=s<<o,(o+=n)>=this.me&&(o-=this.me))}8==n&&0!=(128&t[0])&&(this.xe=-1,0<o&&(this[this.De-1]|=(1<<this.me-o)-1<<o)),this.ze(),r&&m.ZERO.Ye(this,this)},m.prototype.ze=function(){for(var t=this.xe&this.we;0<this.De&&this[this.De-1]==t;)--this.De},m.prototype.Me=function(t,e){var n;for(n=this.De-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.De=this.De+t,e.xe=this.xe},m.prototype.Qe=function(t,e){for(var n=t;n<this.De;++n)e[n-t]=this[n];e.De=Math.max(this.De-t,0),e.xe=this.xe},m.prototype.Ze=function(t,e){var n,i=t%this.me,r=this.me-i,o=(1<<r)-1,s=Math.floor(t/this.me),a=this.xe<<i&this.we;for(n=this.De-1;0<=n;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;0<=n;--n)e[n]=0;e[s]=a,e.De=this.De+s+1,e.xe=this.xe,e.ze()},m.prototype.$e=function(t,e){e.xe=this.xe;var n=Math.floor(t/this.me);if(n>=this.De)e.De=0;else{var i=t%this.me,r=this.me-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.De;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;0<i&&(e[this.De-n-1]|=(this.xe&o)<<r),e.De=this.De-n,e.ze()}},m.prototype.Ye=function(t,e){for(var n=0,i=0,r=Math.min(t.De,this.De);n<r;)i+=this[n]-t[n],e[n++]=i&this.we,i>>=this.me;if(t.De<this.De){for(i-=t.xe;n<this.De;)i+=this[n],e[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<t.De;)i-=t[n],e[n++]=i&this.we,i>>=this.me;i-=t.xe}e.xe=i<0?-1:0,i<-1?e[n++]=this.ye+i:0<i&&(e[n++]=i),e.De=n,e.ze()},m.prototype.Ke=function(t,e){var n=this.abs(),i=t.abs(),r=n.De;for(e.De=r+i.De;0<=--r;)e[r]=0;for(r=0;r<i.De;++r)e[r+n.De]=n.ge(0,i[r],e,r,0,n.De);e.xe=0,e.ze(),this.xe!=t.xe&&m.ZERO.Ye(e,e)},m.prototype.He=function(t){for(var e=this.abs(),n=t.De=2*e.De;0<=--n;)t[n]=0;for(n=0;n<e.De-1;++n){var i=e.ge(n,e[n],t,2*n,0,1);(t[n+e.De]+=e.ge(n+1,2*e[n],t,2*n+1,i,e.De-n-1))>=e.ye&&(t[n+e.De]-=e.ye,t[n+e.De+1]=1)}0<t.De&&(t[t.De-1]+=e.ge(n,e[n],t,2*n,0,1)),t.xe=0,t.ze()},m.prototype.je=function(t,e,n){var i=t.abs();if(!(i.De<=0)){var r=this.abs();if(r.De<i.De)return null!=e&&e.Pe(0),void(null!=n&&this.Je(n));null==n&&(n=y());var o=y(),s=this.xe,a=t.xe,u=this.me-b(i[i.De-1]);0<u?(i.Ze(u,o),r.Ze(u,n)):(i.Je(o),r.Je(n));var c=o.De,l=o[c-1];if(0!=l){var f=l*(1<<this.Ie)+(1<c?o[c-2]>>this.Se:0),d=this.be/f,p=(1<<this.Ie)/f,h=1<<this.Se,_=n.De,g=_-c,v=null==e?y():e;for(o.Me(g,v),0<=n.Ue(v)&&(n[n.De++]=1,n.Ye(v,n)),m.ONE.Me(c,v),v.Ye(o,o);o.De<c;)o[o.De++]=0;for(;0<=--g;){var E=n[--_]==l?this.we:Math.floor(n[_]*d+(n[_-1]+h)*p);if((n[_]+=o.ge(0,E,n,g,0,c))<E)for(o.Me(g,v),n.Ye(v,n);n[_]<--E;)n.Ye(v,n)}null!=e&&(n.Qe(c,e),s!=a&&m.ZERO.Ye(e,e)),n.De=c,n.ze(),0<u&&n.$e(u,n),s<0&&m.ZERO.Ye(n,n)}}},m.prototype.ke=function(){if(this.De<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.ye)%this.ye)?this.ye-e:-e},m.prototype.ni=function(){return 0==(0<this.De?1&this[0]:this.xe)},m.prototype.exp=function(t,e){if(4294967295<t||t<1)return m.ONE;var n=y(),i=y(),r=e.Ve(this),o=b(t)-1;for(r.Je(n);0<=--o;)if(e.qe(n,i),0<(t&1<<o))e.Ge(i,r,n);else{var s=n;n=i,i=s}return e.Fe(n)},m.prototype.toString=function(t){if(this.xe<0)return"-"+this.ti().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.ei(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.De,a=this.me-s*this.me%e;if(0<s--)for(a<this.me&&0<(n=this[s]>>a)&&(r=!0,o=u(n));0<=s;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.me-e)):(n=this[s]>>(a-=e)&i,a<=0&&(a+=this.me,--s)),0<n&&(r=!0),r&&(o+=u(n));return r?o:"0"},m.prototype.ti=function(){var t=y();return m.ZERO.Ye(this,t),t},m.prototype.abs=function(){return this.xe<0?this.ti():this},m.prototype.Ue=function(t){var e=this.xe-t.xe;if(0!=e)return e;var n=this.De;if(0!=(e=n-t.De))return this.xe<0?-e:e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0},m.prototype.ii=function(){return this.De<=0?0:this.me*(this.De-1)+b(this[this.De-1]^this.xe&this.we)},m.prototype.Be=function(t){var e=y();return this.abs().je(t,null,e),this.xe<0&&0<e.Ue(m.ZERO)&&t.Ye(e,e),e},m.prototype.ri=function(t,e){var n;return n=t<256||e.ni()?new v(e):new E(e),this.exp(t,n)},m.ZERO=g(0),m.ONE=g(1),p.prototype.Ve=h,p.prototype.Fe=h,p.prototype.Ge=function(t,e,n){t.Ke(e,n)},p.prototype.qe=function(t,e){t.He(e)},A.prototype.Ve=function(t){if(t.xe<0||t.De>2*this.Ae.De)return t.Be(this.Ae);if(t.Ue(this.Ae)<0)return t;var e=y();return t.Je(e),this.reduce(e),e},A.prototype.Fe=function(t){return t},A.prototype.reduce=function(t){for(t.Qe(this.Ae.De-1,this.r2),t.De>this.Ae.De+1&&(t.De=this.Ae.De+1,t.ze()),this.Oe.oi(this.r2,this.Ae.De+1,this.Re),this.Ae.ui(this.Re,this.Ae.De+1,this.r2);t.Ue(this.r2)<0;)t.si(1,this.Ae.De+1);for(t.Ye(this.r2,t);0<=t.Ue(this.Ae);)t.Ye(this.Ae,t)},A.prototype.Ge=function(t,e,n){t.Ke(e,n),this.reduce(n)},A.prototype.qe=function(t,e){t.He(e),this.reduce(e)};var _=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],S=(1<<26)/_[_.length-1];function I(){this.ai=0,this.fi=0,this.ci=[]}m.prototype.li=function(t){return Math.floor(Math.LN2*this.me/Math.log(t))},m.prototype.ei=function(t){if(null==t&&(t=10),0==this.pi()||t<2||36<t)return"0";var e=this.li(t),n=Math.pow(t,e),i=g(n),r=y(),o=y(),s="";for(this.je(i,r,o);0<r.pi();)s=(n+o.vi()).toString(t).substr(1)+s,r.je(i,r,o);return o.vi().toString(t)+s},m.prototype.Xe=function(t,e){this.Pe(0),null==e&&(e=10);for(var n=this.li(e),i=Math.pow(e,n),r=!1,o=0,s=0,a=0;a<t.length;++a){var u=c(t,a);u<0?"-"==t.charAt(a)&&0==this.pi()&&(r=!0):(s=e*s+u,++o>=n&&(this.di(i),this.si(s,0),s=o=0))}0<o&&(this.di(Math.pow(e,o)),this.si(s,0)),r&&m.ZERO.Ye(this,this)},m.prototype.he=function(t,e,n){if("number"==typeof e)if(t<2)this.Pe(1);else for(this.he(t,n),this.hi(t-1)||this._i(m.ONE.shiftLeft(t-1),o,this),this.ni()&&this.si(1,0);!this.gi(e);)this.si(2,0),this.ii()>t&&this.Ye(m.ONE.shiftLeft(t-1),this);else{var i=[],r=7&t;i.length=1+(t>>3),e.mi(i),0<r?i[0]&=(1<<r)-1:i[0]=0,this._e(i,256)}},m.prototype._i=function(t,e,n){var i,r,o=Math.min(t.De,this.De);for(i=0;i<o;++i)n[i]=e(this[i],t[i]);if(t.De<this.De){for(r=t.xe&this.we,i=o;i<this.De;++i)n[i]=e(this[i],r);n.De=this.De}else{for(r=this.xe&this.we,i=o;i<t.De;++i)n[i]=e(r,t[i]);n.De=t.De}n.xe=e(this.xe,t.xe),n.ze()},m.prototype.wi=function(t,e){var n=m.ONE.shiftLeft(t);return this._i(n,e,n),n},m.prototype.yi=function(t,e){for(var n=0,i=0,r=Math.min(t.De,this.De);n<r;)i+=this[n]+t[n],e[n++]=i&this.we,i>>=this.me;if(t.De<this.De){for(i+=t.xe;n<this.De;)i+=this[n],e[n++]=i&this.we,i>>=this.me;i+=this.xe}else{for(i+=this.xe;n<t.De;)i+=t[n],e[n++]=i&this.we,i>>=this.me;i+=t.xe}e.xe=i<0?-1:0,0<i?e[n++]=i:i<-1&&(e[n++]=this.ye+i),e.De=n,e.ze()},m.prototype.di=function(t){this[this.De]=this.ge(0,t-1,this,0,0,this.De),++this.De,this.ze()},m.prototype.si=function(t,e){if(0!=t){for(;this.De<=e;)this[this.De++]=0;for(this[e]+=t;this[e]>=this.ye;)this[e]-=this.ye,++e>=this.De&&(this[this.De++]=0),++this[e]}},m.prototype.ui=function(t,e,n){var i,r=Math.min(this.De+t.De,e);for(n.xe=0,n.De=r;0<r;)n[--r]=0;for(i=n.De-this.De;r<i;++r)n[r+this.De]=this.ge(0,t[r],n,r,0,this.De);for(i=Math.min(t.De,e);r<i;++r)this.ge(0,t[r],n,r,0,e-r);n.ze()},m.prototype.oi=function(t,e,n){--e;var i=n.De=this.De+t.De-e;for(n.xe=0;0<=--i;)n[i]=0;for(i=Math.max(e-this.De,0);i<t.De;++i)n[this.De+i-e]=this.ge(e-i,t[i],n,0,0,this.De+i-e);n.ze(),n.Qe(1,n)},m.prototype.bi=function(t){if(t<=0)return 0;var e=this.ye%t,n=this.xe<0?t-1:0;if(0<this.De)if(0==e)n=this[0]%t;else for(var i=this.De-1;0<=i;--i)n=(e*n+this[i])%t;return n},m.prototype.Ii=function(t){var e=this.Si(m.ONE),n=e.Pi();if(n<=0)return!1;var i=e.Ai(n);(t=t+1>>1)>_.length&&(t=_.length);for(var r=y(),o=0;o<t;++o){r.Pe(_[Math.floor(Math.random()*_.length)]);var s=r.Ci(i,this);if(0!=s.Ue(m.ONE)&&0!=s.Ue(e)){for(var a=1;a++<n&&0!=s.Ue(e);)if(0==(s=s.ri(2,this)).Ue(m.ONE))return!1;if(0!=s.Ue(e))return!1}}return!0},m.prototype.clone=function(){var t=y();return this.Je(t),t},m.prototype.vi=function(){if(this.xe<0){if(1==this.De)return this[0]-this.ye;if(0==this.De)return-1}else{if(1==this.De)return this[0];if(0==this.De)return 0}return(this[1]&(1<<32-this.me)-1)<<this.me|this[0]},m.prototype.ki=function(){return 0==this.De?this.xe:this[0]<<24>>24},m.prototype.Ei=function(){return 0==this.De?this.xe:this[0]<<16>>16},m.prototype.pi=function(){return this.xe<0?-1:this.De<=0||1==this.De&&this[0]<=0?0:1},m.prototype.Ti=function(){var t=this.De,e=[];e[0]=this.xe;var n,i=this.me-t*this.me%8,r=0;if(0<t--)for(i<this.me&&(n=this[t]>>i)!=(this.xe&this.we)>>i&&(e[r++]=n|this.xe<<this.me-i);0<=t;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.me-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.me,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.xe)!=(128&n)&&++r,(0<r||n!=this.xe)&&(e[r++]=n);return e},m.prototype.Ni=function(t){return 0==this.Ue(t)},m.prototype.min=function(t){return this.Ue(t)<0?this:t},m.prototype.max=function(t){return 0<this.Ue(t)?this:t},m.prototype.Li=function(t){var e=y();return this._i(t,r,e),e},m.prototype.Di=function(t){var e=y();return this._i(t,o,e),e},m.prototype.Ri=function(t){var e=y();return this._i(t,a,e),e},m.prototype.Mi=function(t){var e=y();return this._i(t,l,e),e},m.prototype.Oi=function(){for(var t=y(),e=0;e<this.De;++e)t[e]=this.we&~this[e];return t.De=this.De,t.xe=~this.xe,t},m.prototype.shiftLeft=function(t){var e=y();return t<0?this.$e(-t,e):this.Ze(t,e),e},m.prototype.Ai=function(t){var e=y();return t<0?this.Ze(-t,e):this.$e(t,e),e},m.prototype.Pi=function(){for(var t=0;t<this.De;++t)if(0!=this[t])return t*this.me+f(this[t]);return this.xe<0?this.De*this.me:-1},m.prototype.Wi=function(){for(var t=0,e=this.xe&this.we,n=0;n<this.De;++n)t+=d(this[n]^e);return t},m.prototype.hi=function(t){var e=Math.floor(t/this.me);return e>=this.De?0!=this.xe:0!=(this[e]&1<<t%this.me)},m.prototype.Vi=function(t){return this.wi(t,o)},m.prototype.xi=function(t){return this.wi(t,l)},m.prototype.Ui=function(t){return this.wi(t,a)},m.prototype.add=function(t){var e=y();return this.yi(t,e),e},m.prototype.Si=function(t){var e=y();return this.Ye(t,e),e},m.prototype.multiply=function(t){var e=y();return this.Ke(t,e),e},m.prototype.We=function(t){var e=y();return this.je(t,e,null),e},m.prototype.Bi=function(t){var e=y();return this.je(t,null,e),e},m.prototype.Fi=function(t){var e=y(),n=y();return this.je(t,e,n),[e,n]},m.prototype.Ci=function(t,e){var n,i,r=t.ii(),o=g(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new v(e):e.ni()?new A(e):new E(e);var s=[],a=3,u=n-1,c=(1<<n)-1;if(s[1]=i.Ve(this),1<n){var l=y();for(i.qe(s[1],l);a<=c;)s[a]=y(),i.Ge(l,s[a-2],s[a]),a+=2}var f,d,p=t.De-1,h=!0,_=y();for(r=b(t[p])-1;0<=p;){for(u<=r?f=t[p]>>r-u&c:(f=(t[p]&(1<<r+1)-1)<<u-r,0<p&&(f|=t[p-1]>>this.me+r-u)),a=n;0==(1&f);)f>>=1,--a;if((r-=a)<0&&(r+=this.me,--p),h)s[f].Je(o),h=!1;else{for(;1<a;)i.qe(o,_),i.qe(_,o),a-=2;0<a?i.qe(o,_):(d=o,o=_,_=d),i.Ge(_,s[f],o)}for(;0<=p&&0==(t[p]&1<<r);)i.qe(o,_),d=o,o=_,_=d,--r<0&&(r=this.me-1,--p)}return i.Fe(o)},m.prototype.ji=function(t){var e=t.ni();if(this.ni()&&e||0==t.pi())return m.ZERO;for(var n=t.clone(),i=this.clone(),r=g(1),o=g(0),s=g(0),a=g(1);0!=n.pi();){for(;n.ni();)n.$e(1,n),e?(r.ni()&&o.ni()||(r.yi(this,r),o.Ye(t,o)),r.$e(1,r)):o.ni()||o.Ye(t,o),o.$e(1,o);for(;i.ni();)i.$e(1,i),e?(s.ni()&&a.ni()||(s.yi(this,s),a.Ye(t,a)),s.$e(1,s)):a.ni()||a.Ye(t,a),a.$e(1,a);0<=n.Ue(i)?(n.Ye(i,n),e&&r.Ye(s,r),o.Ye(a,o)):(i.Ye(n,i),e&&s.Ye(r,s),a.Ye(o,a))}return 0!=i.Ue(m.ONE)?m.ZERO:0<=a.Ue(t)?a.Si(t):a.pi()<0?(a.yi(t,a),a.pi()<0?a.add(t):a):a},m.prototype.pow=function(t){return this.exp(t,new p)},m.prototype.Gi=function(t){var e=this.xe<0?this.ti():this.clone(),n=t.xe<0?t.ti():t.clone();if(e.Ue(n)<0){var i=e;e=n,n=i}var r=e.Pi(),o=n.Pi();if(o<0)return e;for(r<o&&(o=r),0<o&&(e.$e(o,e),n.$e(o,n));0<e.pi();)0<(r=e.Pi())&&e.$e(r,e),0<(r=n.Pi())&&n.$e(r,n),0<=e.Ue(n)?(e.Ye(n,e),e.$e(1,e)):(n.Ye(e,n),n.$e(1,n));return 0<o&&n.Ze(o,n),n},m.prototype.gi=function(t){var e,n=this.abs();if(1==n.De&&n[0]<=_[_.length-1]){for(e=0;e<_.length;++e)if(n[0]==_[e])return!0;return!1}if(n.ni())return!1;for(e=1;e<_.length;){for(var i=_[e],r=e+1;r<_.length&&i<S;)i*=_[r++];for(i=n.bi(i);e<r;)if(i%_[e++]==0)return!1}return n.Ii(t)},m.prototype.Ki=function(){var t=y();return this.He(t),t},I.prototype.init=function(t){var e,n,i;for(e=0;e<256;++e)this.ci[e]=e;for(e=n=0;e<256;++e)n=n+this.ci[e]+t[e%t.length]&255,i=this.ci[e],this.ci[e]=this.ci[n],this.ci[n]=i;this.ai=0,this.fi=0},I.prototype.next=function(){var t;return this.ai=this.ai+1&255,this.fi=this.fi+this.ci[this.ai]&255,t=this.ci[this.ai],this.ci[this.ai]=this.ci[this.fi],this.ci[this.fi]=t,this.ci[t+this.ci[this.ai]&255]};var T,P,C,O=256;function N(){var t;t=(new Date).getTime(),P[C++]^=255&t,P[C++]^=t>>8&255,P[C++]^=t>>16&255,P[C++]^=t>>24&255,O<=C&&(C-=O)}if(null==P){var w;for(P=[],C=0;C<O;)w=Math.floor(65536*Math.random()),P[C++]=w>>>8,P[C++]=255&w;C=0,N()}function L(){if(null==T){for(N(),(T=new I).init(P),C=0;C<P.length;++C)P[C]=0;C=0}return T.next()}function D(){}function R(t,e){return new m(t,e)}function M(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}D.prototype.mi=function(t){var e;for(e=0;e<t.length;++e)t[e]=L()},M.prototype.qi=function(t){return t.ri(this.e,this.n)},M.prototype.Hi=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=R(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},M.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=[],i=t.length-1;0<=i&&0<e;){var r=t.charCodeAt(i--);n[--e]=r<128?r:127<r&&r<2048?(n[--e]=63&r|128,r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,r>>12|224)}n[--e]=0;for(var o=new D,s=[];2<e;){for(s[0]=0;0==s[0];)o.mi(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new m(n)}(t,this.n.ii()+7>>3);if(null==e)return null;var n=this.qi(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},M.prototype.Yi=function(t){if(null==this.p||null==this.q)return t.Ci(this.d,this.n);for(var e=t.Be(this.p).Ci(this.dmp1,this.p),n=t.Be(this.q).Ci(this.dmq1,this.q);e.Ue(n)<0;)e=e.add(this.p);return e.Si(n).multiply(this.coeff).Be(this.p).multiply(this.q).add(n)},M.prototype.Ji=function(t,e,n){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=R(t,16),this.e=parseInt(e,16),this.d=R(n,16)):alert("Invalid RSA private key")},M.prototype.zi=function(t,e,n,i,r,o,s,a){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=R(t,16),this.e=parseInt(e,16),this.d=R(n,16),this.p=R(i,16),this.q=R(r,16),this.dmp1=R(o,16),this.dmq1=R(s,16),this.coeff=R(a,16)):alert("Invalid RSA private key")},M.prototype.Qi=function(t,e){var n=new D,i=t>>1;this.e=parseInt(e,16);for(var r=new m(e,16);;){for(;this.p=new m(t-i,1,n),0!=this.p.Si(m.ONE).Gi(r).Ue(m.ONE)||!this.p.gi(10););for(;this.q=new m(i,1,n),0!=this.q.Si(m.ONE).Gi(r).Ue(m.ONE)||!this.q.gi(10););if(this.p.Ue(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.Si(m.ONE),a=this.q.Si(m.ONE),u=s.multiply(a);if(0==u.Gi(r).Ue(m.ONE)){this.n=this.p.multiply(this.q),this.d=r.ji(u),this.dmp1=this.d.Be(s),this.dmq1=this.d.Be(a),this.coeff=this.q.ji(this.p);break}}},M.prototype.decrypt=function(t){var e=R(t,16),n=this.Yi(e);return null==n?null:function(t,e){for(var n=t.Ti(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var o=255&n[i];o<128?r+=String.fromCharCode(o):191<o&&o<224?(r+=String.fromCharCode((31&o)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.ii()+7>>3)};var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function x(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=U.charAt(n>>6)+U.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=U.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=U.charAt(n>>2)+U.charAt((3&n)<<4));0<(3&i.length);)i+="=";return i}M.prototype.Xi=function(t){t=this.Zi(t);var e=this.$i(),n=0,i=null,r=null,o=0;for(var s in e)e.hasOwnProperty(s)&&((i=e[s]).hasOwnProperty("offset")&&(n+=2*i.offset),o="string"==typeof i.length?this[i.length]:i.length,o*=2,r=t.substr(n,o),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=R(r,16))),n+=o,this[s]=r)},M.prototype.nr=function(t){var e="";t=function(t){var e,n,i,r=(t=""+t).length;if(0===r)return t;if(r%4!=0)throw new Error;e=0,"="===t.charAt(r-1)&&(e=1,"="===t.charAt(r-2)&&(e=2),r-=4);var o=[];for(n=0;n<r;n+=4)i=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6|s(t,n+3),o.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(e){case 1:i=s(t,n)<<18|s(t,n+1)<<12|s(t,n+2)<<6,o.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=s(t,n)<<18|s(t,n+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")}(t);for(var n=0;n<t.length;++n){var i=t.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),e+=i}return e},M.prototype.Zi=function(t){var e=(t=t.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==e[0].substring(0,10)&&(e=e.slice(1,e.length-1)),t=e.join(""),this.nr(t)},M.prototype.tr=function(){var t="",e=this.$i(),n=null,i=null,r=0;for(var o in e)e.hasOwnProperty(o)&&(n=e[o]).er&&((i=this[o].toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.ir&&(i="00"+i),(r=(r=i.length/2).toString(16)).length%2&&(r="0"+r),n.hasOwnProperty("extraspace")&&(t+=r),t+=r,t+=i,t+="02");return t.slice(0,-2)},M.prototype.rr=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(new RegExp(n,"g")).join("\n")},M.prototype.or=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n",e="3082025e02010002";return e+=this.tr(),t+=this.rr(x(e))+"\n",t+="-----END RSA PRIVATE KEY-----"},M.prototype.ur=function(){var t="-----BEGIN PUBLIC KEY-----\n",e="30819f300d06092a864886f70d010101050003818d0030818902";return e+=this.tr(),t+=this.rr(x(e))+"\n",t+="-----END PUBLIC KEY-----"};var k=function(t){M.call(this),t&&this.Xi(t)};((k.prototype=new M).constructor=k).prototype.$i=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",er:!0,ir:!0,sr:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",er:!0,ir:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",er:!0,ir:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",er:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",er:!0,ir:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",er:!0,ir:!0}}};var B=function(t){M.call(this),t&&("string"==typeof t?this.Xi(t):t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&(this.n=t.n,this.e=t.e))};((B.prototype=new M).constructor=B).prototype.$i=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",er:!0,ir:!0,sr:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",er:!0}}};var V=function(){this.ar=null,this.cr=null};return V.prototype.lr=function(t){this.ar=new k(t),this.cr=new B(this.ar)},V.prototype.pr=function(t){this.cr=new B(t)},V.prototype.decrypt=function(t){return!!this.ar&&this.ar.decrypt(function(t){var e,n,i="",r=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var o=U.indexOf(t.charAt(e));o<0||(r=0==r?(i+=u(o>>2),n=3&o,1):1==r?(i+=u(n<<2|o>>4),n=15&o,2):2==r?(i+=u(n),i+=u(o>>2),n=3&o,3):(i+=u(n<<2|o>>4),i+=u(15&o),0))}return 1==r&&(i+=u(n<<2)),i}(t))},V.prototype.encrypt=function(t){var e=this.cr||this.ar;return!!e&&x(e.encrypt(t))},V.prototype.or=function(){return this.ar||(this.ar=new k,this.ar.Qi(1024,"010001"),this.cr=new B(this.ar)),this.ar.or()},V.prototype.ur=function(){return this.cr||(this.cr=new B,this.cr.Qi(1024,"010001")),this.cr.ur()},function(t){var e=new V;return e.pr(G.Xt),e.encrypt(t)}}(),e.exports=i.encrypt},{17:17}],26:[function(t,e,n){var i=i||{},r="undefined";i.vr=function(t,e){return e=e||!1,t?"0"!=t:e},i.U=function(t,e){return null==t||isNaN(t)?e||0:parseInt(t)},i.o=function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},i.toString=function(t){if(typeof t==r)return r;if("string"==typeof t)return t;if(t instanceof Array)return t.join(",");var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e||t.toString()},e.exports.vr=i.vr,e.exports.U=i.U,e.exports.o=i.o,e.exports.toString=i.toString},{}],27:[function(t,e,n){var a=t(19),i="undefined",u=typeof encodeURIComponent!==i?encodeURIComponent:escape,s=typeof decodeURIComponent!==i?decodeURIComponent:unescape,c="cs_dir_",l="cs_file_",f=typeof localStorage!==i?localStorage:null,d={},p=f&&u&&s,o={dir:function(t){if(!p)return null;var e=c+t,n=d[e];if(n)return n.slice();var i=f.getItem(e);if(i){n=[];for(var r=0,o=(i=i.split("|")).length;r<o;r++)0<i[r].length&&n.push(s(i[r]));return(d[e]=n).slice()}return null},append:function(t,e,n){if(p){var i=o.read(t,e);i?i+=n:i=n,o.write(t,e,i)}},write:function(t,e,n){if(p){var i,r=o.dir(t);r||(i=c+t,"function"==typeof f.setItem?f.setItem(i,""):f[i]="",d[i]=[],r=[]),-1==a.indexOf(e,r)&&function(t,e){var n=c+t;try{"function"==typeof f.setItem?f.setItem(n,f.getItem(n)+"|"+u(e)):f[n]=f.getItem(n)+"|"+u(e)}catch(t){}d[n].push(e)}(t,e),function(t,e,n){try{"function"==typeof f.setItem?f.setItem(l+t+e,n):f[l+t+e]=n}catch(t){}}(t,e,n)}},deleteFile:function(t,e){if(!p)return!1;var n=o.dir(t);return!!n&&-1!=a.indexOf(e,n)&&(function(t,e){var n=c+t,i=d[n];i.splice(a.indexOf(e,i),1);for(var r=[],o=0,s=i.length;o<s;o++)r.push(u(i[o]));try{"function"==typeof f.setItem?f.setItem(n,r.join("|")):f[n]=r.join("|"),"function"==typeof f.removeItem?f.removeItem(l+t+e):delete f[l+t+e]}catch(t){}}(t,e),!0)},read:function(t,e){if(!p)return null;var n=o.dir(t);return n?-1==a.indexOf(e,n)?null:function(t,e){try{return"function"==typeof f.getItem?f.getItem(l+t+e):f[l+t+e]}catch(t){}}(t,e):null}};e.exports=o},{19:19}],28:[function(t,e,n){var s,r,o=t(19),i="undefined",a=null,u=null,c="cs_dir_",l="|",f={},d=!1;function p(){a=typeof FileSystem!=i?new FileSystem:null,u=typeof curWidget!=i?curWidget.id:null,typeof sf!==i&&(r=s=function(t,e){sf.core.localData(t,e)}),null==a||typeof a.isValidCommonPath==i||a.isValidCommonPath(u)||a.createCommonDir(u),d=!0}function h(t){return t.replace(/^\s+|\s+$/g,"")}function _(t,e){var n=f[t];n?n.push(e):n=f[t]=[e],r(c+t,n.join(l))}function g(t,e){var n=f[t],i=o.indexOf(e,n);0<=i&&(n.splice(i,1),r(c+t,0===n.length?null:n.join(l)))}var v={dir:function(t){if(d||p(),a.isValidCommonPath(u+"/"+t)){var e=f[t];if(!e){if(!(e=s(c+t)))return null;e=f[t]=e.split(l)}for(var n=e.slice(),i=0,r=n.length;i<r;i++){var o=e[i];a.isValidCommonPath(u+"/"+t+"/"+o)||g(t,o)}return n}return null},append:function(t,e,n){d||p();var i=u+"/"+t;a.isValidCommonPath(i)||a.createCommonDir(i),a.isValidCommonPath(i+"/"+e)||_(t,e);var r=a.openCommonFile(i+"/"+e,"a");r.writeLine(h(n)),a.closeCommonFile(r)},write:function(t,e,n){d||p();var i=u+"/"+t;a.isValidCommonPath(i)||a.createCommonDir(i),a.isValidCommonPath(i+"/"+e)||_(t,e);var r=a.openCommonFile(i+"/"+e,"w");r.writeLine(h(n)),a.closeCommonFile(r)},deleteFile:function(t,e){d||p();var n=u+"/"+t;return!!a.isValidCommonPath(n)&&(g(t,e),a.deleteCommonFile(n+"/"+e))},read:function(t,e){d||p();var n=u+"/"+t;if(!a.isValidCommonPath(n))return null;var i=a.openCommonFile(n+"/"+e,"r");if(i){for(var r,o=[];r=i.readLine();)o.push(r);return a.closeCommonFile(i),o.join("\n")}return g(t,e),""}};e.exports=v},{19:19}],29:[function(t,e,n){e.exports={dir:function(){return null},append:function(t,e,n){},write:function(t,e,n){},deleteFile:function(){return!1},read:function(){return null}}},{}],30:[function(t,e,n){var i=t(21),r=t(17),o=t(49).dr,s=t(49).hr(),a=t(45),u=t(29),c="undefined",l=r.D,f=r.Qt,d=null,p=null,h=null;function _(){null==d&&(p=typeof atv!=c&&typeof atv.device!=c&&atv.device.idForVendor?(d=i.pe(atv.device.idForVendor,""),"62"):(d=+new Date+~~(1e3*Math.random()),"72"),h=null)}var g={PLATFORM:"atv",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return _(),h},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return _(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.softwareVersion,l)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.softwareVersion,l)},getDisplayResolution:function(){return typeof atv.device!=c&&typeof atv.device.screenFrame!=c&&typeof atv.device.screenFrame.height!=c&&typeof atv.device.screenFrame.width!=c?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:f},getLanguage:function(){return typeof atv!=c&&typeof atv.device!=c&&i.pe(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(t,e){return typeof atv!=c&&typeof atv.setTimeout!=c&&atv.setTimeout(t,e)},setInterval:function(t,e){return typeof atv!=c&&typeof atv.setInterval!=c&&atv.setInterval(t,e)},clearTimeout:function(t){return typeof atv!=c&&typeof atv.clearTimeout!=c&&atv.clearTimeout(t)},clearInterval:function(t){return typeof atv!=c&&typeof atv.clearInterval!=c&&atv.clearInterval(t)},isCompatible:function(){return typeof window==c&&typeof atv!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,45:45,49:49}],31:[function(t,e,n){var i=t(21),r=t(20),o=t(17),s=t(50),a=t(48)._r,u=t(46),c=t(27),l="undefined",f=o.D,d=o.Qt,p={PLATFORM:"chromecast",httpGet:s,httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===l?f:ns_.crm.getApplicationData().name},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.pe(r.ue()+" "+r.se(),f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availWidth)?window.screen.availWidth:0,e=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availHeight)?window.screen.availHeight:0;return 0<t&&0<e?t+"x"+e:d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==l&&!i.jt(window.cast)&&!i.jt(cast.receiver)},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=p},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(t,e,n){e.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(t,e,n){var i=t(21),r=t(17),o=t(50),s=t(48).gr,a=t(48)._r,u=t(46),c=t(27),l="undefined",f=r.D,d=r.Qt,p=null,h=null,_=null;function g(){return typeof device!=l&&typeof device.available!=l&&device.available&&typeof window!=l&&typeof window.navigator!=l}function v(){if(null==p){var t=g()&&typeof device!=l&&i.tn(device.uuid)&&0<device.uuid.length?device.uuid:null;_=null!=t?(h="31",p=t):(p=+new Date+~~(1e3*Math.random()),h="72",null)}}var E={PLATFORM:"cordova",httpGet:function(){return typeof Image!=l?o.apply(this,arguments):s.apply(this,arguments)},httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return v(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return v(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return typeof device!=l&&i.tn(device.model)||f},getPlatformVersion:function(){return typeof device!=l&&i.tn(device.cordova)&&device.cordova||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=l&&i.tn(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=l&&i.tn(device.version)||f},getDisplayResolution:function(){var t=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availWidth)&&window.screen.availWidth||0,e=typeof window!=l&&i.tn(window.screen)&&i.tn(window.screen.availHeight)&&window.screen.availHeight||0;return 0<t&&0<e?t+"x"+e:d},getLanguage:function(){return typeof window!=l&&i.tn(window.navigator)&&i.tn(window.navigator.language)&&window.navigator.language||f},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==l||!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:g,isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=E},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(t,e,n){var i=t(21),r=t(20),o=t(17),s=t(50),a=t(48).gr,u=t(48)._r,c=t(46),l=t(27),f="undefined",d=typeof document!=f&&document||void 0,p=o.D,h=o.Qt,_={PLATFORM:"html5",httpGet:function(){return typeof Image!=f?s.apply(this,arguments):a.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return d&&i.tn(d.title)&&d.title||p},getAppVersion:function(){return p},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.pe(r.ue()+" "+r.se(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var t,e;typeof window!=f&&window.screen&&window.screen.width&&(t=window.screen.width),typeof window!=f&&window.screen&&window.screen.width&&(e=window.screen.height);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):h},getApplicationResolution:function(){var t,e;typeof window!=f&&window.innerWidth&&(t=window.innerWidth),typeof window!=f&&window.innerHeight&&(e=window.innerHeight);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<t&&0<e?(t*=n)+"x"+(e*=n):h},getLanguage:function(){return typeof window!=f&&i.tn(window.navigator)&&i.pe(window.navigator.language,"")||p},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==f||!i.tn(window.navigator)||!i.tn(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){return typeof window!==f&&i.tn(window.navigator)&&i.tn(window.localStorage)&&i.tn(d)&&!!d.createElement("canvas").getContext},isConnectionSecure:function(){return!!d&&"s"===d.location.href.charAt(4)}};e.exports=_},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(48)._r,a=t(46),u=t(27),c="undefined",l=r.D,f=r.Qt,d=null,p=null,h=null;function _(){if(null==d)if(typeof jsmaf!=c&&i.tn(jsmaf.hardwareId)){var t=jsmaf.hardwareId;p="31",h=d=t}else d=+new Date+~~(1e3*Math.random()),p="72",h=null}function g(){return typeof jsmaf==c||!i.tn(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var v={PLATFORM:"jsmaf",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return _(),h},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return _(),d},getVisitorIdSuffix:function(){return _(),p},getDeviceModel:function(){return typeof jsmaf!=c&&i.tn(jsmaf.platform)?jsmaf.platform:l},getPlatformName:function(){return"js"},getPlatformVersion:function(){return l},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=c&&i.tn(jsmaf.version)?jsmaf.version:l},getDisplayResolution:function(){return typeof jsmaf!=c&&i.tn(jsmaf.screenWidth)&&i.tn(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:f},getLanguage:function(){return typeof jsmaf!=c&&i.tn(jsmaf.locale)?jsmaf.locale:l},getPackageName:function(){return null},isConnectionAvailable:g,isCompatible:function(){return typeof jsmaf!=c},setTimeout:function(t,e){return jsmaf.setTimeout(t,e)},setInterval:function(t,e){return jsmaf.setInterval(t,e)},clearTimeout:function(t){return jsmaf.clearTimeout(t)},clearInterval:function(t){return jsmaf.clearInterval(t)},getDeviceArchitecture:function(){if(typeof jsmaf==c||!i.tn(jsmaf.platform))var t=l;return"ps3"==jsmaf.platform?t="cell":"ps4"==jsmaf.platform?t="ps4":"vita"==jsmaf.platform&&(t="vita"),t},getConnectionType:function(){return g()&&typeof jsmaf!=c&&i.tn(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":l:l},getDeviceJailBrokenFlag:function(){return l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=v},{17:17,21:21,27:27,46:46,48:48}],36:[function(t,e,n){var i=t(50),r=t(52).mr,o=t(46),s=t(29),a=t(17),u=a.D,c=a.Qt,l={PLATFORM:"generic",httpGet:i,httpPost:r,Storage:o,IO:s,onDataFetch:function(t){t()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return c},getApplicationResolution:function(){return c},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearTimeout:function(t){return clearTimeout(t)},clearInterval:function(t){return clearInterval(t)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};e.exports=l},{17:17,29:29,46:46,50:50,52:52}],37:[function(t,e,n){var i=t(21),r=t(17),o=t(50),s=t(48).gr,a=t(52).mr,u=t(46),c=t(29),l="undefined",f=r.D,d=r.Qt,p=null,h=null,_=null;function g(){if(null==p){var t=function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.net_macAddress)&&i.lt(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(i.tn(ns_.netcastDevice.serialNumber)&&i.lt(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();_=null!=t?(h="31",p=t):(p=+new Date+~~(1e3*Math.random()),h="72",null)}}var v={PLATFORM:"netcast",httpGet:function(){return typeof Image!=l?o.apply(this,arguments):s.apply(this,arguments)},httpPost:a,Storage:u,IO:c,getCrossPublisherId:function(){return g(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return g(),p},getVisitorIdSuffix:function(){return h},getDeviceModel:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||f},getPlatformVersion:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.version,f)||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)?"lg-ott"+i.pe(ns_.netcastDevice.platform,f):f},getRuntimeVersion:function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)){if(i.tn(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(i.tn(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(i.tn(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return f},getDisplayResolution:function(){if(typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.tn(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return d},getLanguage:function(){return typeof ns_!=l&&i.tn(ns_.netcastDevice)&&i.pe(ns_.netcastDevice.tvLanguage2,i.pe(window.navigator.language))||f},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===l||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==l){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return f},isCompatible:function(){return typeof ns_!=l&&typeof ns_.netcastDevice!=l&&typeof ns_.netcastDevice.version!=l&&typeof window!=l&&typeof window.navigator!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=v},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(h,_,g){(function(t){var e=h(21),n=h(17),i=h(52).mr,r=h(46),o=h(29),s="undefined",a=n.D,u=n.Qt,c=null,l=null,f=null;function d(){null==c&&(c=+new Date+~~(1e3*Math.random()),l="72",f=null)}var p={PLATFORM:"nodejs",httpGet:function(t,e){new function(n){var i=this,r=0;i.send=function(t){h("http").get(t,function(t){var e=t.statusCode;if((302==e||301==e)&&r<20&&t.headers&&t.headers.location)return r++,void i.send(t.headers.location);n(e)}).on("error",function(){n()})}}(e).send(t)},httpPost:i,Storage:r,IO:o,getCrossPublisherId:function(){return d(),f},getVisitorId:function(){return d(),c},getVisitorIdSuffix:function(){return l},getPlatformVersion:function(){var t=h("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof v===s||e.jt(v.version)?a:v.version},getDisplayResolution:function(){return u},isCompatible:function(){return typeof window===s&&typeof _!==s&&typeof g!==s&&typeof t!==s&&typeof v!==s&&e.tn(v.version)},isConnectionSecure:function(){return!1}};_.exports=p}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(t,e,n){var i=t(24),r=t(32),o=t(36),s=t(40),a=t(37),u=t(43),c=t(33),l=t(41),f=t(30),d=t(44),p=t(31),h=t(42),_=t(35),g=t(38),v=t(34),E=!1;o.autoDetect=function(){E||(E=!0,s.isCompatible()?i.extend(o,s):a.isCompatible()?i.extend(o,a):u.isCompatible()?i.extend(o,u):c.isCompatible()?i.extend(o,c):l.isCompatible()?i.extend(o,l):f.isCompatible()?i.extend(o,f):d.isCompatible()?i.extend(o,d):p.isCompatible()?i.extend(o,p):h.isCompatible()?i.extend(o,h):_.isCompatible()?i.extend(o,_):g.isCompatible()?i.extend(o,g):v.isCompatible()&&i.extend(o,v))},o.autoSelect=o.autoDetect,o.setPlatformAPI=function(t){switch(E=!0,t){case r.SmartTV:i.extend(o,s);break;case r.Netcast:i.extend(o,a);break;case r.Cordova:i.extend(o,c);break;case r.Trilithium:i.extend(o,l);break;case r.AppleTV:i.extend(o,f);break;case r.Chromecast:i.extend(o,p);break;case r.Xbox:i.extend(o,d);break;case r.webOS:i.extend(o,u);break;case r.tvOS:i.extend(o,h);break;case r.JSMAF:i.extend(o,_);break;case r.nodejs:i.extend(o,g);break;case r.html5:i.extend(o,v);break;case r.Skeleton:break;default:E=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(52).mr,a=t(47),u=t(28),c="undefined",l=r.D,f=r.Qt,d=null,p=null,h=null;function _(){if(null==d){var t=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var t=sf.core.sefplugin("NNAVI");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return null;t.Open("Network","1.001","Network");var e=t.Execute("GetMAC","0");if(!i.jt(e))return e;if(e=t.Execute("GetMAC","1"),!i.jt(e))return e;var n=t.Execute("GetDeviceID");return i.jt(n)?null:n}();h=null!=t?(p="31",d=t):(d=+new Date+~~(1e3*Math.random()),p="72",null)}}var g={PLATFORM:"smarttv",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return _(),h},getAppName:function(){return l},getAppVersion:function(){return typeof sf!=c&&i.tn(sf.env)&&i.tn(sf.env.getAppVersion)&&sf.env.getAppVersion()||l},getVisitorId:function(){return _(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return typeof sf!=c&&i.tn(sf.core)&&i.tn(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||l},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==c&&i.tn(sf.env)&&i.tn(sf.env.getProductType)&&i.tn(sf.env.PRODUCTTYPE_TV)&&i.tn(sf.env.PRODUCTTYPE_MONITOR)&&i.tn(sf.env.PRODUCTTYPE_BD)){var t=[];return t[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",t[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",t[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",t[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=c&&i.tn(sf.env)&&i.tn(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===c||!i.tn(sf.env)||!i.tn(sf.env.getScreenSize))return f;var t=sf.env.getScreenSize();return t.width+"x"+t.height},getLanguage:function(){if(typeof sf!==c&&i.tn(sf.env)&&i.tn(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=c&&typeof window.navigator!=c&&typeof sf!=c&&typeof sf.env!=c},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return l;var t=sf.core.sefplugin("NETWORK");if("function"!=typeof t.Open||"function"!=typeof t.Execute)return l;t.Open("Network","1.001","Network");var e=t.Execute("GetActiveType");return 0===e?"wired":1===e?"wireless":l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(t,e,n){var i=t(21),r=t(17),o=t(51),s=t(52),a=t(46),u=t(29),c="undefined",l=r.D,f=r.Qt,d=null,p=null,h=null;function _(){if(null==d){var t=i.lt(engine.stats.device.id)?engine.stats.device.id:i.lt(engine.stats.network.mac)?engine.stats.network.mac:null;h=null!=t?(p="31",d=t):(d=+new Date+~~(1e3*Math.random()),p="72",null)}}var g={PLATFORM:"trilithium",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return _(),h},getAppName:function(){return i.lt(engine.stats.application.name)?engine.stats.application.name:l},getAppVersion:function(){return i.lt(engine.stats.application.version)?engine.stats.application.version:l},getVisitorId:function(){return _(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return i.pe(engine.stats.device.platform,l)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return i.pe(engine.stats.device.version,l)},getDisplayResolution:function(){return typeof screen!=c&&typeof screen.height!=c&&typeof screen.width!=c?screen.height+"x"+screen.width:f},getLanguage:function(){return l},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=c&&typeof engine.stats!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=g},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(t,e,n){var i=t(21),r=t(17),o=t(48).gr,s=t(48)._r,a=t(46),u=t(27),c="undefined",l=r.D,f=r.Qt,d=null,p=null,h=null;function _(){null==d&&(p=i.jt(Device.vendorIdentifier)?(d=+new Date+~~(1e3*Math.random()),"72"):(d=Device.vendorIdentifier,"62"),h=d)}var g={PLATFORM:"tvos",httpGet:o,httpPost:s,Storage:a,IO:u,getCrossPublisherId:function(){return _(),h},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return _(),d},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return f},getLanguage:function(){return Settings.language},getPackageName:function(){return l},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===c&&typeof Device!==c&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};e.exports=g},{17:17,21:21,27:27,46:46,48:48}],43:[function(t,e,n){var a,u,c,i=t(21),r=t(17),o=t(50),s=t(48)._r,l=t(46),f=t(27),d="undefined",p=r.D,h=r.Qt,_={PLATFORM:"webos",httpGet:o,httpPost:s,Storage:l,IO:f,onDataFetch:function(t,e){var n,i,r,o=3,s=function(){0==--o&&t()};n=s,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(t){t.returnValue&&(a=t),n()},onFailure:function(){n()}}),i=s,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(t){t.returnValue&&(u=t),i()},onFailure:function(){i()}}),r=s,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(t){t.returnValue&&(c=t),r()},onFailure:function(){r()}})},getCrossPublisherId:function(){return typeof webOS!==d&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return a&&a.modelName?a.modelName:p},getPlatformVersion:function(){return a&&a.sdkVersion?a.sdkVersion:p},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==d&&webOS.device?webOS.device.platformVersion:p},getDisplayResolution:function(){var t=0;typeof webOS!==d&&webOS.device?t=webOS.device.screenWidth:typeof window!=d&&window.screen&&(t=window.screen.availWidth);var e=0;return typeof webOS!==d&&typeof webOS.device!==d?e=webOS.device.screenHeight:typeof window!=d&&window.screen&&(e=window.screen.availHeight),0<t&&0<e?t+"x"+e:h},getLanguage:function(){return u&&u.locales&&(u.locales.UI||u.locales.TV)||p},getPackageName:function(){return p},isConnectionAvailable:function(){return!c||!c.isInternetConnectionAvailable||c.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==d&&!i.jt(window.webOS)&&!i.jt(webOS.service)&&!i.jt(webOS.service.request)},getConnectionType:function(){if(c&&(c.wired||c.wifi)){if("connected"===c.wired.state&&"yes"===c.wired.onInternet)return"eth";if("connected"===c.wifi.state&&"yes"===c.wifi.onInternet)return"wifi"}return p},isConnectionSecure:function(){return typeof document!=d&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(t,e,n){var i=t(17),r=t(53).wr,o=t(53).yr,s=t(46),a=t(27),u="undefined",c=i.D,l=i.Qt,f=null,d=null,p=null,h=!1,_=!1,g=!1;function v(){typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){_=!0}),E(),g=!0}function E(){var t=null;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=e&&!e.br&&e.Ir&&(t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}p=t}var m={PLATFORM:"xbox",httpGet:r,httpPost:o,Storage:s,IO:a,getCrossPublisherId:function(){return g||v(),_&&E(),p},getAppName:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},getAppVersion:function(){var t=c;if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var e=Windows.ApplicationModel.Package.current.id.version;t=e.major+"."+e.minor+"."+e.build+"."+e.revision}return t},getVisitorId:function(){return h||function(){f=typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),d="72",h=!0}(),f},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=c;return typeof navigator!=u&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(t){return-1!=t.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(t){return t&&t.id&&t.id.name&&-1!=t.id.name.indexOf("WinJS")&&t.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var t=l;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var e=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;t=e.rawWidth+"x"+e.rawHeight}return t},getApplicationResolution:function(){var t=l;return typeof window!=u&&window.innerWidth&&window.innerHeight&&(t=window.innerWidth+"x"+window.innerHeight),t},getLanguage:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(t=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),t},getPackageName:function(){var t=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(t=Windows.ApplicationModel.Package.current.id.name),t},isConnectionAvailable:function(){return!(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=u&&WinJS&&typeof Windows!=u&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return g||v(),_},getDeviceArchitecture:function(){var t="unknown";if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:t="arm";break;case 11:t="neutral";break;case 9:t="x64";break;case 0:t="x86"}return t},getConnectionType:function(){var t=c;if(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:t="eth";break;case 71:t="wifi"}return t},getDeviceJailBrokenFlag:function(){return c},isConnectionSecure:function(){return typeof document!=u&&null!=document&&"s"===document.location.href.charAt(4)}};e.exports=m},{17:17,27:27,46:46,53:53}],45:[function(t,e,n){var i=t(24),r="undefined",o="cs_";e.exports=function(){var n=typeof atv!=r&&typeof atv.localStorage!=r&&atv.localStorage||null;i.extend(this,{get:function(t){return n&&t&&n.getItem(o+t)||null},set:function(t,e){n&&t&&(n[o+t]=e)},has:function(t){return n&&t&&null!=n.getItem(o+t)||!1},remove:function(t){n&&t&&n.removeItem(o+t)},clear:function(){}})}},{24:24}],46:[function(t,e,n){var i=t(24),r="cs_";e.exports=function(){var n="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(r+t):n?n[r+t]:n}catch(t){}},set:function(t,e){try{n&&"function"==typeof n.setItem?n.setItem(r+t,e):n&&(n[r+t]=e)}catch(t){}},has:function(t){try{return n&&"function"==typeof n.getItem?n.getItem(r+t):n?n[r+t]:n}catch(t){}},remove:function(t){try{n&&"function"==typeof n.removeItem?n.removeItem(r+t):n&&delete n[r+t]}catch(t){}},clear:function(){try{for(var t=0;n&&t<n.length;++t){var e=n.key(t);e.substr(0,r.length)===r&&("function"==typeof n.removeItem?n.removeItem(e):delete n[e])}}catch(t){}}})}},{24:24}],47:[function(t,e,n){var i,r,o=t(24),s="cs_";"undefined"!=typeof sf?r=i=function(t,e){sf.core.localData(t,e)}:(r=function(t,e){$.sf.setData(t,void 0===e?null:e)},i=function(t){return $.sf.getData(t)}),e.exports=function(){o.extend(this,{get:function(t){return i(s+t)},set:function(t,e){r(s+t,e)},has:function(t){return void 0!==i(s+t)},remove:function(t){r(s+t,null)}})}},{24:24}],48:[function(t,e,n){var r="undefined";n.gr=function(t,e){if(typeof XMLHttpRequest!=r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(e&&e(n.status),n=null)},n.send()}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n._r=function(t,e,n){if(typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",t,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(e)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(t,e,n){var r="undefined";n.dr=function(t,e){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&(e&&e(n.status),n=null)},n.send()}else typeof atv!=r&&"function"==typeof atv.setTimeout?e&&atv.setTimeout(e,0):e&&e()},n.hr=function(t,e,n){if(typeof atv!=r&&typeof XMLHttpRequest!=r){var i=new XMLHttpRequest;i.open("POST",t,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(e)}else typeof atv!=r&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(t,e,n){e.exports=function(t,e){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){e&&e(200),n=null},n.onerror=function(){e&&e(),n=null},n.src=t}else"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],51:[function(t,e,n){e.exports=function(t,e){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",t,null).start(),e&&setTimeout(e,0)):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},{}],52:[function(t,e,n){e.exports.Sr=function(t,e){"function"==typeof setTimeout?e&&setTimeout(function(){e(200)},0):e&&e(200)},e.exports.mr=function(t,e,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)}},{}],53:[function(t,e,n){var i="undefined";n.wr=function(t,e){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:t}).then(function(t){e&&e(t.status)},function(){e&&e()}):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()},n.yr=function(t,e,n){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:t,data:e,headers:{"Content-type":"application/xml"}}).then(function(t){n&&n(t.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(t,e,n){var rt=t(24),ot=t(17),st=t(21),at=t(68),ut=t(23);function i(){var e,n,A,S,i,r,o,s,I,T,P,C,a,u,O,N,c,w,L,l,D,R,M,U,x,k,B,V,G,F,j,f,H,Y,t,W,d,p,h,K,_,g,v,z,E,m,q,y,$,Q,X,Z,J,tt,b,et,nt=this,it=500;rt.extend(nt,{Pr:function(){return e},Ar:function(t){e=t},setPlaybackIntervalMergeTolerance:function(t){it=t},getPlaybackIntervalMergeTolerance:function(){return it},Cr:function(t,e){S[t]=e},kr:function(t){return S[t]},Er:function(t){return null!=S[t]},setLabels:function(t){t&&rt.extend(i,t)},getLabels:function(){return i},setLabel:function(t,e){i[t]=e},getLabel:function(t){return i[t]},dt:function(t){return t in i},Tr:function(){return parseInt(nt.kr("ns_st_cn"))},Nr:function(t){nt.Cr("ns_st_cn",t+"")},Lr:function(){return nt.dt("ns_st_pn")?parseInt(nt.getLabel("ns_st_pn")):parseInt(nt.kr("ns_st_pn"))},Dr:function(t,e,n){var i=t,r=parseInt(i.ns_st_po),o=st.jt(i.ns_st_ap)?D:parseInt(i.ns_st_ap);i.ns_st_dap=n&&et<0&&0<C-r?(i.ns_st_ap=o+C-r,o+C-r-R):n&&0<et&&0<r-C?(i.ns_st_ap=o+r-C,o+r-C-R):(i.ns_st_ap=o)-R;var s=st.jt(i.ns_st_pt)?nt.Rr():parseInt(i.ns_st_pt);i.ns_st_pt=s+(isNaN(I)?0:e-I)+"",i.ns_st_dpt=s+(isNaN(I)?0:e-I)-T+"",i.ns_st_ipt=s+(isNaN(I)?0:e-I)-P+"";var a=st.jt(i.ns_st_et)?nt.Mr():parseInt(i.ns_st_et);i.ns_st_et=a+(isNaN(O)?0:e-O)+"",i.ns_st_det=a+(isNaN(O)?0:e-O)-N+"";var u=st.jt(i.ns_st_bt)?nt.Or():parseInt(i.ns_st_bt);i.ns_st_bt=u+"",i.ns_st_dbt=u+(isNaN(H)?0:e-H)-Y+"";var c=M,l=U;n&&(c=at.Wr(ut(M),et<0?r:x,et<0?x:r,it),l=at.Wr(ut(U),et<0?r:x,et<0?x:r,it));for(var f,d=0,p=0,h=0;h<c.length;h++)d+=f=Math.abs(c[h].end-c[h].start),p<f&&(p=f);var _=0,g=0;for(h=0;h<l.length;h++)_+=f=Math.abs(l[h].end-l[h].start),g<f&&(g=f);i.ns_st_upc=d+"",i.ns_st_dupc=d-k+"",i.ns_st_iupc=d-B+"",i.ns_st_iupc=B<d?d-B+"":"0",i.ns_st_lpc=p+"",i.ns_st_dlpc=p-V+"",i.ns_st_upa=_+"",i.ns_st_dupa=_-G+"",i.ns_st_iupa=F<_?_-F+"":"0",i.ns_st_lpa=g+"",i.ns_st_dlpa=g-j+"";var v=st.jt(i.ns_st_pc)?nt.Vr():parseInt(i.ns_st_pc);i.ns_st_pc=v+"",i.ns_st_dpc=v-q+"";var E=st.jt(i.ns_st_skc)?nt.xr():parseInt(i.ns_st_skc);i.ns_st_skc=E+"",i.ns_st_dskc=E-$+"";var m=st.jt(i.ns_st_bc)?nt.Ur():parseInt(i.ns_st_bc);i.ns_st_bc=m+"",i.ns_st_dbc=m-W+"";var y=st.jt(i.ns_st_skt)?nt.Br():parseInt(i.ns_st_skt);i.ns_st_skt=y+"",i.ns_st_dskt=y-K+"";var b=st.jt(i.ns_st_ska)?nt.Fr():parseInt(i.ns_st_ska);i.ns_st_ska=b+"",i.ns_st_dska=b-z+"",A&&(i.ns_st_spc=Q+"",i.ns_st_apc=X+"",i.ns_st_sq=Z+"",i.ns_st_asq=J+""),i.ns_st_sc=A||0!=tt?tt+"":"1",i.ns_st_rt=et+"",i.ns_st_ldw=w,i.ns_st_ldo=L,rt.extend(i,S)},jr:function(t){T=parseInt(t.ns_st_pt),R=parseInt(t.ns_st_ap),N=parseInt(t.ns_st_et),Y=parseInt(t.ns_st_bt),k=parseInt(t.ns_st_upc),V=parseInt(t.ns_st_lpc),G=parseInt(t.ns_st_upa),j=parseInt(t.ns_st_lpa),q=parseInt(t.ns_st_pc),$=parseInt(t.ns_st_skc),W=parseInt(t.ns_st_bc),K=parseInt(t.ns_st_skt),z=parseInt(t.ns_st_ska),nt.Gr(0)},Kr:function(t){P=parseInt(t.ns_st_pt),B=parseInt(t.ns_st_upc),F=parseInt(t.ns_st_upa)},qr:function(){return nt.kr("ns_st_vt")},Hr:function(t){nt.Cr("ns_st_vt",t+"")},Yr:function(){return nt.kr("ns_st_at")},Jr:function(t){nt.Cr("ns_st_at",t+"")},zr:function(){return nt.kr("ns_st_tt")},Qr:function(t){nt.Cr("ns_st_tt",t+"")},Xr:function(){return nt.kr("ns_st_cdn")},Zr:function(t){nt.Cr("ns_st_cdn",t+"")},$r:function(){return M},no:function(t){M=t},to:function(){return U},eo:function(){m++},io:function(){y++},ro:function(){Z++},oo:function(){return Z},Or:function(){return f},uo:function(t){f=t},so:function(t){if(!isNaN(H)){var e=nt.Or();e+=t-H,nt.uo(e),H=NaN}},ao:function(t){x=parseInt(t)},fo:function(){return x},co:function(t){isNaN(x)||isNaN(t)||(M=at.Wr(M,et<0?t:x,et<0?x:t,it),U=at.Wr(U,et<0?t:x,et<0?x:t,it),x=NaN)},Mr:function(){return u},lo:function(t){u=t},po:function(t){if(!isNaN(O)){var e=nt.Mr();e+=t-O,nt.lo(e),O=NaN}},vo:function(){return O},do:function(t){O=t},ho:function(t){isNaN(I)||(s+=t-I,I=NaN)},Rr:function(){return s},_o:function(t){var e=C+l-L;return!o&&isNaN(I)||(e+=Math.floor((t-a)*et/100)),e},mo:function(t,e){return o?C-t+Math.floor((e-a)*et/100)+l:0},wo:function(t,e){C=t,a=e},yo:function(){return I},bo:function(t){I=t},Io:function(t){T=t},So:function(){return H},Po:function(t){H=t},Vr:function(){return m},Ao:function(t){m=t},xr:function(){return y},Co:function(t){y=t},ko:function(t){d=t},Eo:function(){return d},To:function(t){g=t},No:function(){return g},Lo:function(t){n=t},Do:function(){return n},Ro:function(t){A=t},Mo:function(){return A},Oo:function(t){p=t},Wo:function(){return p},Vo:function(t){if(!isNaN(p)){var e=nt.Br();e+=t-p,nt.xo(e),p=NaN}},Br:function(){return h},xo:function(t){h=t},Uo:function(t){E=t},Bo:function(){return E},Fo:function(t){_=t},jo:function(){return _},Go:function(t){v=t},Fr:function(){return v},Ko:function(t){var e,n=nt.Fr();n+=Math.abs(t-_),nt.Go(n),_==t?e=0:t<_?e=-1:_<t&&(e=1),nt.Gr(e),_=0},qo:function(){return parseInt(nt.kr("ns_st_skd"))},Gr:function(t){nt.Cr("ns_st_skd",t+"")},Ho:function(){U=[],$=y=z=v=K=h=N=u=j=F=G=Z=q=m=W=t=Y=f=P=T=s=R=D=0},Yo:function(){Q++},Jo:function(){tt++},zo:function(){X++},Qo:function(){return k},Xo:function(t){k=t},Zo:function(){return B},$o:function(t){B=t},nu:function(t){V=t},tu:function(){return V},eu:function(){U=[],j=F=G=0},iu:function(t){Q=t},ru:function(t){tt=t},ou:function(t){X=t},uu:function(t){c=t},su:function(){return Q},au:function(){return tt},fu:function(){return X},cu:function(){return c},Ur:function(){return t},lu:function(){t++},pu:function(){return Y},vu:function(t){J=t},du:function(){J++},hu:function(){return J},_u:function(){return b},gu:function(t){b=t},mu:function(t){r=!!t},wu:function(){return r},yu:function(){return et},bu:function(t){et=t},Iu:function(t){et<0&&0<C-t?D+=C-t:0<et&&0<t-C&&(D+=t-C)},Su:function(t){w=t},Pu:function(){return w},Au:function(t){L=t},Cu:function(){return L},ku:function(t){l=t},Eu:function(t){o=t}}),(S={}).ns_st_cl="0",S.ns_st_pn="1",S.ns_st_tp="0",S.ns_st_cn="1",S.ns_st_skd="0",S.ns_st_ci="0",S.c3="*null",S.c4="*null",S.c6="*null",S.ns_st_st="*null",S.ns_st_pu="*null",S.ns_st_pr="*null",S.ns_st_ep="*null",S.ns_st_sn="*null",S.ns_st_en="*null",S.ns_st_ct="*null",n=A=!(i={}),e=ot.D,o=!(r=!0),M=[],p=H=x=O=I=NaN,tt=J=Z=X=Q=$=y=q=m=z=v=K=h=E=_=W=t=Y=f=j=F=G=V=B=k=R=D=l=L=w=P=N=c=u=T=C=s=0,b=g=d=!(U=[]),et=100}i.Tu=function(t,e,n){for(var i=t.getLabels(),r={},o=0;n&&o<n.length;++o)i.hasOwnProperty(n[o])&&(r[n[o]]=i[n[o]]);e.setLabels(r),e.setPlaybackIntervalMergeTolerance(t.getPlaybackIntervalMergeTolerance())},e.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(t,e,n){e.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(t,e,n){var c=t(73),d=t(74),p=t(76),h=t(77),_=t(69),v=t(71),E=t(72),m=t(70),y=t(75),Q=t(78),X=t(79),Z=t(80),J=t(81),tt=t(55),et=t(68),nt=t(65),it=t(20),rt=t(24),ot=t(19),st=t(82),at=t(62),ut=t(63),ct=t(58).Nu,lt=t(58).Lu,ft=t(58).Du,dt=t(61),pt=t(60),ht=t(59),_t=t(18),gt=t(66),vt=t(17),Et=t(2),mt="undefined",yt="6.2.3.180328";e.exports=function(b){var A,S,I,T,P,C,O,N,w,L,D,R,M,U,e,n,x,k,i,r,o,B,V,a,l,G,F,j=this,t={},s=500,u=500,g={},f=!1,H=!0,Y=!1,W=!1;function K(t){var e=A.Mu().Ru();if(e==ct.IDLE||e==ct.PLAYBACK_NOT_STARTED||e==ct.BUFFERING_BEFORE_PLAYBACK||e==ct.SEEKING_BEFORE_PLAYBACK){if(t==lt.PLAY)return!0}else if(e==ct.PLAYING){if(t==lt.END||t==lt.AD_SKIP||t==lt.SEEK_START||t==lt.PAUSE)return!0}else if(e==ct.PAUSED||e==ct.BUFFERING_DURING_PAUSE||e==ct.SEEKING_DURING_PLAYBACK||e==ct.SEEKING_DURING_BUFFERING||e==ct.SEEKING_DURING_PAUSE){if(t==lt.END||t==lt.AD_SKIP||t==lt.PLAY)return!0}else if(e==ct.BUFFERING_DURING_PLAYBACK){if(t==lt.PAUSE_ON_BUFFERING||t==lt.END||t==lt.AD_SKIP||t==lt.SEEK_START||t==lt.PAUSE||t==lt.PLAY)return!0}else if(e==ct.BUFFERING_DURING_SEEKING){if(t==lt.END||t==lt.AD_SKIP||t==lt.PAUSE||t==lt.PLAY)return!0}else if(e==ct.PAUSED_DURING_BUFFERING&&(t==lt.END||t==lt.AD_SKIP||t==lt.BUFFER_STOP||t==lt.PLAY))return!0;return!1}function z(){Y||(Y=!0,st.Ou(q))}function q(t){F=t,W=!0}function $(){var t={},e=et.Wu(t);j.Vu(lt.END,e,t)}rt.extend(j,{getConfiguration:function(){return b||{}},Dr:function(t,e,n){var i=A.getPlaybackSession(),r=i.getAsset(),o=!1;if(t==lt.HEARTBEAT){var s=isNaN(k)?x:k;((k=n)<s||W)&&(W=!(o=!0),n<s?(i.xu("1"),A.Uu().$t("System clock jump detected","to the far past")):F?(i.xu("3"),A.Uu().$t("System clock jump detected","to the future")):(i.xu("2"),A.Uu().$t("System clock jump detected","to the near past")),n=s)}var a={};if(f&&(a.c2=l),typeof document!=mt){var u=document;a.c7=u.URL,a.c8=u.title,a.c9=u.referrer}a.ns_ts=+new Date+"",a.ns_st_ev=lt.toString(t),a.ns_st_mp="js_api",a.ns_st_mv=yt,a.ns_st_ub="0",a.ns_st_br="0",a.ns_st_pn="1",a.ns_st_tp="0",a.ns_st_it=ft.toString(ft.Bu),a.ns_st_sv=yt,a.ns_st_smv="5.10",a.ns_type="hidden",a.ns_st_ec=A.ju().Fu()+"",a.ns_st_ki=A.S().Gu()+"",e.ns_st_po?a.ns_st_po=e.ns_st_po+"":r.wu()?a.ns_st_po=r._o(n)+"":a.ns_st_po=G+"",G=parseInt(a.ns_st_po),i.Dr(a,n),i.getAsset().Dr(a,n,t==lt.HEARTBEAT);var c={};return rt.extend(c,g),rt.extend(c,i.getLabels()),rt.extend(c,i.getAsset().getLabels()),rt.extend(c,e),o&&(r.wo(G,k),i.bo(k-parseInt(a.ns_st_dpt)),r.bo(k-parseInt(a.ns_st_dpt)),r.do(k-parseInt(a.ns_st_det))),{Wt:t,Ut:a,Ku:c}},Vu:function(t,e,n,i){j.qu();var r=A.Mu().Ru(),o=A.Mu().Hu(t);if(null!=o&&o!=r)if(!j.isThrottlingEnabled()||r!=ct.PLAYING&&r!=ct.PAUSED||o!=ct.PLAYING&&o!=ct.PAUSED||i){var s,a;b.systemClockJumpDetection&&(o==ct.IDLE?(st.Yu(q),Y=!1):r==ct.IDLE&&z()),H&&et.Ju(r)&&!et.Ju(o)?at.zu($):H&&!et.Ju(r)&&et.Ju(o)&&at.Qu($);var u=A.getPlaybackSession(),c=u.getAsset(),l=isNaN(k)?x:k,f=!1;((k=e)<l||W)&&(W=!(f=!0),e<l?(u.xu("1"),A.Uu().$t("System clock jump detected","to the far past")):F?(u.xu("3"),A.Uu().$t("System clock jump detected","to the future")):(u.xu("2"),A.Uu().$t("System clock jump detected","to the near past")),e=l),n.ns_st_po?A.Mu().Ru()==ct.IDLE?c.Au(c.Pu()-parseInt(n.ns_st_po)):c.Au(c.mo(parseInt(n.ns_st_po),e)):c.wu()?A.Mu().Ru()==ct.IDLE?n.ns_st_po=c.Pu()-c.Cu()+"":n.ns_st_po=c._o(e)+"":n.ns_st_po=G+"";var d,p,h,_,g=parseInt(n.ns_st_po);G=g,d=t,p=e,h=n,_=A.Mu().Ru(),d==lt.AD_SKIP&&!h.hasOwnProperty("ns_st_ui")&&K(d)?h.ns_st_ui="skip":d==lt.SEEK_START&&!h.hasOwnProperty("ns_st_ui")&&K(d)&&(h.ns_st_ui="seek"),_==ct.IDLE?d==lt.BUFFER?S.Xu(p,h):d==lt.SEEK_START?S.Zu(p,h):d==lt.PLAY&&S.$u(p,h):_==ct.PLAYBACK_NOT_STARTED?d==lt.END||d==lt.AD_SKIP?T.ns(p,h):d==lt.SEEK_START?T.Zu(p,h):d==lt.PLAY?T.$u(p,h):d==lt.BUFFER&&T.Xu(p,h):_==ct.PLAYING?d==lt.END||d==lt.AD_SKIP?P.ns(p,h):d==lt.BUFFER?P.Xu(p,h):d==lt.SEEK_START?P.Zu(p,h):d==lt.PAUSE&&P.ts(p,h):_==ct.PAUSED?d==lt.END||d==lt.AD_SKIP?I.ns(p,h):d==lt.PLAY?I.$u(p,h):d==lt.BUFFER?U.es(p,h):d==lt.SEEK_START&&U.rs(p,h):_==ct.BUFFERING_BEFORE_PLAYBACK?d==lt.END||d==lt.AD_SKIP?C.ns(p,h):d==lt.BUFFER_STOP?C.os(p,h):d==lt.SEEK_START?C.Zu(p,h):d==lt.PAUSE?C.ts(p,h):d==lt.PLAY&&C.$u(p,h):_==ct.BUFFERING_DURING_PLAYBACK?d==lt.PAUSE_ON_BUFFERING?O.us(p,h):d==lt.BUFFER_STOP?U.ss(p,h):d==lt.END||d==lt.AD_SKIP?O.ns(p,h):d==lt.SEEK_START?O.Zu(p,h):d==lt.PAUSE?O.ts(p,h):d==lt.PLAY&&U.ss(p,h):_==ct.BUFFERING_DURING_SEEKING?d==lt.END||d==lt.AD_SKIP?N.ns(p,h):d==lt.PAUSE?N.ts(p,h):d==lt.PLAY?N.$u(p,h):d==lt.BUFFER_STOP&&U.as(p,h):_==ct.BUFFERING_DURING_PAUSE?d==lt.END||d==lt.AD_SKIP?w.fs(p,h):d==lt.PAUSE?w.ts(p,h):d==lt.PLAY?w.$u(p,h):d==lt.SEEK_START?U.rs(p,h):d==lt.BUFFER_STOP&&U.as(p,h):_==ct.SEEKING_BEFORE_PLAYBACK?d==lt.END||d==lt.AD_SKIP?D.ns(p,h):d==lt.PAUSE?D.ts(p,h):d==lt.PLAY?D.$u(p,h):d==lt.BUFFER&&U.es(p,h):_==ct.SEEKING_DURING_PLAYBACK?d==lt.END||d==lt.AD_SKIP?M.ns(p,h):d==lt.PLAY?M.$u(p,h):d==lt.BUFFER?U.es(p,h):d==lt.PAUSE&&U.cs(p,h):_==ct.SEEKING_DURING_BUFFERING?d==lt.PAUSE?R.ts(p,h):d==lt.BUFFER?U.es(p,h):d==lt.PLAY?U.ls(p,h):d==lt.END||d==lt.AD_SKIP?U.ps(p,h):d==lt.BUFFER_STOP&&U.vs(p,h):_==ct.PAUSED_DURING_BUFFERING?d==lt.END||d==lt.AD_SKIP?L.ns(p,h):d==lt.BUFFER_STOP?L.ds(p,h):d==lt.SEEK_START?L.Zu(p,h):d==lt.PAUSE?L.ts(p,h):d==lt.PLAY&&L.ds(p,h):_==ct.SEEKING_DURING_PAUSE&&(d==lt.BUFFER?U.es(p,h):d==lt.PLAY?U.ls(p,h):d==lt.PAUSE?U.cs(p,h):d==lt.END||d==lt.AD_SKIP?U.ps(p,h):d==lt.BUFFER_STOP&&U.vs(p,h)),K(d)&&A.getPlaybackSession().hs(!0),c.wo(g,e),c.ku(c.Cu());var v=0;isNaN(A.Mu()._s())||(v=e-A.Mu()._s()),A.Mu().Vu(t,e),f&&(c.wo(g,k),o!=ct.IDLE&&o!=ct.PLAYBACK_NOT_STARTED&&o!=ct.SEEKING_BEFORE_PLAYBACK&&o!=ct.BUFFERING_BEFORE_PLAYBACK&&c.do(k),o!=ct.BUFFERING_BEFORE_PLAYBACK&&o!=ct.BUFFERING_DURING_PAUSE&&o!=ct.BUFFERING_DURING_PLAYBACK&&o!=ct.BUFFERING_DURING_SEEKING&&o!=ct.PAUSED_DURING_BUFFERING||(u.Po(k),c.Po(k)),o==ct.PLAYING&&(u.bo(k),c.bo(k)),o!=ct.SEEKING_BEFORE_PLAYBACK&&o!=ct.SEEKING_DURING_BUFFERING&&o!=ct.SEEKING_DURING_PAUSE&&o!=ct.SEEKING_DURING_PLAYBACK&&o!=ct.BUFFERING_DURING_SEEKING||c.Oo(k)),A.Uu().log("Transition from",et.gs(r),"to",et.gs(o),"due to event:",lt.toString(t));for(var E=0,m=V.length;E<m;E++)V[E](r,o,n,v)}else{A.Uu().$t("Throttled event:",lt.toString(t),"during state",et.gs(r),n,j.getThrottlingDelay(),"ms");var y=(s=t,a=n,function(){j.Vu(s,e,a,!0)});B=j.getPlatformAPI().setTimeout(y,j.getThrottlingDelay())}else A.Uu().$t("Ignored event:",lt.toString(t),"during state",et.gs(r),n)},ms:function(t,e,n){var i=A.Mu().Ru();if(t!=lt.LOAD&&t!=lt.ENGAGE||i==ct.IDLE){t==lt.ERROR&&null==n.ns_st_er&&(n.ns_st_er=vt.D),t==lt.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=vt.D);var r,o,s,a,u=!0,c=!1;switch(t){case lt.BIT_RATE:r="ns_st_br",o="ns_st_pbr";break;case lt.PLAYBACK_RATE:r="ns_st_rt",o="ns_st_prt";break;case lt.VOLUME:r="ns_st_vo",o="ns_st_pvo";break;case lt.WINDOW_STATE:r="ns_st_ws",o="ns_st_pws";break;case lt.AUDIO:r="ns_st_at",o="ns_st_pat";break;case lt.VIDEO:r="ns_st_vt",o="ns_st_pvt";break;case lt.SUBS:r="ns_st_tt",o="ns_st_ptt";break;case lt.CDN:r="ns_st_cdn",o="ns_st_pcdn";break;default:u=!1}var l=A.getPlaybackSession(),f=l.getAsset();if(u&&r in n)switch(a=n[r],t){case lt.BIT_RATE:case lt.VOLUME:case lt.WINDOW_STATE:r in g&&(s=g[r],c=a==(n[o]=s)+""),g[r]=n[r];break;case lt.AUDIO:case lt.VIDEO:case lt.SUBS:case lt.CDN:f.Er(r)&&(s=f.kr(r),c=a==(n[o]=s)+""),f.Cr(r,n[r]);break;case lt.PLAYBACK_RATE:s=f.yu(),n[o]=s+""}if(u&&i!=ct.PLAYING&&i!=ct.BUFFERING_DURING_PLAYBACK||u&&c)return t==lt.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),void A.Uu().$t("No measurement send for the pseudo-event:",lt.toString(t),"during state",et.gs(i),n);var d=isNaN(k)?x:k,p=!1;((k=e)<d||W)&&(W=!(p=!0),e<d?(l.xu("1"),A.Uu().$t("System clock jump detected","to the far past")):F?(l.xu("3"),A.Uu().$t("System clock jump detected","to the future")):(l.xu("2"),A.Uu().$t("System clock jump detected","to the near past")),e=d),n.ns_st_po?f.Au(f.mo(parseInt(n.ns_st_po),e)):f.wu()?n.ns_st_po=f._o(e)+"":n.ns_st_po=G+"";var h=parseInt(n.ns_st_po);G=h,A.getPlaybackSession().getAsset().wo(h,e),f.ku(f.Cu()),i!=ct.IDLE&&i!=ct.PLAYBACK_NOT_STARTED&&i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_BEFORE_PLAYBACK&&(f.po(e),f.do(e)),i==ct.PLAYING&&(l.ho(e),l.bo(e),f.ho(e),f.bo(e),f.Iu(h),f.co(parseInt(n.ns_st_po)),f.ao(parseInt(n.ns_st_po))),i!=ct.BUFFERING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_DURING_PAUSE&&i!=ct.BUFFERING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING||(l.so(e),l.Po(e),f.so(e),f.Po(e));var _=j.Dr(t,n,e);f.jr(_.Ut),f.Kr(_.Ut),A.ju().Vu(_),t==lt.PLAYBACK_RATE&&f.bu(parseInt(n.ns_st_rt)),p&&(f.wo(h,k),i==ct.PLAYING&&(l.bo(k),f.bo(k)),i!=ct.IDLE&&i!=ct.PLAYBACK_NOT_STARTED&&i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_BEFORE_PLAYBACK&&f.do(k),i!=ct.BUFFERING_BEFORE_PLAYBACK&&i!=ct.BUFFERING_DURING_PAUSE&&i!=ct.BUFFERING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING&&i!=ct.PAUSED_DURING_BUFFERING||(l.Po(k),f.Po(k)),i!=ct.SEEKING_BEFORE_PLAYBACK&&i!=ct.SEEKING_DURING_BUFFERING&&i!=ct.SEEKING_DURING_PAUSE&&i!=ct.SEEKING_DURING_PLAYBACK&&i!=ct.BUFFERING_DURING_SEEKING||f.Oo(k))}else A.Uu().$t("Ignored pseudo-event:",lt.toString(t),"during state",et.gs(i),n)},getState:function(){return A.Mu().Ru()},addListener:function(t){V.push(t)},removeListener:function(t){V.splice(ot.indexOf(t,V),1)},getLabel:function(t){return g[t]},getLabels:function(){return g},setLabel:function(t,e){null==e?delete g[t]:g[t]=e},setLabels:function(t){for(var e in t)t.hasOwnProperty(e)&&j.setLabel(e,t[e])},getPlatformAPI:function(){return A.ws().getPlatformAPI()},ys:function(){return t},isProperlyInitialized:function(){var t=A.ws().Wn(),e=A.ws().g(),n=A.ws().getPixelURL();return t&&n&&e},setThrottlingDelay:function(t){u=t},getThrottlingDelay:function(){return u},isThrottlingEnabled:function(){return o},setThrottlingEnabled:function(t){o=t},bs:function(){return e},Is:function(t){e=t},getLoadTimeOffset:function(){return n},setLoadTimeOffset:function(t){n=t},Ss:function(){return x},setPauseOnBufferingInterval:function(t){s=t},getPauseOnBufferingInterval:function(){return s},isPauseOnBufferingEnabled:function(){return i},setPauseOnBufferingEnabled:function(t){i=t},setExitEndEventEnabled:function(t){if(H!=t){var e=A.Mu().Ru();t||et.Ju(e)?t&&!et.Ju(e)&&at.zu($):at.Qu($)}H=t},isExitEndEventEnabled:function(){return H},Ps:function(t,i){j.As(),r=j.getPlatformAPI().setTimeout(function(){var t={},e=et.Wu(t),n=parseInt(i.ns_st_po);t.ns_st_po=n+"",j.Vu(lt.PAUSE_ON_BUFFERING,e,t)},s)},As:function(){null!=r&&(j.getPlatformAPI().clearTimeout(r),r=null)},qu:function(){B&&(j.getPlatformAPI().clearTimeout(B),B=null)},setLiveEndpointURL:function(t){if(null==t||0==t.length)return null;var e=decodeURIComponent||unescape,n=t.indexOf("?");if(0<=n){if(n<t.length-1){for(var i=t.substring(n+1).split("&"),r=0,o=i.length;r<o;r++){var s=i[r].split("=");2==s.length?j.setLabel(s[0],e(s[1])):1==s.length&&j.setLabel(tt.PAGE_NAME_LABEL,e(s[0]))}t=t.substring(0,n+1)}}else t+="?";return a=t},getLiveEndpointURL:function(){return a||(typeof ns_p!==mt&&"string"==typeof ns_p.src?a=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?a=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},Cs:function(){return A},ks:function(t){var e=A.getPlaybackSession();A.Es(new ut(A)),ut.ks(A,e,t)},Ts:function(){A.Ns().pause();var t=A.Ns().Ls();A.Ds(new pt(A)),A.Ns().Rs(t)},getVersion:function(){return yt}}),function(){if((A=new nt(j)).Ms(Et.getCore()),A.Os(new dt(A)),A.Ds(new pt(A)),A.Ws(new ht(A)),A.Vs(new gt),A.xs(new _t("STA",b.debug)),A.Es(new ut(A)),S=new c(A),I=new d(A),T=new p(A),P=new h(A),C=new _(A),O=new v(A),N=new E(A),w=new m(A),L=new y(A),D=new Q(A),R=new X(A),M=new Z(A),U=new J(A),e=!1,n=0,x=+new Date,o=!(i=!0),V=[],b.publisherId){f=!0,l=b.publisherId+"";var t=(("secure"in b?b.secure:A.ws()&&A.ws().isProperlyInitialized()?A.ws().isSecure():et.fe()&&it.ce())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";j.setLiveEndpointURL(t)}b.liveEndpointURL&&j.setLiveEndpointURL(b.liveEndpointURL),b.systemClockJumpDetection&&(st.setPlatformAPI(j.getPlatformAPI()),b.systemClockJumpDetectionInterval?st.Us(parseInt(b.systemClockJumpDetectionInterval),!0):st.Us(),b.systemClockJumpDetectionPrecision?st.Bs(parseInt(b.systemClockJumpDetectionPrecision),!0):st.Bs(),z())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(t,e,n){var S,I,T=t(20),P=t(4),C="undefined";I=T.fe()?(S=window,document):(S={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),e.exports=function(t,e){for(var n,i=S.encodeURIComponent||escape,r=[],o=P.k,s=t.split("?"),a=s[0],u=s[1].split("&"),c=0,l=u.length;c<l;c++){var f=u[c].split("="),d=unescape(f[0]),p=unescape(f[1]);d&&(e[d]=p)}for(var h={},_=0,g=o.length;_<g;_++){var v=o[_];if(e.hasOwnProperty(v)){var E=e[v];typeof E!==C&&null!=E&&(h[v]=!0,r.push(i(v)+"="+i(e[v])))}}for(var m in e)if(e.hasOwnProperty(m)){if(h[m])continue;var y=e[m];typeof y!==C&&null!=y&&r.push(i(m)+"="+i(e[m]))}n=(n=a+"?"+r.join("&"))+(n.indexOf("&c8=")<0?"&c8="+i(I.title):"")+(n.indexOf("&c7=")<0?"&c7="+i(I.URL):"")+(n.indexOf("&c9=")<0?"&c9="+i(I.referrer):"");var b=T.Jt()?P.A:P.P;if(n.length>b&&0<n.indexOf("&")){var A=n.substr(0,b-8).lastIndexOf("&");n=(n.substring(0,A)+"&ns_cut="+i(n.substring(A+1))).substr(0,b)}return n}},{20:20,4:4}],58:[function(t,e,n){var i,r,o=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return i[t]}}),s=(r=["c","s","r"],{Bu:0,Fs:1,js:2,toString:function(t){return r[t]}});e.exports.Lu=o,e.exports.Nu={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},e.exports.Du=s},{}],59:[function(t,e,n){var a=t(24),u=t(57),c=t(58).Lu;e.exports=function(i){var e,r,o=this,s=[];a.extend(this,{Vu:function(t){for(var e=a.extend({},t.Ut,t.Ku),n=0;n<s.length;++n)s[n](e);!function(t){r=a.extend({},t);var e=i.Gs().getLiveEndpointURL();i.Gs().isProperlyInitialized()?i.ws().nt(t,e):e&&i.Gs().getPlatformAPI().httpGet(u(e,t))}(e),t.Wt!=c.HEARTBEAT&&o.Ks()},addMeasurementListener:function(t){"function"==typeof t&&s.push(t)},removeMeasurementListener:function(t){for(var e=NaN,n=0;n<s.length;++n)if(s[n]==t){e=n;break}isNaN(e)||s.splice(e,1)},Fu:function(){return e},Ks:function(){e++},qs:function(t){e=t},Hs:function(){return r}}),e=1}},{24:24,57:57,58:58}],60:[function(t,e,n){var l=t(58).Lu,f=t(68),d=t(24),p=[{Ys:6e4,interval:1e4},{Ys:null,interval:6e4}];e.exports=function(i){var n,r,o,s=this,a=p;function u(){o++;var t={},e=f.Wu(t);t.ns_st_hc=i.Ns().Js()+"";var n=i.Gs().Dr(l.HEARTBEAT,t,e);i.getPlaybackSession().getAsset().Kr(n.Ut),i.ju().Vu(n),r=0,s.resume()}function c(){null!=n&&(i.Gs().getPlatformAPI().clearTimeout(n),n=null)}d.extend(this,{Js:function(){return o},Rs:function(t){a=t},Gu:function(t){var e=0;if(null!=a)for(var n=0;n<a.length;n++){var i=a[n],r=i.Ys;if(!r||t<r){e=i.interval;break}}return e},Ls:function(){return a},resume:function(){c();var t=s.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));if(0<t){var e=0<r?r:t;n=i.Gs().getPlatformAPI().setTimeout(u,e)}r=0},pause:function(){c();var t=s.Gu(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()));r=t-(i.getPlaybackSession().getAsset().Rr()+(+new Date-i.getPlaybackSession().getAsset().yo()))%t}}),o=r=0}},{24:24,58:58,68:68}],61:[function(t,e,n){var s=t(58).Lu,a=t(24),u=t(68);e.exports=function(n){var t,i=this,e=12e5;function r(){var t={},e=u.Wu(t);n.Gs().ms(s.KEEPALIVE,e,t),i.start()}function o(){null!=t&&(n.Gs().getPlatformAPI().clearTimeout(t),t=null)}a.extend(i,{start:function(){o(),t=n.Gs().getPlatformAPI().setTimeout(r,e)},stop:o,setInterval:function(t){e=t},Gu:function(){return e}})}},{24:24,58:58,68:68}],62:[function(t,e,n){var i=t(20),r=[],o=!1;function s(){for(var t=0;t<r.length;++t)r[t]()}e.exports={zu:function(t){r.push(t),o||i.fe()&&(window.addEventListener?(window.addEventListener("unload",s,!1),o=!0):window.attachEvent&&(window.attachEvent("onunload",s),o=!0))},Qu:function(t){for(var e=0;e<r.length;++e)if(r[e]==t){r.splice(e,1);break}0==r.length&&i.fe()&&(window.removeEventListener?(window.removeEventListener("unload",s,!1),o=!1):window.detachEvent&&(window.detachEvent("onunload",s),o=!1))}}},{20:20}],63:[function(t,e,n){var m=t(24),y=t(54),b=t(68),A=t(21),S=t(55).HASH_LABELS,I=t(58).Nu,T=t(58).Lu;function i(l){var r,n,e,o,s,i,a,u,c,f,d,p,h,_,g,v,E=this;m.extend(this,{Tu:function(){var t=r;r=new y,y.Tu(t,r)},zs:function(t){return null!=u[t]},Qs:function(t){u[t]={}},Xs:function(t){delete u[t]},Zs:function(){for(var t in u)if(u.hasOwnProperty(t)&&u[t].$s===r.Tr()){m.extend(u[t],{na:r.su(),ta:r.au(),ea:r.fu(),ia:r.cu(),seeking:r.Eo(),ra:r.Bo(),oa:r.jo(),ua:r.$r(),sa:r.qr(),aa:r.Yr(),fa:r.zr(),ca:r.Xr(),la:r.hu(),pa:r.Qo(),va:r.Zo(),da:r.tu()});break}},ha:function(t){return u[t]},Tr:function(t){return u[t].$s},_a:function(){return c},ga:function(t,e){u[t].$s=e,c<e&&(c=e)},setLabels:function(t){null!=t&&m.extend(i,t)},getLabels:function(){return i},setLabel:function(t,e){var n={};n[t]=e,E.setLabels(n)},getLabel:function(t){return i[t]},getAsset:function(){return r},xu:function(t){for(var e=0;e<v.length;++e)if(v[e]==t)return;v.push(t)},Dr:function(t,e){var n=t,i=A.jt(n.ns_st_pa)?E.Rr():parseInt(n.ns_st_pa);n.ns_st_pa=i+(isNaN(o)?0:e-o)+"",n.ns_st_pp=h+"",n.ns_st_sp=_+"",n.ns_st_bp=g+"",f||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),r.Mo()&&(n.ns_st_ppc=d+"",n.ns_st_psq=p+""),0<v.length&&(n.ns_st_ie=(n.ns_st_ie?n.ns_st_ie+";":"")+v.join(";")),m.extend(n,s)},ro:function(){_++},eo:function(){h++},ho:function(t){if(!isNaN(o)){var e=E.Rr();e+=t-o,E.ma(e),o=NaN}},so:function(t){if(!isNaN(n)){var e=E.Or();e+=t-n,E.uo(e),n=NaN}},Or:function(){return g},uo:function(t){g=t},Rr:function(){return e},Po:function(t){n=t},So:function(){return n},ma:function(t){e=t},bo:function(t){o=t},yo:function(){return o},Vr:function(){return h},Ao:function(t){h=t},wa:function(){return a},ya:function(t){a=t},ba:function(){return d},Ia:function(){d++},hs:function(t){f=t},vu:function(t){p=t},du:function(){p++},Sa:function(){return s.ns_st_id},setAsset:function(t,e){l.Uu().Zt("setAsset",t,e),t=b.Pa(t);var n=l.Mu().Ru();if(n!=I.IDLE){l.Uu().$t("Ending the current Clip. It was in state:",b.gs(n));var i={};l.Gs().Vu(T.END,b.Wu(i),i)}var r="",o=0;if(null!=t.ns_st_cn)r=t.ns_st_cn;else for(var s=0;s<S.length;s++)t[S[s]]&&(r+=S[s]+":"+t[S[s]]+";");var a=E,u=a.getAsset();o=u.Do()?(a.zs(u.Pr())||(a.Qs(u.Pr()),a.ga(u.Pr(),u.Tr())),a.Zs(),a.zs(r)?a.Tr(r):A.tn(t.ns_st_cn)?parseInt(t.ns_st_cn):a._a()+1):a.zs(r)?a.Tr(r):u.Tr(),a.Tu(),(u=a.getAsset()).Ar(r),u.Nr(o),u.setLabels(t);var c=a.ha(r);c&&(u.Lo(!0),u.iu(c.na),u.ru(c.ta),u.ou(c.ea),u.uu(c.ia),u.ko(c.seeking),u.Uo(c.ra),u.Fo(c.oa),u.no(c.ua),c.sa&&u.Hr(c.sa),c.aa&&u.Jr(c.aa),c.fa&&u.Qr(c.fa),c.ca&&u.Zr(c.ca),u.vu(c.la),u.Xo(c.pa),u.$o(c.va),u.nu(c.da)),u.Jo(),u.Do()&&e&&a.ro(),e&&(a.vu(0),u.gu(!0)),!A.tn(t.ns_st_tp)&&A.tn(t.ns_st_ad)&&A.lt(t.ns_st_ad)&&"0"!==t.ns_st_ad&&u.Cr("ns_st_tp","1")}}),r=new y,(s={}).ns_st_id=+new Date+"",i={},o=n=NaN,f=a=!(u={}),_=1,g=p=h=d=c=e=0,v=[]}i.ks=function(t,e,n){for(var i=e.getAsset(),r=e.getLabels(),o={},s=0;n&&s<n.length;s++)r.hasOwnProperty(n[s])&&(o[n[s]]=r[n[s]]);t.getPlaybackSession().setLabels(o),y.Tu(i,t.getPlaybackSession().getAsset(),n)},e.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(t,e,n){var d={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},p={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},h=t(67),_=t(58).Nu,g=t(58).Du,v=t(55).HASH_LABELS,E=t(21),m=t(24),y=t(18),i=function(t){var o=null,n=0,i=!1,r=null,s={Aa:0,Ca:1,ka:2},a=s.Aa,u=new y("TTSTA",(t||{}).debug);function c(t){r.getPlaybackSession().setAsset(t),o=t,r.notifyPlay()}function l(t){var e=t||{};e.ns_st_ad="1",e.ns_st_an=++n+"",r.getPlaybackSession().setAsset(e),r.notifyPlay(),i=!1}function f(t,e){a==s.Aa&&(a=e),i&&a==e&&function(t){for(var e in v)if(v.hasOwnProperty(e)&&(n=v[e],i=o,r=t,!(E.tn(n)&&E.tn(i)&&E.tn(r)&&(i.hasOwnProperty(n)&&r.hasOwnProperty(n)&&i[n]===r[n]||!i.hasOwnProperty(n)&&!r.hasOwnProperty(n)))))return!1;var n,i,r;return!0}(t)?(r.getPlaybackSession().getAsset().setLabels(t),r.getState()!=_.PLAYING&&r.notifyPlay()):c(t),i=!0,a=e}m.extend(this,{playVideoAdvertisement:function(t,e){u.Zt("playVideoAdvertisement",t,e);var n={ns_st_ct:"va"};e?n.ns_st_ct="va"+e:u.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&m.extend(n,t),l(n)},playAudioAdvertisement:function(t,e){u.Zt("playAudioAdvertisement",t,e);var n={ns_st_ct:"aa"};e?n.ns_st_ct="aa"+e:u.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e!=p.LinearLive&&e!=p.BrandedOnDemandLive||(n.ns_st_li="1"),t&&m.extend(n,t),l(n)},playVideoContentPart:function(t,e){u.Zt("playVideoContentPart",t,e);var n={ns_st_ct:"vc"};e?n.ns_st_ct="vc"+e:u.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&m.extend(n,t),f(n,s.ka)},playAudioContentPart:function(t,e){u.Zt("playAudioContentPart",t,e);var n={ns_st_ct:"ac"};e?n.ns_st_ct="ac"+e:u.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e!=d.Live&&e!=d.UserGeneratedLive||(n.ns_st_li="1"),t&&m.extend(n,t),f(n,s.Ca)},stop:function(){u.Zt("stop"),r.notifyPause()}}),(r=new h(t)).setLabel("ns_st_it",g.toString(g.js))};i.ContentType=d,i.AdType=p,e.exports=i},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(t,e,n){var u=t(24);e.exports=function(t){var e,n,i,r,o,s,a;u.extend(this,{ws:function(){return e},Gs:function(){return t},ju:function(){return n},Mu:function(){return i},Ns:function(){return r},S:function(){return o},getPlaybackSession:function(){return s},Uu:function(){return a},Ms:function(t){e=t},Os:function(t){o=t},Ds:function(t){r=t},Ws:function(t){n=t},Vs:function(t){i=t},Es:function(t){s=t},xs:function(t){a=t}})}},{24:24}],66:[function(t,e,n){var a=t(58).Nu,u=t(24),c=t(58).Lu;e.exports=function(t){var i,r,o,s=this;u.extend(s,{Hu:function(t){if(o==a.IDLE){if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(o==a.PLAYBACK_NOT_STARTED){if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK;if(t==c.END||t==c.AD_SKIP)return a.IDLE}else if(o==a.PLAYING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.BUFFER)return a.BUFFERING_DURING_PLAYBACK;if(t==c.PAUSE)return a.PAUSED;if(t==c.SEEK_START)return a.SEEKING_DURING_PLAYBACK}else if(o==a.PAUSED){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.BUFFER)return a.BUFFERING_DURING_PAUSE;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_DURING_PAUSE}else if(o==a.BUFFERING_BEFORE_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PLAYBACK_NOT_STARTED;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK}else if(o==a.BUFFERING_DURING_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY||t==c.BUFFER_STOP)return a.PLAYING;if(t==c.PAUSE_ON_BUFFERING)return a.PAUSED_DURING_BUFFERING;if(t==c.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(t==c.PAUSE)return a.PAUSED}else if(o==a.BUFFERING_DURING_SEEKING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.BUFFER_STOP)return a.SEEKING_DURING_PLAYBACK;if(t==c.PAUSE)return a.PAUSED}else if(o==a.BUFFERING_DURING_PAUSE){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.SEEK_START)return a.SEEKING_DURING_PAUSE;if(t==c.BUFFER_STOP||t==c.PAUSE)return a.PAUSED}else if(o==a.SEEKING_BEFORE_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PAUSE)return a.PLAYBACK_NOT_STARTED;if(t==c.PLAY)return a.PLAYING;if(t==c.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(o==a.SEEKING_DURING_PLAYBACK){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_SEEKING}else if(o==a.SEEKING_DURING_BUFFERING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_SEEKING}else if(o==a.SEEKING_DURING_PAUSE){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.PLAY)return a.PLAYING;if(t==c.PAUSE||t==c.BUFFER_STOP)return a.PAUSED;if(t==c.BUFFER)return a.BUFFERING_DURING_PAUSE}else if(o==a.PAUSED_DURING_BUFFERING){if(t==c.END||t==c.AD_SKIP)return a.IDLE;if(t==c.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(t==c.PAUSE)return a.PAUSED;if(t==c.PLAY||t==c.BUFFER_STOP)return a.PLAYING}return null},Ru:function(){return o},Vu:function(t,e){var n=s.Hu(t);o!=n&&(r=o,o=n,i=e)},Ea:function(){return r},_s:function(){return i}}),o=a.IDLE,r=null,i=NaN}},{24:24,58:58}],67:[function(t,e,n){var r=t(24),o=t(68),s=t(56),a=t(58).Lu,l=t(58).Nu,f=t(63),i=t(55),d={notifyPlay:a.PLAY,notifyPause:a.PAUSE,notifyEnd:a.END,notifyBufferStart:a.BUFFER,notifyBufferStop:a.BUFFER_STOP,notifyLoad:a.LOAD,notifyEngage:a.ENGAGE,notifySeekStart:a.SEEK_START,notifySkipAd:a.AD_SKIP,notifyCallToAction:a.CTA,notifyError:a.ERROR,notifyTransferPlayback:a.TRANSFER,notifyDrmFail:a.DRM_FAILED,notifyDrmApprove:a.DRM_APPROVED,notifyDrmDeny:a.DRM_DENIED,notifyCustomEvent:a.CUSTOM},p={notifyChangeBitrate:[a.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[a.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[a.VOLUME,"ns_st_vo"],notifyChangeWindowState:[a.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[a.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[a.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[a.SUBS,"ns_st_tt"],notifyChangeCdn:[a.CDN,"ns_st_cdn"]};function u(t){var u,n=this;function c(t,e,n){if(a.toString(t)){n=o.Pa(n);var i=o.Wu(n);n.ns_st_po||isNaN(e)||(n.ns_st_po=parseInt(e)+""),t==a.PLAY||t==a.PAUSE||t==a.BUFFER||t==a.END||t==a.SEEK_START||t==a.AD_SKIP||t==a.BUFFER_STOP?u.Vu(t,i,n):u.ms(t,i,n)}}for(var e in r.extend(n,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(t){c(a.END);var e=u;e.Cs().S().stop(),e.Cs().Ns().pause(),u=new s(e.getConfiguration()),f.ks(u.Cs(),e.Cs().getPlaybackSession(),t)},setPauseOnBufferingInterval:function(t){u.setPauseOnBufferingInterval(t)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(t){u.Cs().S().setInterval(t)},getKeepAliveInterval:function(){return u.Cs().S().Gu()},setHeartbeatIntervals:function(t){u.Cs().Ns().Rs(t)},getLabels:function(){return u.getLabels()},getState:function(){return u.Cs().Mu().Ru()},setLabels:function(t){u.setLabels(t)},getLabel:function(t){return u.getLabel(t)},setLabel:function(t,e){u.setLabel(t,e)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(t){u.setLoadTimeOffset(t)},setLiveEndpointURL:function(t){return u.setLiveEndpointURL(t)},getLiveEndpointURL:function(){return u.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(t){u.setPauseOnBufferingEnabled(t)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(t){u.setThrottlingEnabled(t)},setThrottlingDelay:function(t){u.setThrottlingDelay(t)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(t){u.Cs().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(t)},getPlaybackIntervalMergeTolerance:function(){return u.Cs().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(t){u.Cs().Uu().Zt("createPlaybackSession",t),t=o.Pa(t);var e=u.Cs().Mu().Ru();e!=l.IDLE&&(u.Cs().Uu().$t("Ending the current Clip. It was in state:",o.gs(e)),n.notifyEnd()),u.Cs().getPlaybackSession().wa()&&u.ks(),u.Cs().getPlaybackSession().setLabels(t)},getVersion:function(){return u.getVersion()},addListener:function(t){u.addListener(t)},removeListener:function(t){u.removeListener(t)},addMeasurementListener:function(t){u.Cs().ju().addMeasurementListener(t)},removeMeasurementListener:function(t){u.Cs().ju().removeMeasurementListener(t)},getPlaybackSession:function(){return u.Cs().getPlaybackSession()},setExitEndEventEnabled:function(t){u.setExitEndEventEnabled(!!t)},isExitEndEventEnabled:function(){return u.isExitEndEventEnabled()},setDvrWindowLength:function(t){u.Cs().getPlaybackSession().getAsset().Su(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},setDvrWindowOffset:function(t){u.Cs().getPlaybackSession().getAsset().Au(t),u.Cs().getPlaybackSession().getAsset().Eu(!0)},getPlatformAPI:function(){return u.getPlatformAPI()},_getLogHistory:function(){return u.Cs().Uu().te()}}),d)!function(r,o){n[r]=function(t,e){u.Cs().Uu().Zt(r,t,e);var n={},i=NaN;"object"==typeof t?n=t:"object"==typeof e&&(n=e),"number"==typeof t?i=t:"number"==typeof e&&(i=e),c(o,i,n)}}(e,d[e]);for(var i in p)!function(o,s,a){n[o]=function(t,e,n){if(u.Cs().Uu().Zt(o,t,e,n),null!=t){var i={},r=NaN;"object"==typeof e?i=e:"object"==typeof n&&(i=n),"number"==typeof e?r=e:"number"==typeof n&&(r=n),i[a]=t+"",c(s,r,i)}}}(i,p[i][0],p[i][1]);t=r.extend({},t),(u=new s(t)).Cs().Uu().log("New StreamingAnalytics instance with configuration",t)}u.PlayerEvents=a,u.InternalStates=l,u.Constants=i,e.exports=u},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(t,e,n){var c=t(23),i=t(58).Nu;n.Pa=function(t){var e={};for(var n in t){var i=t[n];e[n]=null==i?i:t[n]+""}return e},n.Ta=function(t,e){var n,i=[];for(n in t)e&&!e.test(n)||!t.hasOwnProperty(n)||(i[i.length]=n);return i},n.Wu=function(t){if(t.ns_ts)return parseInt(t.ns_ts);var e=+new Date;return t.ns_ts=e+"",e},n.fe=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},n.Wr=function(t,e,n,i){var r,o,s={};if(!(e<=n))return c(t);if(s.start=e,s.end=n,0==t.length)return t.push(s),c(t);for(r=0;r<t.length;r++)if(s.start>=t[r].start&&s.end<=t[r].end)return c(t);var a=!1;for(o=0;o<t.length;o++)if(o+1===t.length&&s.start>=t[o].start||s.start>=t[o].start&&s.start<t[o+1].start){t.splice(o+1,0,s),a=!0;break}a||t.splice(0,0,s);var u=[t[0]];for(r=1;r<t.length;r++)u[u.length-1].end+i<t[r].start?u.push(t[r]):u[u.length-1].end<t[r].end&&(u[u.length-1].end=t[r].end);return c(u)},n.gs=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e]==t)return e},n.Ju=function(t){return t==i.IDLE||t==i.BUFFERING_BEFORE_PLAYBACK||t==i.SEEKING_BEFORE_PLAYBACK||t==i.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&i.Uo(t-i.Wo()),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},os:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1))},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()?i.No()||(i.Oo(t),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t))},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.Ro(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.Ro(!0),i.Yo(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],70:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{fs:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],71:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{us:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),i.po(t),i.do(t),n.so(t),i.so(t),n.eo(),i.eo();var r=s.Gs().Dr(a.PAUSE,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),n.Po(t),i.Po(t)},ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().As(),s.Ns().pause(),s.S().stop(),i.po(t),i.do(t),n.so(t),i.so(t),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t),n.eo(),i.eo();var o=s.Gs().Dr(a.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().As(),i.po(t),i.do(t),n.so(t),i.so(t),n.eo(),i.eo();var r=s.Gs().Dr(a.PAUSE,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r)}})}},{24:24,26:26,58:58}],72:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),s.Gs().As(),n.so(t),i.so(t),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),n.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),n.so(t),i.so(t),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],73:[function(t,e,n){var i=t(24),a=t(58).Lu;e.exports=function(s){i.extend(this,{Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),n.Po(t),i.Po(t)},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.ya(!0),i.Lo(!0),i.Eo()&&i.xo(i.Bo()),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t)},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.ya(!0),i.Lo(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),i.Eo()&&(i.xo(i.Bo()),i.Ko(r),i.ko(!1)),n.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,58:58}],74:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.ko(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),i.du(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],75:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),n.so(t),i.so(t),i.po(t),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1));var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.so(t),i.so(t),i.Eo()?i.No()||(i.Oo(t),i.To(!0)):i.io(),i.Eo()||(i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t)),i.po(t),i.do(t)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},ds:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),n.so(t),i.so(t),i.ro(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],76:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Zu:function(t,e){var n=s.getPlaybackSession().getAsset(),i=parseInt(e.ns_st_po);n.Eo()?n.Oo(t):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(i),n.Oo(t))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);i.Eo()&&(i.Ko(r),i.ko(!1)),n.ya(!0),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),i.du(),i.ro(),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.Po(t),i.Po(t)}})}},{24:24,26:26,58:58}],77:[function(t,e,n){var i=t(24),a=t(26),u=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().Ts(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.po(t),i.co(r);var o=s.Gs().Dr(u.END,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&a.vr(e.ns_st_pe,!1)&&s.Gs().ks()},Xu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),s.Gs().isPauseOnBufferingEnabled()&&s.Gs().Ps(t,e),i.lu(),n.Po(t),i.Po(t),i.po(t),i.do(t)},Zu:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),i.io(),i.ko(!0),i.To(!0),i.Fo(r),i.Oo(t),i.po(t),i.do(t),n.eo(),i.eo();var o=s.Gs().Dr(u.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},ts:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Ns().pause(),s.S().stop(),n.ho(t),i.ho(t),i.Iu(r),i.co(r),i.po(t),i.do(t),n.eo(),i.eo();var o=s.Gs().Dr(u.PAUSE,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],78:[function(t,e,n){var i=t(24),r=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&r.vr(e.ns_st_pe,!1)&&s.Gs().ks()},ts:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1))},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),(i._u()||0==n.ba())&&(n.Ia(),i.gu(!1)),n.du(),i.du(),i.ro(),i.Ro(!0),i.Yo(),(0==i.cu()||i.Lr()<=i.cu())&&(i.uu(i.Lr()),i.zo(),i.vu(0),i.eu()),n.bo(t),i.bo(t),i.do(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],79:[function(t,e,n){var i=t(24);e.exports=function(r){i.extend(this,{ts:function(t,e){var n=r.getPlaybackSession(),i=n.getAsset();n.eo(),i.eo(),i.Eo()&&i.No()&&(i.Vo(t),i.To(!1)),i.po(t),i.do(t)}})}},{24:24}],80:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{ns:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},$u:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.ro(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.po(t),i.do(t),n.bo(t),i.bo(t),i.ao(r),s.Gs().bs()||(e.ns_st_lt=s.Gs().getLoadTimeOffset()+t-s.Gs().Ss()+"",s.Gs().Is(!0)),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)}})}},{24:24,26:26,58:58}],81:[function(t,e,n){var i=t(24),o=t(26),a=t(58).Lu;e.exports=function(s){i.extend(this,{rs:function(t,e){var n=s.getPlaybackSession().getAsset(),i=parseInt(e.ns_st_po);n.Eo()?n.No()||(n.Oo(t),n.To(!0)):n.io(),n.Eo()||(n.ko(!0),n.To(!0),n.Fo(i),n.Oo(t)),n.po(t),n.do(t)},es:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.Po(t),i.Po(t),i.po(t),i.do(t)},ls:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);n.du(),i.du(),i.Eo()&&(i.No()&&(i.Vo(t),i.To(!1)),i.Ko(r),i.ko(!1)),i.ro(),n.bo(t),i.bo(t),i.po(t),i.do(t),i.ao(r),s.Ns().resume(),s.S().start();var o=s.Gs().Dr(a.PLAY,e,t);i.jr(o.Ut),i.Kr(o.Ut),s.ju().Vu(o)},as:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();n.so(t),i.so(t),i.po(t),i.do(t)},cs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ps:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset();s.Gs().Ts(),s.S().stop(),i.po(t);var r=s.Gs().Dr(a.END,e,t);i.jr(r.Ut),i.Kr(r.Ut),s.ju().Vu(r),i.Eo()&&i.No()&&(i.Uo(t-i.Wo()),i.To(!1)),n.Zs(),i.Ho(),i.Ro(!1),e.hasOwnProperty("ns_st_pe")&&o.vr(e.ns_st_pe,!1)&&s.Gs().ks()},vs:function(t,e){var n=s.getPlaybackSession().getAsset();n.Eo()&&n.No()&&(n.Vo(t),n.To(!1)),n.po(t),n.do(t)},ss:function(t,e){var n=s.getPlaybackSession(),i=n.getAsset(),r=parseInt(e.ns_st_po);s.Gs().As(),n.so(t),i.so(t),n.bo(t),i.bo(t),i.ao(r),i.po(t),i.do(t),s.Ns().resume(),s.S().start()}})}},{24:24,26:26,58:58}],82:[function(t,e,n){var s,a,i,r=null,u=[];function o(){var o=+new Date;r=i.setInterval(function(){var t=o+s,e=+new Date,n=e-t;if(o=e,Math.abs(n)>a)for(var i=0<n,r=0;r<u.length;++r)u[r](i)},s)}function c(){clearInterval(r),r=null}e.exports={Ou:function(t){u.push(t),r||o()},Yu:function(t){for(var e=0;e<u.length;++e)if(u[e]==t){u.splice(e,1);break}u.length||c()},setPlatformAPI:function(t){i=t},Us:function(t,e){!e&&s||(s=t||1e3),(r&&e||!r)&&(c(),o())},Bs:function(t,e){a=t||1e3}}},{}]},{},[16])(16)}).call(this,n(19),n(18))},function(t,e,n){var i,r;i=[n(7)],void 0===(r=function(r){"use strict";function o(t,e,n){this._persistantLabels={},this._urlParams="",this._cut="",this._httpGet=t,this._eventCount=0,this._isApp=e,this._isScorecardDomain=!0===n,this._hasStarted=!1}return o.IS_ECHO_APP_TAG=!0,o.URL_LIMIT=2048,o.prototype.setPixelURL=function(t){this._url=this._makeBaseUrl(t)},o.prototype.setCustomerC2=function(t){this.setLabel(r.COMSCORE_CUSTOMER,t)},o.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},o.prototype.setLabel=function(t,e){null===e?this.removeLabel(t):this._persistantLabels[t]=e},o.prototype.removeLabels=function(t){for(var e in t)void 0!==this._persistantLabels[t[e]]&&delete this._persistantLabels[t[e]]},o.prototype.removeLabel=function(t){void 0!==this._persistantLabels[t]&&delete this._persistantLabels[t]},o.prototype.view=function(t){this.send("view",t)},o.prototype.hidden=function(t){this.send("hidden",t)},o.prototype.send=function(t,e,n){var i,r,o=this._persistantLabels,s={};if(this._hasStarted){for(r in this._eventCount++,o)s[r]=o[r];for(r in e)s[r]=e[r];s.ns_type=t,this._isApp&&(s.ns_ap_ev=t,s.ns_ap_ec=this._eventCount),s[this._isApp?"ns_ts":"ns__t"]=+new Date,i=this._createUrl(s),this._httpGet(i,n)}},o.prototype._createUrl=function(t){var e,n=window.encodeURIComponent||escape,i=this._url;for(e in this._urlParams="",this._cut="",t.hasOwnProperty("name")&&this._addUrlParam("name",t.name),t)"name"!==e&&"ns_referrer"!==e&&this._addUrlParam(e,t[e]);return t.hasOwnProperty("ns_referrer")&&this._addUrlParam(this._isScorecardDomain?r.ENV_REFERRER:"ns_referrer",t.ns_referrer),i+=this._urlParams,this._cut.length?i+="ns_cut="+n(this._cut.replace(/&$/,"")):i=i.replace(/&$/,""),i},o.prototype._addUrlParam=function(t,e){var n=window.encodeURIComponent||escape,i=n(t)+"="+n(e)+"&",r=o.URL_LIMIT-8;this._url.length+this._urlParams.length+i.length<r?this._urlParams+=i:this._cut+=i},o.prototype._makeBaseUrl=function(t){for(var e=-1,n=t.charAt(t.length-1),i=0,r=t.length;i<r;i++)"?"===t.charAt(i)&&(e=i);return-1===e?t+="?":"?"!==n&&"&"!==n&&(t+="&"),t},o}.apply(e,i))||(t.exports=r)},function(t,e,u){var n;void 0===(n=function(t){"use strict";var i=u(37),r=u(3),e=u(2),n=u(1),o=u(38);function s(){return-1}function a(t,e,n,i){this._sensors=null,this._broker=null,this._media=null,this._meta={},this._stream=null,this._env=i,this._siteCode=n[r.BARB_SITE_CODE],this._debug=n[r.BARB_DEBUG],this._traceId=null,this._isPlaying=!1,this._isEssEnabled=!1,this._isEnabled=!0,this._hasStarted=!1,n[r.ECHO_TRACE]&&this.setTraceId(n[r.ECHO_TRACE]),n[r.USE_ESS]&&(this._isEssEnabled=!0),n&&!1===n[r.ECHO_ENABLED]?this._isEnabled=!1:this._isEnabled=!0}return a.prototype.start=function(){this._hasStarted||(this._hasStarted=!0)},a.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},a.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},a.prototype.setTraceId=function(t){this._traceId=t},a.SpringStreams=u(39),a.prototype.addLabels=s,a.prototype.addLabel=s,a.prototype.addManagedLabel=s,a.prototype.removeLabels=s,a.prototype.removeLabel=s,a.prototype.setLoggedInToBBCId=s,a.prototype.setLoggedOutOfBBCId=s,a.prototype.setAppVersion=s,a.prototype.setCounterName=s,a.prototype.setContentLanguage=s,a.prototype.setCacheMode=s,a.prototype.clearCache=s,a.prototype.flushCache=s,a.prototype.setESSEnabled=s,a.prototype.viewEvent=s,a.prototype.errorEvent=s,a.prototype.userActionEvent=s,a.prototype.setPlayerName=function(t){this._meta[i.PLAYER_DESC]=t},a.prototype.setPlayerVersion=function(t){this._meta[i.PLAYER_VERSION]=t},a.prototype.setPlayerIsPopped=s,a.prototype.setPlayerWindowState=s,a.prototype.setPlayerVolume=s,a.prototype.setPlayerIsSubtitled=s,a.prototype.setDestination=s,a.prototype.setProducer=s,a.prototype.setBroker=function(t){return this._broker=t,this},a.prototype.setMedia=function(t){this._eventsEnabled()&&(this.clearMedia(),this._media=t.getClone())},a.prototype.setMediaLength=function(t){this._media.setLength(t)},a.prototype.liveMediaUpdate=function(t){this._media=t.getClone(),this._isPlaying&&this._startTracking()},a.prototype.liveEnrichmentFailed=function(){this._media.getServiceId()||this._media.setServiceId("no-service-id-found"),this._isPlaying&&this._startTracking()},a.prototype.avPlayEvent=function(t,e){this._eventsEnabled()&&this.isValidMedia()&&this._broker&&(this._initSensors(),this._isPlaying=!0,this._media.isLive()&&!this._media.getServiceId()?this._isEssEnabled&&(this._media.getVersionId()||this._media.getVpId())||(this._media.setServiceId("invalid-data"),this._startTracking()):this._startTracking())},a.prototype._initSensors=function(){if(null===this._sensors){if(this._sensors=new a.SpringStreams(this._siteCode),null!==this._env.getSetLocalStorageItem()&&null!==this._env.getGetLocalStorageItem()&&null!==this._env.getHttpGet()){e.info("Using custom PageContext for BARB");var t=new o("com.kma.springstreams",this._env);this._sensors.setPageContext(t)}this._debug&&(this._sensors.debug=function(t){e.info("Spring DEBUG: "+t)})}},a.prototype._startTracking=function(){if(null===this._stream){var t=this._getAttributes(),e=t[i.PID]||" ";this._stream=this._sensors.track(e,t,this._getAdaptor())}},a.prototype._getMostPrecedentIdObject=function(){var t=this._media.getVersionIdObject(),e=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return t.isValueValid()?t:e.isValueValid()?e:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},a.prototype._getAttributes=function(){var t=this._media,e={};if(this._traceId&&(e[r.ECHO_TRACE]=this._traceId),!t.isLive()){var n=this._getMostPrecedentIdObject();null!==n&&(e[i.PID]=n.getValue())}return t.isOnDemand()?e[i.STREAM]="od":t.isDownload()?e[i.STREAM]="dwn":t.isLive()&&t.getServiceIdObject().isValueValid()&&(e[i.STREAM]="live/"+t.getServiceId()),e},a.prototype._getAdaptor=function(){var e,n=this;return e=this._media.isLive()?function(){return n._broker.getTimestamp()}:function(){return n._broker.getPosition()},{getMeta:function(t){return n._meta},getDuration:function(t){var e=0;return n._media.isLive()||(e=Math.floor(n._media.getLength()/1e3)),e},getPosition:function(t){return Math.floor(e()/1e3)}}},a.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},a.prototype.avPauseEvent=function(){},a.prototype.avBufferEvent=function(){},a.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isPlaying=!1,this.isValidMedia()&&this.clearMedia())},a.prototype.avRewindEvent=function(){},a.prototype.avFastForwardEvent=function(){},a.prototype.avSeekEvent=function(){},a.prototype.avUserActionEvent=s,a.prototype.clearMedia=function(){this.isValidMedia()&&(this._stream&&this._stream.stop(),this._stream=null,this._media=null)},a.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===n.AvType.VIDEO},a.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},a.prototype.requiresLabelCleansing=function(){return!0},a}.call(e,u,e,t))||(t.exports=n)},function(t,e,n){t.exports={STREAM:"stream",PID:"cq",WIDTH:"sx",HEIGHT:"sy",PLAYER_DESC:"pl",PLAYER_VERSION:"plv"}},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(t,e){this.namespace=t,this.env=e}return t.prototype.preloadImage=function(t){return this.env.getHttpGet()(t)},t.prototype.getLocalStorageItem=function(t){return this.env.getGetLocalStorageItem()(t)},t.prototype.setLocalStorageItem=function(t,e){return this.env.getSetLocalStorageItem()(t,e)},t.prototype.getWindowLocationURL=function(){return this.env.getURL()},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){function t(t){this.version="2.0.0";var r="2cnt.net",e=200,n=2e3,o="default",s=new Array;this.namespace="com.kma.springstreams",this.syncrate=20,this.pausesync=6,this.maxstates=50;var a,A=this;function i(t){for(var e=0;e<s.length;++e)try{s[e].update(t)}catch(t){S(t)}}function u(t){for(var e=0;e<s.length;++e)try{s[e].sync(t)}catch(t){S(t)}}function S(t){l("",t)}function c(t,e){return function t(e){var n;var i;var r;var o;var s=/[+&,;=~]/g;var a;switch(typeof e){case"string":return s.test(e)?escape(e).replace(s,function(t){var e=(void 0)[t];return e||t}):escape(e);case"number":return isFinite(e)?e.toString():"null";case"boolean":case"null":return e.toString();case"object":if(!e)return"null";if(n=[],"number"==typeof e.length&&!e.propertyIsEnumerable("length")){for(o=e.length,i=0;i<o;i+=1)n.push(t(e[i])||"null");return","+n.join("+")+";"}for(r in e)"string"==typeof r&&"site"!=r&&(a=t(e[r]))&&n.push(t(r)+"="+a);return","+n.join("+")+";"}return""}([[t,e]])}function l(t,e){var n,i=(void 0===A.pageContext.getWindowLocationURL()?"http://":"https"==A.pageContext.getWindowLocationURL().slice(0,5)?"https://ssl-":"http://")+((n=e)&&null!=n.site?n.site:o)+"."+r+"/j0="+c(t,e)+"?lt="+(new Date).getTime().toString(36)+function(){if(!this.nlso)try{var t;if(t=A.pageContext.getLocalStorageItem("i00"))return"&c="+t;var e="0000"+Math.ceil((new Date).getTime()/1e3).toString(16)+(32768|65535*Math.random()).toString(16)+"0000";A.pageContext.setLocalStorageItem("i00",e)}catch(t){console.log("error"+t)}return""}();A.pageContext.preloadImage(i),this.debug(i)}function f(t,e,n,i){var r,o,s,a,u,c,l,f,d=Math.round(1e10*Math.random()).toString(36),p=Math.round((new Date).getTime()/1e3),h=[0,0,p.toString(36)],_=0,g=0,v=!0,E=!1;function m(t){var e;h=[t,t,Math.round((new Date).getTime()/1e3).toString(36)],e=h,s.length<r.maxstates&&s.push(e),v=!0,_=0}function y(){null!=l&&f<l.length&&(c=l[f++],r.debug("switch syncrate to "+c))}function b(t){if(v){try{o.width&&(a.sx=o.width),o.videoWidth&&(a.sx=o.videoWidth),o.height&&(a.sy=o.height),o.videoHeight&&(a.sy=o.videoHeight)}catch(t){}var e;void 0!==A.pageContext.getDeviceID&&void 0!==A.pageContext.getDeviceID()&&(a[A.pageContext.getDeviceID().id_name]=A.pageContext.getDeviceID().id_value),a.uid=d,a.pst=s;try{a.dur&&0!=a.dur||(a.dur=u.getDuration(o))}catch(t){}try{e=u.getMeta(o)}catch(t){}a.vt=Math.round((new Date).getTime()/1e3)-p,r.send(e,a),g=h[1]}v=!1}r=t,o=e,u=i||r.HTML5Adapter,a=function(t){var e=new Object;for(var n in t)e[n]=t[n];return e}(n),(s=new Array).push(h),f=0,c=t.syncrate,l=t.getSyncRates(),y(),this.update=function(t){if(!E){var e=h[1],n=e;try{n=Math.round(u.getPosition(o))}catch(t){}try{if(e==n)return void(0<=_&&++_==r.pausesync&&(v=!0));_>=r.pausesync?m(n):e<n-1?m(n):n<e?m(n):(h[1]=n,h[1]-h[0]>=c&&c<=n-g&&(v=!0,y()),_=0)}catch(t){S=!0,r.error(t)}}},this.stop=function(){E||(E=v=!0,b(null))},this.sync=b}this.pageContext,function(t){var e;if(t){for(var n in t)n==r&&(e=t[n]);e&&(i=e.syncrates)&&(a=i)}var i}({"2cnt.net":{syncrates:[3,7,10,10,10,10,10,60]}}),t&&(o=t),setInterval(i,e),setInterval(u,n),this.getSyncRates=function(){return a},this.track=function(t,e,n){if(void 0===A.pageContext&&(A.pageContext=A.defaultPageContext),t){var i=new f(this,t,e,n);return s.push(i),i}},this.unload=function(){for(var t=0;t<s.length;++t)try{s[t].stop()}catch(t){S(t)}},this.doUpdate=i,this.doSync=u,this.error=S,this.debug=function(t){},this.send=l,this.defaultPageContext={getLocalStorageItem:function(t){return localStorage.getItem(t)},setLocalStorageItem:function(t,e){localStorage.setItem(t,e)},preloadImage:function(t){(new Image).src=t},getWindowLocationURL:function(){return document.location.href}},this.HTML5Adapter={getMeta:function(t){return{pl:"HTML 5 Video",pv:"HTML 5",sx:screen.width,sy:screen.height}},getPosition:function(t){return t.currentTime},getDuration:function(t){return Math.round(t.duration)}},this.DefaultAdapter={getMeta:function(t){return{pl:"DEF",pv:version,sx:screen.width,sy:screen.height}},getPosition:function(t){return(new Date).getTime()/1e3},getDuration:function(t){return 0}},this.WMStreamAdapter={getMeta:function(t){return{pl:"MSWM",plv:t.versionInfo,sx:screen.width,sy:screen.height}},getPosition:function(t){if(t.CurrentPosition)return t.CurrentPosition;if(t.currentPosition)return t.currentPosition;if(t.controls&&t.controls.currentPosition)return t.controls.currentPosition;if(t.Controls&&t.Controls.currentPosition)return t.Controls.currentPosition;return 0},getDuration:function(t){if(t.currentMedia){if(t.currentMedia.Duration)return t.currentMedia.Duration;if(t.currentMedia.duration)return t.currentMedia.duration}else if(t.CurrentMedia){if(t.CurrentMedia.duration)return t.CurrentMedia.duration;if(t.CurrentMedia.Duration)return t.CurrentMedia.Duration}}},this.RVStreamAdapter={getMeta:function(t){return{pl:"RV",plv:t.GetVersionInfo(),sx:screen.width,sy:screen.height}},getPosition:function(t){return t.GetPosition()/1e3},getDuration:function(t){return t.GetLength()/1e3}}}return t.prototype.setPageContext=function(t){this.pageContext=t},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,R){var n;void 0===(n=function(t){"use strict";var e=R(41),n=R(16),a=R(5),o=R(3),s=R(42),u=R(43),i=R(45),r=R(46),c=R(47),l=R(10),f=R(6),d=R(0),p=R(2),h=R(4),_=R(1),g=R(8),v=R(9),E="info",m="move",y="pause",b="play",A="stop",S="clip",I="live",T="ati-host.net",P="logw363.ati-host.net",C="logws1363.ati-host.net",O="api.bbc.co.uk",N="a1.api.bbc.co.uk",w="a1.api.bbc.co.uk";function L(){return-1}function D(t,e,n,i){if(this._tag=null,this._broker=null,this._media=null,this._mediaLength=null,this._commonMediaParams=null,this._env=i,this._pageValues={},this._customParams={},this._appName=t,this._appType=e,this._config=n,this._bbc_hid=null,this._lastHitUrl=null,this._lastPlayHitUrl=null,this._lastPage=null,this._deviceId=n[o.ECHO_DEVICE_ID]||void 0,this._deviceId||(this._deviceId=v.getCookieValueByName("idrxvr")),!this._deviceId){var r=v.getCookieValueByName("atuserid");r&&(this._deviceId=JSON.parse(decodeURIComponent(r)).val)}n[o.ECHO_TRACE]&&this.setTraceId(n[o.ECHO_TRACE]),this._isEnabled=n&&n[o.ECHO_ENABLED],n&&n[o.KEEPALIVE_DURATION]?this._keepAliveDuration=Number(n[o.KEEPALIVE_DURATION]):this._keepAliveDuration=3e5}return D.SmartTag=e,D.prototype._getHttpGetMethod=function(){return this._env.getHttpGet()||g._defaultHttpGet},D.prototype._setHTTPGetMethod=function(o){var s=this._getHttpGetMethod(),a=this;a._tag.sendUrl=function(t,r){var e=function(e,n,i){return function(t){a._tag.emit(e,{lvl:i,details:{hit:n,event:t}}),r&&"function"==typeof r&&r(),o&&"function"==typeof o&&o()}},n=e("Tracker:Hit:Sent:Ok",t=a._addLengthToMediaHit(t),"INFO"),i=e("Tracker:Hit:Sent:Error",t,"ERROR");s(t,n,i)}},D.prototype._getDestination=function(t,e){var n;return t&&(n=l.get(t[o.DESTINATION])),!n&&e&&(n=l.get(e.destination)),n||(p.info("Destination not found, using default site"),n=l.DEFAULT),n},D.prototype._getProducer=function(t,e,n){var i;return t&&(i=f.getId(t[o.PRODUCER])),!i&&e&&(i=f.getId(e.producer)),!i&&n&&(p.info("Producer not found, using default producer"),i=n.defaultProducer),i},D.prototype.setDestination=function(t){t||(t=l.DEFAULT,p.info("Destination not found, using default site instead")),t&&(this.setProducer(t.defaultProducer),this._setDomain(t.isTest),this._tag.setConfig(a.LEVEL_1_SITE,t.id))},D.prototype.setProducer=function(t){this.addLabel(a.LEVEL_2_SITE,t)},D.prototype._getCookieDomain=function(t){return t&&t.location&&t.location.hostname&&t.location.hostname.match(/.bbc.com$/)?"bbc.com":"bbc.co.uk"},D.prototype._setDomain=function(t){t?(this._tag.setConfig("domain",T),this._tag.setConfig("collectDomain",P),this._tag.setConfig("collectDomainSSL",C)):(this._tag.setConfig("domain",O),this._tag.setConfig("collectDomain",N),this._tag.setConfig("collectDomainSSL",w))},D.prototype._setSection=function(t,e,n){e&&(t&&t[a.SECTION]?(e[a.CHAPTER_1]=h.cleanCustomVariable(t[a.SECTION]),e.customObject&&delete e.customObject[a.SECTION]):n&&n.section&&(e[a.CHAPTER_1]=h.cleanCustomVariable(n.section)))},D.prototype._createAtiOptions=function(t,e){var n;if(t)switch(n={collectDomain:e.isTest?P:N,collectDomainSSL:e.isTest?C:w,cookieDomain:this._getCookieDomain(window),domain:e.isTest?T:O,pixelPath:t[o.ATI_PIXEL_PATH]||"/hit.xiti",secure:!1!==t[o.ATI_FORCE_HTTPS],site:e.id},t[o.ATI_LOG]&&(n.log=t[o.ATI_LOG]),t[o.ATI_SSL_LOG]&&(n.logSSL=t[o.ATI_SSL_LOG]),t[o.ECHO_DEVICE_ID]&&(n.ClientSideUserId={clientSideMode:"required",userIdCookieDuration:397,userIdExpirationMode:"fixed"}),t[o.ECHO_CACHE_MODE]){case _.EchoCacheMode.ALL:n.Offline={storageMode:o.ATI_CACHE_MODE_ALWAYS};break;default:n.Offline={storageMode:o.ATI_CACHE_MODE_REQUIRED}}return n},D.prototype._createTag=function(t){return new D.SmartTag.Tracker.Tag(t)},D.prototype._initTag=function(t){if(!this._tag){var e=this._config,n=this._getDestination(e,t),i=this._createAtiOptions(e,n);this._tag=this._createTag(i),this._tag.onTrigger("Tracker:Hit:Sent:Ok",this._onHitSent.bind(this)),this._debug&&(this._tag.debug=function(t){p.info("ATI DEBUG: "+t)}),this._deviceId&&this._tag.clientSideUserId.set(this._deviceId),this._bbc_hid&&this._tag.setParam(a.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0});var r=this._getProducer(e,t,n);this.setProducer(r),e&&e[o.APP_CATEGORY]&&this.addLabel(a.APP_CATEGORY,e[o.APP_CATEGORY]),this._setHTTPGetMethod()}},D.prototype.start=function(t){if(this._isEnabled&&!this._hasStarted)return this._hasStarted=!0,this._initTag(t)},D.prototype.enable=function(){this._isEnabled||(this._isEnabled=!0)},D.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1,this.clearMedia())},D.prototype._onHitSent=function(t,e){e&&e.details&&e.details.hit&&this._setLastHitUrl(e.details.hit)},D.prototype._addLengthToMediaHit=function(t){if(t&&"string"==typeof t&&t.match(/a\=(play|pause|stop|info|refresh|move)/)&&this._mediaLength){var e="m1="+Math.ceil(this._mediaLength/1e3);t=t.replace(/m1\=\d+/g,e)}return t},D.prototype._setLastHitUrl=function(t){t&&"string"==typeof t&&t.match(/a\=play/)?this._lastPlayHitUrl=t:this._lastHitUrl=t},D.prototype.setTraceId=function(t){this.addLabel(o.ECHO_TRACE,t)},D.prototype.addLabels=function(t){if("object"==typeof t)for(var e in t.bbc_identity&&(this.setBBCUser({bbc_hid:t.bbc_hid,signed_in:"1"===t.bbc_identity}),delete t.bbc_hid,delete t.bbc_identity),t)t.hasOwnProperty(e)&&this.addLabel(e,t[e])},D.prototype.addLabel=function(t,e){t===a.BBC_COUNTER_NAME||t===a.LEVEL_2_SITE?this._pageValues[t]=e:this._customParams[t]=e},D.prototype.setLoggedInToBBCId=function(t){this.setBBCUser({bbc_hid:t,signed_in:!0})},D.prototype.setLoggedOutOfBBCId=function(){this._tag&&this._tag.delParam(a.HASHED_ID),this._bbc_hid=null},D.prototype.setAppVersion=function(t){t&&this._tag&&this._tag.setParam(a.APP_VERSION,"["+t+"]",{hitType:["all"],permanent:!0})},D.prototype.setBBCUser=function(t){t.bbc_hid?this._bbc_hid=t.bbc_hid:t.signed_in&&(this._bbc_hid="unidentified-user"),this._tag&&!this._customParams.bbc_id_wait&&this._tag.setParam(a.HASHED_ID,this._bbc_hid,{hitType:["all"],permanent:!0})},D.prototype.addManagedLabel=L,D.prototype.removeLabels=function(t){for(var e=0,n=t.length;e<n;e++)this.removeLabel(t[e])},D.prototype.removeLabel=function(t){t===a.BBC_COUNTER_NAME||t===a.LEVEL_2_SITE?delete this._pageValues[t]:delete this._customParams[t]},D.prototype.setCounterName=function(t){this._tag.page.set({name:t,level2:this._pageValues[a.LEVEL_2_SITE]})},D.prototype.setContentLanguage=L,D.prototype.setCacheMode=L,D.prototype.clearCache=function(){this._tag.offline.remove()},D.prototype.flushCache=function(){this._tag.offline.send()},D.prototype.setESSEnabled=L,D.prototype.viewEvent=function(t,s){if(this._eventsEnabled())return this.addLabel(a.BBC_COUNTER_NAME,t),this.counterName=t,n.get().then(function(t){var e=d.clone(this._customParams),n=u.create(this._appName,this._appType,e,s,t,document),i=d.extend(s,!0,a.ECHO_EVENT_NAME,"view"),r=d.combineObjects(e,i,!1),o=d.clone(this._pageValues);o.customObject=r,n&&(o.customVars=n),this._setSection(i,o,t),this._tag.page.send(o),this._lastPage=o}.bind(this))},D.prototype.errorEvent=L,D.prototype.userActionEvent=function(t,e,n){if(this._eventsEnabled()){var i=d.extend(n,!0,a.ECHO_EVENT_NAME,"userAct"),r=d.combineObjects(this._customParams,i,!1),o=d.clone(this._pageValues);if(o)o.actionName=e,o.actionType=t,o.user=this._bbc_hid,o[a.BBC_COUNTER_NAME]=this.counterName,o.customObject=r,Boolean(o.customObject[a.IS_BACKGROUND])?c.sendImpressionEvent(this._tag,o):c.sendClickEvent(this._tag,o)}},D.prototype.setPlayerName=function(t){this._mediaPlayerName=t},D.prototype.setPlayerVersion=function(t){this._mediaPlayerVersion=t},D.prototype.setPlayerIsPopped=L,D.prototype.setPlayerWindowState=L,D.prototype.setPlayerVolume=L,D.prototype.setPlayerIsSubtitled=L,D.prototype.setBroker=function(t){return this._broker=t,this},D.prototype.setMedia=function(t){this._eventsEnabled()&&(this._mediaPlayerName&&!t.getMediaPlayerName()&&t.setMediaPlayerName(this._mediaPlayerName),this._mediaPlayerVersion&&!t.getMediaPlayerVersion()&&t.setMediaPlayerVersion(this._mediaPlayerVersion),this.clearMedia(),this._media=t,this.addMedia(this._media))},D.prototype.setMediaLength=function(t){this._mediaLength=t,this._media.setLength(t)},D.prototype.setMediaBitrate=L,D.prototype.setMediaCodec=L,D.prototype.setMediaCDN=L,D.prototype.liveMediaUpdate=function(t,e,n){d.assert("number"==typeof e,"newPosition must be a number"),d.assert("number"==typeof n,"oldPosition must be a number"),t.setProducerById(this._media.getProducer()),this._sendMediaEvent(A),this._media=t,this.addMedia(this._media),this._sendMediaEvent(b)},D.prototype.liveEnrichmentFailed=L,D.prototype._getIdObjectValue=function(t){return null!==t&&t.isValueValid()?t.getValue():"invalid-data"},D.prototype._getMostPrecedentIdObject=function(){var t=this._media.getVersionIdObject(),e=this._media.getEpisodeIdObject(),n=this._media.getClipIdObject(),i=this._media.getVpIdObject(),r=this._media.getServiceIdObject();return t.isValueValid()?t:e.isValueValid()?e:n.isValueValid()?n:i.isValueValid()?i:r.isValueValid()?r:null},D.prototype._eventsEnabled=function(){return this._isEnabled&&this._hasStarted},D.prototype.addMedia=function(t){if(this._tag&&this._tag.richMedia){this._commonMediaParams={playerId:t.getPlayerId(),mediaLabel:this._getIdObjectValue(this._getMostPrecedentIdObject()),mediaTheme1:i.constructThemeOne(t),mediaTheme2:i.constructThemeTwo(t),mediaTheme3:i.constructThemeThree(t)};var e={mediaType:t.getAvType(),playerId:this._commonMediaParams.playerId,duration:t&&t.getLength()?Math.ceil(t.getLength()/1e3):0,mediaLabel:this._commonMediaParams.mediaLabel,mediaTheme1:this._commonMediaParams.mediaTheme1,mediaTheme2:this._commonMediaParams.mediaTheme2,mediaTheme3:this._commonMediaParams.mediaTheme3,isEmbedded:t.isEmbedded(),broadcastMode:t.getMediaConsumptionMode()===I?I:S,refreshDuration:{0:10,1:60}};t.getProducer()&&(e.mediaLevel2=t.getProducer()),this._tag.richMedia.add(e)}},D.prototype._sendMediaEvent=function(t,e){this._commonMediaParams&&r.sendEvent(this._tag,this._commonMediaParams,t,e)},D.prototype.avPlayEvent=function(t,e){this._eventsEnabled()&&!this._media.getPlaying()&&(this._media.getBuffering()?this._sendMediaEvent(E,{isBuffering:!1}):(this._sendMediaEvent(b),this._addKeepAliveEventSchedule()))},D.prototype._addKeepAliveEventSchedule=function(){this._eventsEnabled()&&(this._keepAliveIntervalId||(this._keepAliveIntervalId=setInterval(this._sendKeepAliveEvent.bind(this),this._keepAliveDuration)))},D.prototype._removeKeepAliveEventSchedule=function(){this._keepAliveIntervalId&&(clearInterval(this._keepAliveIntervalId),this._keepAliveIntervalId=void 0)},D.prototype._sendKeepAliveEvent=function(){if(this._eventsEnabled()){var t={name:"keepalive",level2:this._media&&this._media.getProducer()?this._media.getProducer():0};this._tag.page.send(t),this._lastPage&&this._tag.page.set(this._lastPage)}},D.prototype.avPauseEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(y)},D.prototype.avBufferEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(E,{isBuffering:!0})},D.prototype.avEndEvent=function(){this._eventsEnabled()&&(this._isMediaLoaded=!1,this._removeKeepAliveEventSchedule(),this._sendMediaEvent(A),this.isValidMedia()&&this.clearMedia())},D.prototype.avRewindEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(m)},D.prototype.avFastForwardEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(m)},D.prototype.avSeekEvent=function(){this._eventsEnabled()&&this._sendMediaEvent(m)},D.prototype.avUserActionEvent=function(t,e,n,i){if("echo_hb"===t&&"echo_hb_5"===e){var r=this._addLengthToMediaHit(this._lastPlayHitUrl);s.sendRefreshEvent(this._tag,this._getHttpGetMethod(),r)}},D.prototype.clearMedia=function(){this.isValidMedia()&&(this._isMediaLoaded&&this.avEndEvent(),this._stream=null,this._media=null,this._commonMediaParams=null,this._tag.richMedia.removeAll())},D.prototype.isValidMedia=function(){return null!==this._media&&this._media.avType===_.AvType.VIDEO},D.prototype.isValidLiveMedia=function(){return this.isValidMedia()&&this._media.isLive()},D.prototype.getDeviceId=function(){return this._deviceId},D.prototype.requiresLabelCleansing=function(){return!0},D}.call(e,R,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){return function(){var t,a={site:596068,log:"",logSSL:"",domain:"ati-host.net",collectDomain:"logw363.ati-host.net",collectDomainSSL:"logws1363.ati-host.net",secure:!0,pixelPath:"/hit.xiti",disableCookie:!1,disableStorage:!1,cookieSecure:!1,cookieDomain:"",preview:!1,plgs:["Campaigns","Clicks","ClientSideUserId","ContextVariables","Offline","OnSiteAds","Page","RichMedia"],lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!0,medium:"",ignoreEmptyChapterValue:!0,base64Storage:!1,sendHitWhenOptOut:!0};(t=window).Echo1200ATInternet=t.Echo1200ATInternet||{},t.Echo1200ATInternet.Tracker=t.Echo1200ATInternet.Tracker||{},t.Echo1200ATInternet.Tracker.Plugins=t.Echo1200ATInternet.Tracker.Plugins||{};window.Echo1200ATInternet.Utils=new function(){function n(t){return null===t?"":(t+"").replace(e,"")}var c=this,i=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,e=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");c.isLocalStorageAvailable=function(){try{var t=localStorage;return t.setItem("__storage_test__","__storage_test__"),t.removeItem("__storage_test__"),!0}catch(t){return!1}},c.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,i,r,o,s,a="",u=0;for(t=c.Base64._utf8_encode(t);u<t.length;)r=(e=t.charCodeAt(u++))>>2,e=(3&e)<<4|(n=t.charCodeAt(u++))>>4,o=(15&n)<<2|(i=t.charCodeAt(u++))>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),a=a+this._keyStr.charAt(r)+this._keyStr.charAt(e)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return a},decode:function(t){var e,n,i,r,o,s="",a=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");a<t.length;)e=(e=this._keyStr.indexOf(t.charAt(a++)))<<2|(n=this._keyStr.indexOf(t.charAt(a++)))>>4,n=(15&n)<<4|(r=this._keyStr.indexOf(t.charAt(a++)))>>2,i=(3&r)<<6|(o=this._keyStr.indexOf(t.charAt(a++))),s+=String.fromCharCode(e),64!=r&&(s+=String.fromCharCode(n)),64!=o&&(s+=String.fromCharCode(i));return c.Base64._utf8_decode(s)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(127<i&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e,n,i,r="",o=0;o<t.length;)(e=t.charCodeAt(o))<128?(r+=String.fromCharCode(e),o++):191<e&&e<224?(n=t.charCodeAt(o+1),r+=String.fromCharCode((31&e)<<6|63&n),o+=2):(n=t.charCodeAt(o+1),i=t.charCodeAt(o+2),r+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&i),o+=3);return r}},c.loadScript=function(t,e){var n;e=e||function(){},(n=document.createElement("script")).type="text/javascript",n.src=t.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(t){("load"===(t=t||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||document.documentMode<9))&&(n.onload=n.onreadystatechange=n.onerror=null,e(null,t))},n.onerror=function(t){n.onload=n.onreadystatechange=n.onerror=null,e({msg:"script not loaded",event:t})};var i=document.head||document.getElementsByTagName("head")[0];i.insertBefore(n,i.lastChild)},c.cloneSimpleObject=function(t,e){if("object"!=typeof t||null===t||t instanceof Date)return t;var n,i=new t.constructor;for(n in t)t.hasOwnProperty(n)&&(void 0===n||e&&void 0===t[n]||(i[n]=c.cloneSimpleObject(t[n])));return i},c.jsonSerialize=function(t){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(t):function t(e){var n=typeof e;if("object"!==n||null===e)return"string"===n&&(e='"'+e+'"'),String(e);var i,r,o=[],s=e&&e.constructor===Array;for(i in e)e.hasOwnProperty(i)&&"function"!=(n=typeof(r=e[i]))&&"undefined"!==n&&("string"===n?r='"'+r.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==r&&(r=t(r)),o.push((s?"":'"'+i+'":')+String(r)));return(s?"[":"{")+String(o)+(s?"]":"}")}(t)}catch(t){return null}},c.jsonParse=function(t){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t+""):(o=null,(e=n((e=t)+""))&&!n(e.replace(i,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():null)}catch(t){return null}var e,r,o},c.arrayIndexOf=function(t,e){return Array.indexOf?t.indexOf(e):function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!=i&&1/0!=i&&-1/0!=i&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(i=0<=i?i:Math.max(n-Math.abs(i),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}.apply(t,[e])},c.uuid=function(){return{v4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},num:function(t){var e,n=new Date,i=function(t){return(t-=100*Math.floor(t/100))<10?"0"+t:String(t)};return i(n.getHours())+""+i(n.getMinutes())+i(n.getSeconds())+(e=t-6,Math.floor((9*Math.random()+1)*Math.pow(10,e-1)))}}},c.getObjectKeys=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},c.completeFstLevelObj=function(t,e,n){if(t){if(e)for(var i in e)!e.hasOwnProperty(i)||t[i]&&!n||(t[i]=e[i])}else t=e;return t},c.isPreview=function(){return window.navigator&&"preview"===window.navigator.loadPurpose},c.isPrerender=function(e){var n,t=!1,i=["webkit","ms"];if("prerender"===document.visibilityState)n="visibilitychange";else for(var r=0;r<i.length;r++)"prerender"===document[i[r]+"VisibilityState"]&&(n=i[r]+"visibilitychange");if(void 0!==n){var o=function(t){e(t),c.removeEvtListener(document,n,o)};c.addEvtListener(document,n,o),t=!0}return t};var r=c.addEvtListener=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},o=c.removeEvtListener=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)};c.hashcode=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++)e=0|(e=(e<<5)-e+t.charCodeAt(n));return e},c.setLocation=function(t){var e=t.location;t=window[t.target]||window,e&&(t.location.href=e)},c.dispatchCallbackEvent=function(t){var e;if("function"==typeof window.Event)e=new Event("ATCallbackEvent");else try{(e=document.createEvent("Event")).initEvent&&e.initEvent("ATCallbackEvent",!0,!0)}catch(t){}e&&"function"==typeof document.dispatchEvent&&(e.name=t,document.dispatchEvent(e))},c.addCallbackEvent=function(t){r(document,"ATCallbackEvent",t)},c.removeCallbackEvent=function(t){c.removeEvent("ATCallbackEvent",t)},function(){function t(t,e){var n;e=e||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail)}catch(t){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(t.prototype=window.Event.prototype),window.ATCustomEvent=t)}(),c.addEvent=function(t,e,n,i){c[t]=new ATCustomEvent(t,{detail:{name:e,id:n}}),r(document,t,i)},c.removeEvent=function(t,e){o(document,t,e)},c.dispatchEvent=function(t,e){c[t]=c[t]||new ATCustomEvent(t,{detail:{name:e,id:-1}});try{document.dispatchEvent(c[t])}catch(t){}},c.addOptOutEvent=function(t,e){c.addEvent("ATOptOutEvent","clientsideuserid",t,e)},c.removeOptOutEvent=function(t){c.removeEvent("ATOptOutEvent",t)},c.dispatchOptOutEvent=function(t){c.optedOut=t,c.dispatchEvent("ATOptOutEvent","clientsideuserid")},c.userOptedOut=function(){c.dispatchOptOutEvent(!0)},c.userOptedIn=function(){c.dispatchOptOutEvent(!1)},c.isOptedOut=function(){if(null===c.optedOut){var t;if(t=null,c.isLocalStorageAvailable()&&(t=localStorage.getItem("atoptedout")),null===t){var e=/(?:^| )atoptedout=([^;]+)/.exec(document.cookie);null!==e&&(t=e[1])}if(null!==t)try{t=decodeURIComponent(t)}catch(t){}t=!(!t||null===(t=c.jsonParse(t)||c.jsonParse(c.Base64.decode(t))))&&!!t.val,c.optedOut=t}return!!c.optedOut},c.optedOut=null,c.consentReceived=function(t){c.consent=!!t},c.consent=!0,c.isTabOpeningAction=function(t){var e=!1;return t&&(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1===t.button)&&(e=!0),e}};var u=function(g){var o=this,v=1600,E=["dz"],m=function(t,e,n,i,r,o,s){return{param:t="&"+t+"=",paramSize:t.length,str:e,strSize:e.length,truncate:n,multihit:i,separator:r||"",encode:o,last:s}},y=function(t,e){var n,i="",r=0,o=0,s=0,a=null,u=null;for(n in t)t.hasOwnProperty(n)&&(a=t[n])&&(r=e-o,a.last&&null!==u?u[n]=a:a.strSize+a.paramSize<=r?(i+=a.param+a.str,o+=a.paramSize+a.strSize):((u=u||{})[n]=a).truncate&&(s=r-a.paramSize,a.separator&&(r=a.str.substring(0,r),s=a.encode?r.lastIndexOf(encodeURIComponent(a.separator))||s:r.lastIndexOf(a.separator)||s),i+=a.param+a.str.substring(0,s),o+=a.paramSize+a.str.substring(0,s).size,u[n].str=a.str.substring(s,a.strSize),u[n].strSize=u[n].str.length));return[i,u]},s=function(e,n,i,t,s){!function(t,e){var n=g.getConfig("secure"),i="";if(t)i=t;else{i="https:"===document.location.protocol;var r=(i=n||i)?g.getConfig("logSSL"):g.getConfig("log"),o=g.getConfig("domain");i=r&&o?r+"."+o:i?g.getConfig("collectDomainSSL"):g.getConfig("collectDomain")}r=g.getConfig("baseURL"),"/"!==(o=(o=g.getConfig("pixelPath"))||"/").charAt(0)&&(o="/"+o);var s=g.getConfig("site");if((r||i&&o)&&s){var a="//";n&&(a="https:"+a),e&&e(null,(r||a+i+o)+"?s="+s)}else e&&e({message:"Config error"})}(t,function(t,o){t?s&&s(t):(v=1600-(o.length+27),function(t,e,n,i){var r,_="",o=function(t){if(t==={})return[];var e,n,i,r,o,s,a,u,c,l,f=[],d=!(e={}),p=void 0,h="";for(l in t)if(t.hasOwnProperty(l))if(a=s=o=r=!1,n=t[l].value,"boolean"==typeof(i=t[l].options||{}).encode&&(r=i.encode),"function"==typeof n&&(n=n()),n=n instanceof Array?n.join(i.separator||","):"object"==typeof n?Echo1200ATInternet.Utils.jsonSerialize(n):void 0===n?"undefined":n.toString(),r&&(n=encodeURIComponent(n)),-1<Echo1200ATInternet.Utils.arrayIndexOf(E,l)?o=!0:"boolean"==typeof i.truncate&&(o=i.truncate),"boolean"==typeof i.multihit&&(s=i.multihit),"boolean"==typeof i.last&&(a=i.last),n=m(l,n,o,s,i.separator,r,a),s)v-=n.paramSize+n.strSize,h+=n.param+n.str;else if(a)n.paramSize+n.strSize>v&&(n.str=n.str.substring(0,v-n.paramSize),n.strSize=n.str.length),u=l,c=n;else if(e[l]=n,e[l].paramSize+e[l].strSize>v&&!e[l].truncate){g.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+e[l].param+'"',details:{value:e[l].str}}),d=!0,p=l;break}if(u&&(e[u]=c),t=(e=[e,d,p,h])[0],d=e[1],_=e[3],d&&((t=t[e=e[2]]).str=t.str.substring(0,v-t.paramSize),t.strSize=t.str.length,(d={}).mherr=m("mherr","1",!1,!1,"",!1),d[e]=t,t=d),null===(t=y(t,v))[1])f=t[0];else for(f.push(t[0]);null!==t[1];)t=y(t[1],v),f.push(t[0]);return f},s="";if(g.buffer.presentInFilters(n,"hitType")||(n=g.buffer.addInFilters(n,"hitType",["page"])),n=g.buffer.addInFilters(n,"hitType",["all"]),"object"==typeof t&&null!==t){var a,u,c,l;for(r in n=g.buffer.addInFilters(n,"permanent",!0),n=g.buffer.get(n,!0),t)if(t.hasOwnProperty(r)){if(s=t[r],a={},e&&"object"==typeof t[r]){for(l in c=u=!1,t[r])t[r].hasOwnProperty(l)&&("value"===l?u=!0:"options"===l&&"object"==typeof t[r].options&&null!==t[r].options&&(c=!0));u&&c&&(s=t[r].value,a=t[r].options)}n[r]={value:s,options:a}}s=o(n)}else for(r in s=o(n=g.buffer.get(n,!0)),n)!n.hasOwnProperty(r)||n[r].options&&n[r].options.permanent||g.buffer.del(r);i&&i(s,_)}(e,n,i,function(t,e){var n=[],i=Echo1200ATInternet.Utils.uuid().num(13);if(t instanceof Array)for(var r=1;r<=t.length;r++)n.push(o+e+"&mh="+r+"-"+t.length+"-"+i+t[r-1]);else n.push(o+e+t);s&&s(null,n)}))})};o.send=function(t,e,i,n,r){s(t,r,e,n,function(t,e){if(t)g.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:t.message,details:{}}),i&&i();else for(var n=0;n<e.length;n++)o.sendUrl(e[n],i)})},o.sendUrl=function(t,s){var e=function(i,r,o){return function(t){var e="";if("/"===r.charAt(0)){e=g.getConfig("secure");var n="https:"===document.location.protocol;e=e||n?"https:":"http:"}g.emit(i,{lvl:o,details:{hit:e+r,event:t}}),s&&s()}};if(Echo1200ATInternet.Utils.isOptedOut()&&!g.getConfig("sendHitWhenOptOut"))e("Tracker:Hit:Sent:NoTrack",t,"INFO")();else{var n=new Image;n.onload=e("Tracker:Hit:Sent:Ok",t,"INFO"),n.onerror=e("Tracker:Hit:Sent:Error",t,"ERROR"),n.src=t}}},c=function(){function s(t,e,n){for(var i=[],r=0;r<t.length;r++)t[r].callback(e,n),t[r].singleUse||i.push(t[r]);return i}var i={};this.on=function(t,e,n){return n=n||!1,function t(e,n,i,r){var o=e.shift();return"*"===o?(n["*"]=n["*"]||[],n["*"].push({callback:i,singleUse:r}),n["*"].length-1):0===e.length?t([o,"*"],n,i,r):(n["*"]=n["*"]||[],n[o]=n[o]||{},t(e,n[o],i,r))}(t.split(":"),i,e,n)},this.emit=function(t,e){i["*"]&&(i["*"]=s(i["*"],t,e)),function t(e,n,i,r){var o=n.shift();"*"!==o&&(0===n.length?t(e,[o,"*"],i,r):i[o]&&(i[o]["*"]=s(i[o]["*"],e,r),t(e,n,i[o],r)))}(t,t.split(":"),i,e)}},l=function(a){var u={},n={},i=0,c={},l=0,f=function(t){var e=!1;return u[t]&&(e=!0),e},r=this.unload=function(t){return f(t)?(u[t]=void 0,a.emit("Tracker:Plugin:Unload:"+t+":Ok",{lvl:"INFO"})):a.emit("Tracker:Plugin:Unload:"+t+":Error",{lvl:"ERROR",msg:"not a known plugin"}),a},e=this.load=function(t,e){return"function"==typeof e?void 0===a.getConfig.plgAllowed||0===a.getConfig.plgAllowed.length||-1<a.getConfig.plgAllowed.indexOf(t)?(u[t]=new e(a),n[t]&&f(t)&&(n[t]=!1,i--,f(t+"_ll")&&r(t+"_ll"),0===i&&a.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),a.emit("Tracker:Plugin:Load:"+t+":Ok",{lvl:"INFO"})):a.emit("Tracker:Plugin:Load:"+t+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):a.emit("Tracker:Plugin:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:e}}),a},d=this.isLazyloading=function(t){return t?!0===n[t]:0!==i},p=function(t){return!f(t)&&!d(t)&&f(t+"_ll")},h=function(t){n[t]=!0,i++,Echo1200ATInternet.Utils.loadScript({url:a.getConfig("lazyLoadingPath")+t+".js"})};this.isExecWaitingLazyloading=function(){return 0!==l},a.exec=this.exec=function(t,e,n,i){var r=null,o=function(t,e,n,i){e=e.split("."),f(t)&&u[t][e[0]]&&(r=1<e.length&&u[t][e[0]][e[1]]?u[t][e[0]][e[1]].apply(u[t],n):u[t][e[0]].apply(u[t],n)),i&&i(r)},s=function(e,t,n,i){var r;c[r=e]?c[r]++:c[r]=1,l++,a.onTrigger("Tracker:Plugin:Load:"+e+":Ok",function(){o(e,t,n,function(t){c[e]--,0===--l&&a.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),i&&i(t)})},!0)};p(t)?(s(t,e,n,i),h(t)):d(t)?s(t,e,n,i):o(t,e,n,i)},this.waitForDependencies=function(t,r){var e,o=function(t){for(var e={mcount:0,plugins:{}},n=0;n<t.length;n++)u.hasOwnProperty(t[n])||(e.mcount++,e.plugins[t[n]]=!0);return e}(t);if(0===o.mcount)a.emit("Tracker:Plugin:Dependencies:Loaded",{lvl:"INFO",details:{dependencies:t}}),r();else for(var n in o.plugins)o.plugins.hasOwnProperty(n)&&(a.emit("Tracker:Plugin:Dependencies:Error",{lvl:"WARNING",msg:"Missing plugin "+n}),a.onTrigger("Tracker:Plugin:Load:"+n,function(t,e){var n=t.split(":"),i=n[3];"Ok"===n[4]&&(o.plugins[i]=!1,o.mcount--,0===o.mcount&&r())},!0),p(e=n)&&h(e))},this.init=function(){for(var t in Echo1200ATInternet.Tracker.pluginProtos)Echo1200ATInternet.Tracker.pluginProtos.hasOwnProperty(t)&&e(t,Echo1200ATInternet.Tracker.pluginProtos[t])}},f=function(i){var r=this,o={},s=function(t){if(t.name){var e=!0;if("undefined"!=typeof configuration&&(configuration.include instanceof Array&&-1===Echo1200ATInternet.Utils.arrayIndexOf(configuration.include,t.name)&&(e=!1),configuration.exclude instanceof Array&&-1!==Echo1200ATInternet.Utils.arrayIndexOf(configuration.exclude,t.name)&&(e=!1)),Echo1200ATInternet.Callbacks&&Echo1200ATInternet.Callbacks.hasOwnProperty(t.name)){var n={};n[t.name]={function:Echo1200ATInternet.Callbacks[t.name]},e&&r.load(t.name,n[t.name].function),Echo1200ATInternet.Tracker.callbackProtos[t.name]||(Echo1200ATInternet.Tracker.callbackProtos[t.name]=n[t.name])}}};r.load=function(t,e){return"function"==typeof e?(new e(i),i.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:e}})):i.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:e}}),i},r.init=function(){if(i.getConfig("activateCallbacks")){var t=i.getConfig("callbacks");if(void 0!==t&&t.include instanceof Array)for(var e=0;e<t.include.length;e++)Echo1200ATInternet.Callbacks&&Echo1200ATInternet.Callbacks.hasOwnProperty(t.include[e])&&(o[t.include[e]]={function:Echo1200ATInternet.Callbacks[t.include[e]]},Echo1200ATInternet.Tracker.callbackProtos[t.include[e]]||(Echo1200ATInternet.Tracker.callbackProtos[t.include[e]]=o[t.include[e]]));else for(e in Echo1200ATInternet.Callbacks)Echo1200ATInternet.Callbacks.hasOwnProperty(e)&&(o[e]={function:Echo1200ATInternet.Callbacks[e]},Echo1200ATInternet.Tracker.callbackProtos[e]||(Echo1200ATInternet.Tracker.callbackProtos[e]=o[e]));if(void 0!==t&&t.exclude instanceof Array)for(e=0;e<t.exclude.length;e++)o[t.exclude[e]]&&(o[t.exclude[e]]=void 0);for(var n in o)o.hasOwnProperty(n)&&o[n]&&r.load(n,o[n].function);Echo1200ATInternet.Utils.addCallbackEvent(s)}},r.removeCallbackEvent=function(){Echo1200ATInternet.Utils.removeCallbackEvent(s)}},d=function(t){var c={};this.set=function(t,e,n){(n=n||{}).hitType=n.hitType||["page"],c[t]={value:e,options:n}};var o=function(t,e,n){return(t=window.Echo1200ATInternet.Utils.cloneSimpleObject(t[e]))&&!n?t.value:t};this.get=function(t,e){var n={};if("string"==typeof t)n=o(c,t,e);else for(var i=function t(e,n){if(!(e&&n instanceof Array&&e instanceof Array))return[];if(0===e.length)return n;var i,r=e[0],o=[],s=window.Echo1200ATInternet.Utils.cloneSimpleObject(e);s.shift();for(var a=0;a<n.length;a++)if("object"!=typeof r[1])c[n[a]]&&c[n[a]].options[r[0]]===r[1]&&o.push(n[a]);else{i=r[1].length;for(var u=0;u<i;u++)if(c[n[a]]&&c[n[a]].options[r[0]]instanceof Array&&0<=window.Echo1200ATInternet.Utils.arrayIndexOf(c[n[a]].options[r[0]],r[1][u])){o.push(n[a]);break}}return t(s,o)}(t,window.Echo1200ATInternet.Utils.getObjectKeys(c)),r=0;r<i.length;r++)n[i[r]]=o(c,i[r],e);return n},this.presentInFilters=function t(e,n){return!(!e||0===e.length)&&(e[0][0]===n||t(e.slice(1),n))},this.addInFilters=function t(e,n,i,r){if(!e||0===e.length)return r?[]:[[n,i]];var o=e[0][0],s=e[0][1];return o===n&&(s instanceof Array&&-1===window.Echo1200ATInternet.Utils.arrayIndexOf(s,i[0])&&s.push(i[0]),r=!0),[[o,s]].concat(t(e.slice(1),n,i,r))},this.del=function(t){c[t]=void 0},this.clear=function(){c={}}};Echo1200ATInternet.Tracker.Tag=function(t,e,n){e=e||{};var r=this;r.version="5.17.1";var i=window.Echo1200ATInternet.Utils.cloneSimpleObject(e);r.triggers=new c(r),r.emit=r.triggers.emit,r.onTrigger=r.triggers.on;var o,s=window.Echo1200ATInternet.Utils.cloneSimpleObject(a)||{};for(o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);r.getConfig=function(t){return s[t]},r.setConfig=function(t,e,n){void 0!==s[t]&&n||(r.emit("Tracker:Config:Set:"+t,{lvl:"INFO",details:{bef:s[t],aft:e}}),s[t]=e)},r.configPlugin=function(t,e,n){for(var i in s[t]=s[t]||{},e)e.hasOwnProperty(i)&&void 0===s[t][i]&&(s[t][i]=e[i]);return n&&(n(s[t]),r.onTrigger("Tracker:Config:Set:"+t,function(t,e){n(e.details.aft)})),s[t]},r.getContext=function(t){return i[t]},r.setContext=function(t,e){r.emit("Tracker:Context:Set:"+t,{lvl:"INFO",details:{bef:i[t],aft:e}}),i[t]=e},r.delContext=function(t,e){if(r.emit("Tracker:Context:Deleted:"+t+":"+e,{lvl:"INFO",details:{key1:t,key2:e}}),t)i.hasOwnProperty(t)&&(e?i[t]&&i[t].hasOwnProperty(e)&&(i[t][e]=void 0):i[t]=void 0);else if(e)for(var n in i)i.hasOwnProperty(n)&&i[n]&&i[n].hasOwnProperty(e)&&(i[n][e]=void 0)},r.plugins=new l(r),r.buffer=new d(r),r.setParam=r.buffer.set,r.getParams=function(t){return r.buffer.get(t,!1)},r.getParam=r.buffer.get,r.delParam=r.buffer.del,r.builder=new u(r),r.sendHit=r.builder.send,r.sendUrl=r.builder.sendUrl,r.callbacks=new f(r),r.setParam("ts",function(){return(new Date).getTime()},{permanent:!0,hitType:["all"]}),(r.getConfig("disableCookie")||r.getConfig("disableStorage"))&&r.setParam("idclient","Consent-NO",{permanent:!0,hitType:["all"]}),r.getConfig("medium")&&r.setParam("medium",r.getConfig("medium"),{permanent:!0,hitType:["all"]}),r.plugins.init(),r.callbacks.init(),Echo1200ATInternet.Tracker.instances.push(r),r.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:r,args:{config:t,context:e,callback:n}}}),n&&n(r)},Echo1200ATInternet.Tracker.instances=[],Echo1200ATInternet.Tracker.pluginProtos={},Echo1200ATInternet.Tracker.addPlugin=function(t,e){if(e=e||Echo1200ATInternet.Tracker.Plugins[t],!Echo1200ATInternet.Tracker.pluginProtos[t]){Echo1200ATInternet.Tracker.pluginProtos[t]=e;for(var n=0;n<Echo1200ATInternet.Tracker.instances.length;n++)Echo1200ATInternet.Tracker.instances[n].plugins.load(t,e)}},Echo1200ATInternet.Tracker.delPlugin=function(t){if(Echo1200ATInternet.Tracker.pluginProtos[t]){Echo1200ATInternet.Tracker.pluginProtos[t]=void 0;for(var e=0;e<Echo1200ATInternet.Tracker.instances.length;e++)Echo1200ATInternet.Tracker.instances[e].plugins.unload(t)}},Echo1200ATInternet.Tracker.callbackProtos={}}.call(window),function(){var t={lifetime:30,lastPersistence:!0,listEventsForExec:[],domainAttribution:!0,info:!0},e=30,n=30;window.Echo1200ATInternet.Tracker.Plugins.Campaigns=function(r){r.setConfig("visitLifetime",e,!0),r.setConfig("redirectionLifetime",n,!0);var o,s,a={};r.configPlugin("Campaigns",t,function(t){a=t});var u,c,l,f,d,p,h,_,g,v,E,m,y,b=function(){var u=function(t){var e="";return t&&(e=isNaN(t)&&-1===t.search(/\[(.*?)\]/g)?"["+t+"]":t),e},c=function(t){for(;"-"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);return t};this.SponsoredLinks=function(){var s={google:"goo",yahoo:"ysm",miva:"miv",orange:"wan",msn:"msn",mirago:"mir",sklik:"skl",adfox:"adf",etarget:"etg",yandex:"yan",ebay:"eba",searchalliance:"sal",bing:"bin",naver:"nav",baidu:"bdu",qwant:"qwt"},a={search:"s",content:"c"};this.at_medium="sl",this.at_term=this.at_network=this.at_variant=this.at_creation=this.at_platform=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=s[this.at_platform]||"",n=u(this.at_creation),i=u(this.at_variant),r=a[this.at_network]||"",o=u(this.at_term);return c("sec-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_platform=r.utils.getQueryStringValue("at_platform",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||"",this.at_network=r.utils.getQueryStringValue("at_network",t)||"",this.at_term=r.utils.getQueryStringValue("at_term",t)||""}},this.Email=function(){var e={acquisition:"erec",retention:"epr",promotion:"es"};this.at_medium="email",this.at_send_time=this.at_recipient_list=this.at_recipient_id=this.at_link=this.at_send_date=this.at_creation=this.at_campaign=this.at_emailtype="",this.format=function(){var t=(t=e[this.at_emailtype]||e.promotion)+"-"+u(this.at_campaign)+"-"+u(this.at_creation)+"-"+this.at_send_date+"-"+u(this.at_link)+"-"+this.at_recipient_id+(this.at_recipient_list?"@"+this.at_recipient_list:"")+"-"+this.at_send_time;return c(t)},this.setProperties=function(t){this.at_emailtype=r.utils.getQueryStringValue("at_emailtype",t)||"",this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_send_date=r.utils.getQueryStringValue("at_send_date",t)||"",this.at_link=r.utils.getQueryStringValue("at_link",t)||"",this.at_recipient_id=r.utils.getQueryStringValue("at_recipient_id",t)||"",this.at_recipient_list=r.utils.getQueryStringValue("at_recipient_list",t)||"",this.at_send_time=r.utils.getQueryStringValue("at_send_time",t)||""}},this.Affiliate=function(){this.at_medium="affiliate",this.at_variant=this.at_creation=this.at_format=this.at_identifier=this.at_type=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=u(this.at_type),n=u(this.at_identifier),i=u(this.at_format),r=u(this.at_creation),o=u(this.at_variant);return c("al-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_type=r.utils.getQueryStringValue("at_type",t)||"",this.at_identifier=r.utils.getQueryStringValue("at_identifier",t)||"",this.at_format=r.utils.getQueryStringValue("at_format",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||""}},this.Display=function(){this.at_medium="display",this.at_detail_placement=this.at_general_placement=this.at_channel=this.at_format=this.at_variant=this.at_creation=this.at_campaign="",this.format=function(){var t=u(this.at_campaign),e=u(this.at_creation),n=u(this.at_variant),i=u(this.at_format),r=u(this.at_channel),o=u(this.at_general_placement),s=u(this.at_detail_placement);return c("ad-"+t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o+"-"+s)},this.setProperties=function(t){this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_creation=r.utils.getQueryStringValue("at_creation",t)||"",this.at_variant=r.utils.getQueryStringValue("at_variant",t)||"",this.at_format=r.utils.getQueryStringValue("at_format",t)||"",this.at_channel=r.utils.getQueryStringValue("at_channel",t)||"",this.at_general_placement=r.utils.getQueryStringValue("at_general_placement",t)||"",this.at_detail_placement=r.utils.getQueryStringValue("at_detail_placement",t)||""}},this.Custom=function(){this.at_custom4=this.at_custom3=this.at_custom2=this.at_custom1=this.at_campaign=this.at_medium="",this.format=function(){var t="";/\d+$/.test(this.at_medium)&&(t=/\d+$/.exec(this.at_medium)[0]);t="cs"+t;var e=u(this.at_campaign),n=u(this.at_custom1),i=u(this.at_custom2),r=u(this.at_custom3),o=u(this.at_custom4);return c(t+"-"+e+"-"+n+"-"+i+"-"+r+"-"+o)},this.setProperties=function(t){this.at_medium=r.utils.getQueryStringValue("at_medium",t)||"",this.at_campaign=r.utils.getQueryStringValue("at_campaign",t)||"",this.at_custom1=r.utils.getQueryStringValue("at_custom1",t)||"",this.at_custom2=r.utils.getQueryStringValue("at_custom2",t)||"",this.at_custom3=r.utils.getQueryStringValue("at_custom3",t)||"",this.at_custom4=r.utils.getQueryStringValue("at_custom4",t)||""}},this.medium={sl:this.SponsoredLinks,email:this.Email,affiliate:this.Affiliate,display:this.Display}},A=function(t,e){var n=r.storage[s](t);return null!==n?"object"==typeof n&&!(n instanceof Array):(r.storage[o](t,{},e),!0)},S=function(t,e){var n=r.getContext("campaigns")||{};n[t]=e,r.setContext("campaigns",n)};r.plugins.waitForDependencies(["Storage","Utils"],function(){o="set"+(a.domainAttribution?"":"Private"),s="get"+(a.domainAttribution?"":"Private"),u=r.storage[s](["atredir","gopc"]),c=r.storage[s](["atredir","gopc_err"]),l=r.storage[s](["atredir","camp"]),r.storage.del(["atredir","gopc"]),r.storage.del(["atredir","gopc_err"]),r.storage.del(["atredir","camp"]),f=r.storage[s](["atsession","histo_camp"]),d=r.storage[s](["atreman","camp"]),p=r.storage[s](["atreman","date"]);var t,e=r.utils.getLocation();if(n=r.utils.getQueryStringValue("at_medium",e)){var n,i=new b;(n="function"==typeof i.medium[n]?new i.medium[n]:new i.Custom).setProperties(e),h=n.format()}else h=r.utils.getQueryStringValue("xtor",e);_=r.utils.getQueryStringValue("xtdt",e),g=r.utils.getQueryStringValue("xts",e),v=r.getContext("forcedCampaign"),E=!!r.getConfig("redirect"),y=!1,(m=!!(h&&_&&g))&&(e=(new Date).getTime()/6e4,y=!E&&g!==r.getConfig("site")||e-_<0||e-_>=r.getConfig("visitLifetime")),e=v||l||h,E&&e&&A("atredir",{path:"/",end:r.getConfig("redirectionLifetime")})&&(r.storage[o](["atredir","camp"],e),n=e=!1,v||(n=l?(e=u,c):(e=m,y)),r.storage[o](["atredir","gopc"],e),r.storage[o](["atredir","gopc_err"],n)),!E&&d&&(S("xtor",d),e=(new Date).getTime()/36e5,e=Math.floor(e-p),S("roinbh",0<=e?e:0)),E||(e=null,e=l?u?v||e:v||l:m?v:v||h||e,f&&f instanceof Array&&-1<f.indexOf(e)&&(e=null),e&&S("xto",e)),E||v||(l?c&&(t=l):y&&(t=h),t&&S("pgt",t)),E||!(t=l?v||l:v||h||null)||!v&&!l&&m&&y||!v&&l&&u&&c||((!f||f instanceof Array&&f.indexOf(t)<0)&&A("atsession",{path:"/",session:60*r.getConfig("visitLifetime")})&&r.storage[o](["atsession","histo_camp"],f&&f.push(t)?f:[t]),d&&!a.lastPersistence||!A("atreman",{path:"/",session:86400*a.lifetime})||(r.storage[o](["atreman","camp"],t),r.storage[o](["atreman","date"],(new Date).getTime()/36e5))),r.emit("Campaigns:process:done",{lvl:"INFO"})})},window.Echo1200ATInternet.Tracker.addPlugin("Campaigns")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Clicks=function(o){var s=function(t){var e="";switch(t){case"exit":e="S";break;case"download":e="T";break;case"action":e="A";break;case"navigation":e="N"}return e},a=function(t){var e=t.name;return o.exec("Utils","manageChapters",[t,"chapter",3],function(t){e=t+(e||"")}),e},i=function(t){var e={p:a(t),s2:t.level2||"",click:s(t.type)||""},n=["click"],i=o.getContext("page")||{};e.pclick=a(i),e.s2click=i.level2||"";var r=!1;(i=t.customObject)&&(r=!0,i=o.processTagObject("stc",n,i),e.stc={value:Echo1200ATInternet.Utils.jsonSerialize(i),options:{hitType:n,encode:!0,separator:",",truncate:!0}}),o.sendHit(e,[["hitType",n]],t.callback,null,r)};o.click={},o.clickListener=this.clickListener={},o.click.send=this.send=function(t){var e=!0,n=null;return t&&t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(e=o.techClicks.manageClick(t.elem,n)),i(t),e},o.clickListener.send=this.clickListener.send=function(e){if(e.elem){var n="click";o.plugins.exec("TechClicks","isFormSubmit",[e.elem],function(t){n=t?"submit":"click"}),Echo1200ATInternet.Utils.addEvtListener(e.elem,n,function(t){Echo1200ATInternet.Utils.isTabOpeningAction(t)||o.techClicks.manageClick(e.elem,t),i(e)})}},o.click.set=this.set=function(t){o.dispatchSubscribe("click"),o.setContext("click",{name:a(t),level2:t.level2||"",customObject:t.customObject}),o.setParam("click",s(t.type)||"",{hitType:["click"]})},o.click.onDispatch=this.onDispatch=function(t){var e=["click"],n=o.getContext("click")||{},i=o.getContext("page")||{};o.setParam("pclick",a(i),{hitType:e}),o.setParam("s2click",i.level2||"",{hitType:e}),o.setParam("p",n.name,{hitType:e}),o.setParam("s2",n.level2,{hitType:e}),(n=n.customObject)?o.processContextObjectAndSendHit("stc",{hitType:e,encode:!0,separator:",",truncate:!0},n,t):o.manageSend(function(){o.sendHit(null,[["hitType",e]],t)}),o.setContext("click",void 0)}},window.Echo1200ATInternet.Tracker.addPlugin("Clicks")}.call(window),function(){var g={clientSideMode:"always",userIdCookieDuration:397,userIdExpirationMode:"relative",optOut:"OPT-OUT",userIdStorageName:"atuserid",optOutStorageName:"atoptedout",info:!0};window.Echo1200ATInternet.Tracker.Plugins.ClientSideUserId=function(i){var r={},o=void 0,s=null,a=!1,u=!1,c=!1,l="",f="",d=!1,p=!1,e=-1;i.configPlugin("ClientSideUserId",g,function(t){r=t});var t=function(){if("relative"===r.userIdExpirationMode||"fixed"===r.userIdExpirationMode&&null===s||d){var t=new Date;t.setTime(t.getTime()+864e5*r.userIdCookieDuration),i.storage.set(f,l,{end:t,path:"/"},p),t=i.storage.get(f,!0),Echo1200ATInternet.Utils.consent&&!d&&l!==t&&i.setParam("idclient",l+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},h=function(){i.setParam("idclient",l,{multihit:!0,permanent:!0,hitType:["all"]}),t()},n=function(){o=i.getContext("userIdentifier"),s=i.storage.get("atuserid");var t=!1;if("required"===r.clientSideMode){var e="";window.navigator&&(e=window.navigator.userAgent),(/Safari/.test(e)&&!/Chrome/.test(e)||/iPhone|iPod|iPad/.test(e))&&(t=!0)}else"always"===r.clientSideMode&&(t=!0);a=t,(t=!1)===(e=Echo1200ATInternet.Utils.optedOut)&&(i.storage.del("atoptedout"),i.getParam("idclient")===r.optOut&&i.delParam("idclient"));var n=i.storage.get("atoptedout",!0);!0!==e&&n!==r.optOut||(t=!0),t&&(Echo1200ATInternet.Utils.optedOut=!0),u=t,c=void 0!==o,(a||u||c)&&(f=r.userIdStorageName,p=d=!1,u?(l=r.optOut,f=r.optOutStorageName,p=d=!0):i.getConfig("disableCookie")||i.getConfig("disableStorage")?(l=i.getParam("idclient"),d=!0):c?(l=o,d=!0):l=null!==s?s:Echo1200ATInternet.Utils.uuid().v4(),h())},_=function(t){t&&(t=t.detail)&&"clientsideuserid"===t.name&&t.id===e&&n()};i.plugins.waitForDependencies(["Storage"],function(){var t=Echo1200ATInternet.Utils.uuid();e=parseInt(t.num(8)),Echo1200ATInternet.Utils.removeOptOutEvent(_),Echo1200ATInternet.Utils.addOptOutEvent(e,_),n()}),i.clientSideUserId={},i.clientSideUserId.set=function(t){u||(l=t,d=!0,f=r.userIdStorageName,p=!1,h())},i.clientSideUserId.store=function(){p=d=!0,t()},i.clientSideUserId.get=function(){return l}},window.Echo1200ATInternet.Tracker.addPlugin("ClientSideUserId")}.call(window),function(){var t={domainAttribution:!0,info:!0},e=30;window.Echo1200ATInternet.Tracker.Plugins.ContextVariables=function(s){var r,o="",a=null,u="",c="",l={};s.configPlugin("ContextVariables",t,function(t){l=t}),s.setConfig("redirectionLifetime",e,!0);var f=function(t,e){return n="Utils",i=t,r=e,o=null,s.plugins.exec(n,i,r,function(t){o=t}),o;var n,i,r,o},d=function(t,e){var n=null;return s.plugins.exec("Storage",t,e,function(t){n=t}),n};s.plugins.waitForDependencies(["Storage","Utils"],function(){u="set"+(l.domainAttribution?"":"Private"),c="get"+(l.domainAttribution?"":"Private");var t,e=f("getLocation",[]);if(void 0===(o=f("getQueryStringValue",["xtref",e]))&&(o=""),r=s.getContext("forcedReferer"),s.getConfig("redirect")){var n;e=f("getDocumentLevel",[]);if(n=e=r||(null!==o?o:e?e.referrer:"acc_dir")){n={path:"/",end:s.getConfig("redirectionLifetime")};var i=d(c,["atredir"]);n=null!==i?"object"==typeof i&&!(i instanceof Array):(d(u,["atredir",{},n]),!0)}n&&d(u,[["atredir","ref"],e])}else{a=d(c,[["atredir","ref"]]),d("del",[["atredir","ref"]]),s.setParam("vtag",s.version,{permanent:!0,hitType:["all"]}),s.setParam("ptag","js",{permanent:!0,hitType:["all"]}),e="";try{e+=window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth+"x"+window.screen.colorDepth}catch(t){}s.setParam("r",e,{permanent:!0,hitType:["all"]}),e="",window.innerWidth?e+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(e+=document.body.offsetWidth+"x"+document.body.offsetHeight),s.setParam("re",e,{permanent:!0,hitType:["all"]}),s.setParam("hl",function(){var t=new Date;return t.getHours()+"x"+t.getMinutes()+"x"+t.getSeconds()},{permanent:!0,hitType:["all"]}),window.navigator&&s.setParam("lng",window.navigator.language||window.navigator.userLanguage,{permanent:!0,hitType:["all"]}),e=Echo1200ATInternet.Utils.uuid().num(13),s.setParam("idp",e,{permanent:!0,hitType:["page","clickzone"]}),window.navigator&&s.setParam("jv",window.navigator.javaEnabled()?"1":"0",{hitType:["page"]}),e=f("getDocumentLevel",[]),s.setParam("ref",(t=e,(t=r||("acc_dir"===o?"":null!==o?o:"acc_dir"===a?"":a||(t?t.referrer:"")))&&(t=t.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),t),{permanent:!0,last:!0,hitType:["page"]})}s.emit("ContextVariables:Ready",{lvl:"INFO"})})},window.Echo1200ATInternet.Tracker.addPlugin("ContextVariables")}.call(window),function(){var t={storageCapacity:1,timeout:500,info:!0};window.Echo1200ATInternet.Tracker.Plugins.Offline=function(o){var s={};o.configPlugin("Offline",t,function(t){s=t});var a=function(){var t=localStorage.getItem("ATOffline"),e={hits:[],length:0};if(t){var n=Echo1200ATInternet.Utils.jsonParse(t)||{hits:[]};e.hits=n.hits,e.length=t.length}return e},u=function(t){try{localStorage.setItem("ATOffline",Echo1200ATInternet.Utils.jsonSerialize(t))}catch(t){}},c=function(){return a().hits},l=function(t){if(t){t=t.split(/&ref=\.*/i);var e="&cn=offline&olt="+String(Math.floor((new Date).getTime()/1e3));t=t[0]+e+"&ref="+(t[1]||"")}return t},f=function(t){var e=a(),n=t.length,i=!0;if(4*((e.length||11)+n)>1048576*s.storageCapacity){i=!1;var r=e.hits.shift();if(void 0!==r){i=!0;for(var o=r.length;o<n;){if(void 0===(r=e.hits.shift())){i=!1;break}o+=r.length}}}i&&(e.hits.push(t),u({hits:e.hits}))},d=function(t,e){if(window.navigator&&window.navigator.onLine){var n=c();if(0<n.length){var i=n.shift();u({hits:n}),o.onTrigger("Tracker:Hit:Sent:Ok",function(){d(t,e)},!0),o.onTrigger("Tracker:Hit:Sent:Error",function(){d(t,e)},!0),o.sendUrl(i)}else if(t){var r=null;o.plugins.exec("Utils","getQueryStringValue",["a",t],function(t){r=t}),r?setTimeout(function(){o.sendUrl(t,e)},s.timeout):o.sendUrl(t,e)}}else t&&(f(l(t)),e&&e())},n=function(n){o.builder.sendUrl=function(t,e){n||window.navigator&&!window.navigator.onLine?(f(l(t)),e&&e()):d(t,e)}};o.offline={},o.offline.getLength=function(){return 4*a().length},o.offline.remove=function(){u({hits:[]})},o.offline.get=c,o.offline.send=function(){d(null,null)},o.plugins.waitForDependencies(["Utils"],function(){var t,e=Echo1200ATInternet.Utils.isLocalStorageAvailable();window.navigator&&(t=window.navigator.onLine),e&&void 0!==t&&("required"===s.storageMode?n(!1):"always"===s.storageMode&&n(!0)),o.emit("Offline:Ready",{lvl:"INFO",details:{isLocalStorageAvailable:e,storageMode:s.storageMode,isOnline:t}})})},window.Echo1200ATInternet.Tracker.addPlugin("Offline")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.OnSiteAds=function(o){var t="",s=function(t){var e=t.name;return o.exec("Utils","manageChapters",[t,"chapter",3],function(t){e=t+(e||"")}),e},a=function(t,e){return t[e]?t[e]:""},u=function(t,e){if(i=a(t,e)){var n=a(t,"prefix");if(i.campaignId){n=n||"PUB";var i,r=a(i,"campaignId"),o=a(i,"creation");return n+"-"+r+"-"+o+"-"+a(i,"variant")+"-"+a(i,"format")+"-"+a(i,"generalPlacement")+"-"+a(i,"detailedPlacement")+"-"+a(i,"advertiserId")+"-"+(i=a(i,"url"))}if(i.adId)return(n=n||"INT")+"-"+(r=a(i,"adId"))+"-"+(o=a(i,"format"))+"||"+(i=a(i,"productId"))}return""},e=function(t,e){var n=o.buffer.get("ati",!0)||{};n.value="string"==typeof n.value?[n.value]:n.value||[],n.options=n.options||{truncate:!0,hitType:[e,"page"]},n.value.push(t),o.buffer.set("ati",n.value,n.options)},n=function(t,e){if(t.click?o.setParam("atc",u(t,"click"),{truncate:!0,hitType:[e,"page"]}):t.impression&&o.setParam("ati",u(t,"impression"),{truncate:!0,hitType:[e,"page"]}),t.customObject){o.setContext("onsiteads",{customObject:t.customObject});var n=o.getContext("page")||{};n.customObject=Echo1200ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!1),o.setContext("page",n)}o.dispatchSubscribe("onSiteAds")};o.selfPromotion=this.selfPromotion={},o.publisher=this.publisher={},o.publisher.set=this.publisher.set=function(t){n(t,"publisher")},o.selfPromotion.set=this.selfPromotion.set=function(t){n(t,"selfPromotion")},o.publisher.add=this.publisher.add=function(t){e(u(t,"impression"),"publisher"),o.dispatchSubscribe("onSiteAds")},o.selfPromotion.add=this.selfPromotion.add=function(t){e(u(t,"impression"),"selfPromotion"),o.dispatchSubscribe("onSiteAds")};var i=this.advertEvent=function(t){var e=!0,n=null;if(t&&t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(e=o.techClicks.manageClick(t.elem,n)),t.click){n=["onSiteAdsClick"];var i=o.getContext("page")||{},r={};r.atc={value:u(t,"click"),options:{truncate:!0}},r.type="AT",r.patc=s(i),r.s2atc=i.level2||"",(i=t.customObject)&&(i=o.processTagObject("stc",n,i),r.stc={value:Echo1200ATInternet.Utils.jsonSerialize(i),options:{hitType:n,encode:!0,separator:",",truncate:!0}}),o.sendHit(r,[["hitType",n]],t.callback,null,!0)}else t.impression&&function(t){var e=["onSiteAdsImpression"],n={};n.ati={value:u(t,"impression"),options:{hitType:e,truncate:!0}},n.type="AT",Echo1200ATInternet.Utils.isPreview()&&o.getConfig("preview")&&(n.pvw=1);var i=t.customObject;i&&(i=o.processTagObject("stc",e,i),n.stc={value:Echo1200ATInternet.Utils.jsonSerialize(i),options:{hitType:e,encode:!0,separator:",",truncate:!0}}),o.manageSend(function(){o.sendHit(n,[["hitType",e]],t.callback,null,!0)})}(t);return e};o.publisher.send=this.publisher.send=function(t){return i(t)},o.selfPromotion.send=this.selfPromotion.send=function(t){return i(t)},o.onSiteAds={},o.onSiteAds.onDispatch=this.onDispatch=function(t){if(!o.dispatchSubscribed("page")){o.setParam("type","AT",{hitType:["publisher","selfPromotion"]});var e=o.getContext("page")||{};o.getParam("atc")&&(o.setParam("patc",s(e),{hitType:["publisher","selfPromotion"]}),o.setParam("s2atc",e.level2||"",{hitType:["publisher","selfPromotion"]})),Echo1200ATInternet.Utils.isPreview()&&o.getConfig("preview")&&o.setParam("pvw",1);var n=["publisher","selfPromotion"];(e=(o.getContext("onsiteads")||{}).customObject)?o.processContextObjectAndSendHit("stc",{hitType:n,encode:!0,separator:",",truncate:!0},e,t):o.manageSend(function(){o.sendHit(null,[["hitType",n]],t)})}},o.plugins.waitForDependencies(["Utils","TechClicks"],function(){t=document.location.href,o.plugins.exec("Utils","getQueryStringValue",["xtatc",t],function(t){t&&o.setParam("atc",t,{hitType:["publisher","selfPromotion","page"]})}),o.emit("OnSiteAds:Ready",{lvl:"INFO",details:{href:t}})})},window.Echo1200ATInternet.Tracker.addPlugin("OnSiteAds")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Page=function(s){var r=["pageId","chapterLabel","update"],o=["pid","pchap","pidt"],a=["page","site"],u=["f","x"],c=function(t){var e=t.name;return s.exec("Utils","manageChapters",[t,"chapter",3],function(t){e=t+(e||"")}),e},l=function(t,e,n){return e?t=e:t||void 0===n||(t=n),t},f=function(t,e,n){e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]))},d=function(t,e,n){if(e)for(var i=0;i<a.length;i++)if(e.hasOwnProperty(a[i])&&e[a[i]])for(var r in e[a[i]])e[a[i]].hasOwnProperty(r)&&(n?t[u[i]+r]=e[a[i]][r]:s.setParam(u[i]+r,e[a[i]][r]))},p=function(t,e,n){if(e){s.exec("Utils","manageChapters",[e,"chapter",3],function(t){t&&(e.chapterLabel=t.replace(/::$/gi,""))});for(var i=0;i<o.length;i++)e.hasOwnProperty(r[i])&&(n?t[o[i]]=e[r[i]]:s.setParam(o[i],e[r[i]]))}},h=function(t,e,n){if(e&&e.keywords instanceof Array){var i=e.keywords.length;if(0<i){for(var r="",o=0;o<i;o++)r+="["+e.keywords[o]+"]"+(o<i-1?"|":"");n?t.tag=r:s.setParam("tag",r)}}},_=function(t,e,n){if(e){var i,r=function(t){return t||"0"};i=r(e.category1)+"-",i+=r(e.category2)+"-",i+=r(e.category3),n?t.ptype=i:s.setParam("ptype",i)}},g=function(t,e,n){if(e)for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(n?t[i]=e[i]:s.setParam(i,e[i]))};s.customVars=this.customVars={},s.customVars.set=this.customVars.set=function(t){var e=s.getContext("page")||{},n=e.customVars;if(n){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=Echo1200ATInternet.Utils.completeFstLevelObj(n[i],t[i],!0))}else n=t;e.customVars=n,s.setContext("page",e)},s.dynamicLabel=this.dynamicLabel={},s.dynamicLabel.set=this.dynamicLabel.set=function(t){var e=s.getContext("page")||{};e.dynamicLabel=Echo1200ATInternet.Utils.completeFstLevelObj(e.dynamicLabel,t,!0),s.setContext("page",e)},s.tags=this.tags={},s.tags.set=this.tags.set=function(t){var e=s.getContext("page")||{};e.tags=Echo1200ATInternet.Utils.completeFstLevelObj(e.tags,t,!0),s.setContext("page",e)},s.customTreeStructure=this.customTreeStructure={},s.customTreeStructure.set=this.customTreeStructure.set=function(t){var e=s.getContext("page")||{};e.customTreeStructure=Echo1200ATInternet.Utils.completeFstLevelObj(e.customTreeStructure,t,!0),s.setContext("page",e)},s.page={},s.page.reset=this.reset=function(){s.setContext("page",void 0)},s.page.set=this.set=function(t){s.dispatchSubscribe("page");var e=s.getContext("page")||{};e.name=l(e.name,t.name,""),e.level2=l(e.level2,t.level2,""),f(e,t,"chapter1"),f(e,t,"chapter2"),f(e,t,"chapter3"),e.customObject=Echo1200ATInternet.Utils.completeFstLevelObj(e.customObject,t.customObject,!0),s.setContext("page",e)},s.page.send=this.send=function(t){var e=!0,n={p:c(t),s2:t.level2||""},i=t.customObject,r=!1;if(i){r=!0;var o=["page"];i=s.processTagObject("stc",o,i);n.stc={value:Echo1200ATInternet.Utils.jsonSerialize(i),options:{hitType:o,encode:!0,separator:",",truncate:!0}}}return(i=s.getContext("page")||{}).vrn&&(n.vrn=i.vrn,i.vrn=void 0,s.setContext("page",i)),void 0!==(o=s.getContext("InternalSearch")||{}).keyword&&(n.mc=Echo1200ATInternet.Utils.cloneSimpleObject(o.keyword),void 0!==o.resultPageNumber&&(n.np=Echo1200ATInternet.Utils.cloneSimpleObject(o.resultPageNumber)),s.setContext("InternalSearch",void 0)),Echo1200ATInternet.Utils.isPreview()&&s.getConfig("preview")&&(n.pvw=1),d(n,t.customVars,!0),p(n,t.dynamicLabel,!0),h(n,t.tags,!0),_(n,t.customTreeStructure,!0),o=s.getContext("campaigns")||{},g(n,o,!0),s.setContext("campaigns",void 0),o=null,t&&t.hasOwnProperty("event")&&(o=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(o)&&t.elem&&(e=s.techClicks.manageClick(t.elem,o)),s.manageSend(function(){s.sendHit(n,null,t.callback,null,r)}),i.name=l(i.name,t.name,""),i.level2=l(i.level2,t.level2,""),f(i,t,"chapter1"),f(i,t,"chapter2"),f(i,t,"chapter3"),s.setContext("page",i),e},s.page.onDispatch=this.onDispatch=function(t){var e=s.getContext("page")||{},n=s.getContext("InternalSearch")||{};s.setParam("p",c(e)),s.setParam("s2",e.level2||""),e.vrn&&(s.setParam("vrn",e.vrn),e.vrn=void 0,s.setContext("page",e)),void 0!==n.keyword&&(s.setParam("mc",Echo1200ATInternet.Utils.cloneSimpleObject(n.keyword)),void 0!==n.resultPageNumber&&s.setParam("np",Echo1200ATInternet.Utils.cloneSimpleObject(n.resultPageNumber)),s.setContext("InternalSearch",void 0)),Echo1200ATInternet.Utils.isPreview()&&s.getConfig("preview")&&s.setParam("pvw",1),d(null,e.customVars,!1),p(null,e.dynamicLabel,!1),h(null,e.tags,!1),_(null,e.customTreeStructure,!1),n=s.getContext("campaigns")||{},g(null,n,!1),s.setContext("campaigns",void 0);var i=["page"];(e=e.customObject)?s.processContextObjectAndSendHit("stc",{hitType:i,encode:!0,separator:",",truncate:!0},e,t):s.manageSend(function(){s.sendHit(null,[["hitType",i]],t)})}},window.Echo1200ATInternet.Tracker.addPlugin("Page")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.RichMedia=function(a){var u=function(t,e){var n=parseInt(t,10);return n?Math.max(n,e):0},c=new function(){this.media=function(){this.type=void 0,this.plyr=0,this.clnk=this.s2=void 0,this.p="",this.m9=this.m6=this.m5=this.m1=this.rfsh=this.buf=this.a=void 0},this.mediaAll={},this.setMediaValue=function(t,e,n,i){void 0!==i&&(this.mediaAll[t]=this.mediaAll[t]||{},this.mediaAll[t][e]=this.mediaAll[t][e]||new this.media,this.mediaAll[t][e][n]=i)},this.getMediaValue=function(t,e,n){if(this.mediaAll[t]&&this.mediaAll[t][e])return this.mediaAll[t][e][n]},this.removePlayer=function(t){this.mediaAll[t]={}},this.removeAll=function(){this.mediaAll={}}},l=new function(){this.timeout={},this.setTimeout=function(t,e,n){this.timeout[t]=this.timeout[t]||{},this.timeout[t][e]&&window.clearTimeout(this.timeout[t][e]),this.timeout[t][e]=window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*n)},this.setTimeoutObject=function(t,e,n){if(this.timeout[t]=this.timeout[t]||{},void 0===this.timeout[t][e]){var i,r=[];for(i in n)n.hasOwnProperty(i)&&r.push({delay:u(i,0),refresh:u(n[i],5)});r.sort(function(t,e){return t.delay<e.delay?-1:t.delay>e.delay?1:0}),this.timeout[t][e]={refreshTab:r,backupRefreshTab:Echo1200ATInternet.Utils.cloneSimpleObject(r),delayConfiguration:{}}}if(0<(n=this.timeout[t][e]).refreshTab.length&&(r=n.refreshTab[0].delay,i=n.refreshTab[0].refresh,"number"==typeof r&&"number"==typeof i&&0<i)){n.delayConfiguration[r]=n.delayConfiguration[r]||{};var o=void 0;void 0!==n.refreshTab[1]&&(o=n.refreshTab[1].delay);var s=0;void 0===o?s=1:"number"==typeof n.delayConfiguration[r].number?s="refresh"===c.getMediaValue(t,e,"a")?Math.max(n.delayConfiguration[r].number-1,0):n.delayConfiguration[r].number:"number"==typeof o&&(s=Math.floor(60*(o-r)/i)-1),n.delayConfiguration[r].number=s,n.delayConfiguration[r].timeout&&window.clearTimeout(n.delayConfiguration[r].timeout),0<s?n.delayConfiguration[r].timeout=window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*i):(n.delayConfiguration[r].number=void 0,n.delayConfiguration[r].timeout=void 0,n.refreshTab.splice(0,1),window.setTimeout(function(){a.richMedia.send({action:"refresh",playerId:t,mediaLabel:e})},1e3*i)),this.timeout[t][e]=n}},this.clearTimeout=function(t,e,n){this.timeout[t]=this.timeout[t]||{};var i=this.timeout[t][e];if("object"==typeof i){if("object"==typeof i.delayConfiguration){var r,o;for(o in i.delayConfiguration)i.delayConfiguration.hasOwnProperty(o)&&(void 0!==(r=i.delayConfiguration[o].number)&&0<r&&(i.delayConfiguration[o].timeout&&window.clearTimeout(i.delayConfiguration[o].timeout),i.delayConfiguration[o].timeout=void 0));n&&(i.refreshTab=Echo1200ATInternet.Utils.cloneSimpleObject(i.backupRefreshTab)),this.timeout[t][e]=i}}else i&&window.clearTimeout(i)},this.removePlayer=function(t){for(var e in this.timeout[t])if(this.timeout[t].hasOwnProperty(e)){this.clearTimeout(t,e,!1);var n=c.getMediaValue(t,e,"a");void 0!==this.timeout[t][e]&&"stop"!==n&&a.richMedia.send({action:"stop",playerId:t,mediaLabel:e})}this.timeout[t]={}},this.removeAll=function(){for(var t in this.timeout)this.timeout.hasOwnProperty(t)&&this.removePlayer(t);this.timeout={}}},f=function(t,e,n){var i=t[n]||"";return a.exec("Utils","manageChapters",[t,e,3],function(t){i=t+i}),i},d=function(t,e,n,i){var r=t[e];return"boolean"==typeof t[e]&&(r=t[e]?i:n),r},p=function(t){var e=0;return/^(\-|\+)?([0-9]+)$/.test(t)&&(e=Number(t)),e},h=function(t,e,n,i,r){void 0!==(e=c.getMediaValue(e,n,i))&&(t[i]=r?encodeURIComponent(e):e)},_=function(t,e,n){void 0!==n&&(t[e]=n)};a.richMedia={},a.richMedia.add=function(t){var e=p((t=t||{}).playerId),n=f(t,"mediaTheme","mediaLabel"),i=d(t,"isEmbedded","int","ext");c.setMediaValue(e,n,"plyr",e),c.setMediaValue(e,n,"type",t.mediaType),c.setMediaValue(e,n,"s2",t.mediaLevel2),c.setMediaValue(e,n,"p",n),c.setMediaValue(e,n,"clnk",t.linkedContent||t.previousMedia),c.setMediaValue(e,n,"a",t.action),c.setMediaValue(e,n,"rfsh",t.refreshDuration),c.setMediaValue(e,n,"m1",t.duration),c.setMediaValue(e,n,"m5",i),c.setMediaValue(e,n,"m6",t.broadcastMode),c.setMediaValue(e,n,"m9",t.webdomain)},a.richMedia.send=function(t){var e=p((t=t||{}).playerId),n=f(t,"mediaTheme","mediaLabel"),i=t.action;c.setMediaValue(e,n,"a",i);var r={plyr:e,p:n};if(h(r,e,n,"a",!1),h(r,e,n,"type",!1),h(r,e,n,"s2",!1),h(r,e,n,"m1",!1),h(r,e,n,"m5",!1),h(r,e,n,"m6",!1),"play"===i||"info"===i){t=d(t,"isBuffering","0","1");var o=a.getContext("page")||{},s=f(o,"chapter","name")||void 0;o=o.level2||void 0;_(r,"buf",t),_(r,"prich",s),_(r,"s2rich",o),h(r,e,n,"clnk",!1),h(r,e,n,"m9",!0)}a.sendHit(r,[["hitType",["richmedia"]]]),"pause"===i?l.clearTimeout(e,n,!1):"stop"===i&&l.clearTimeout(e,n,!0),"play"!==i&&"refresh"!==i||("object"==typeof(i=c.getMediaValue(e,n,"rfsh"))&&null!==i?l.setTimeoutObject(e,n,i):0!==(i=u(i,5))&&l.setTimeout(e,n,i))},a.richMedia.remove=function(t){l.removePlayer(t),c.removePlayer(t)},a.richMedia.removeAll=function(){l.removeAll(),c.removeAll()}},window.Echo1200ATInternet.Tracker.addPlugin("RichMedia")}.call(window),function(){var t={info:!1};Echo1200ATInternet.Tracker.Plugins.Cookies=Echo1200ATInternet.Tracker.Plugins.Storage=function(a){var i=this,e=!1,r=null;a.configPlugin("Storage",t,function(t){"localStorage"===t.storageMode&&(e=Echo1200ATInternet.Utils.isLocalStorageAvailable())});var o={},u=function(t){return a.getConfig("base64Storage")?Echo1200ATInternet.Utils.Base64.encode(t):encodeURIComponent(t)},s=function(t){return a.getConfig("base64Storage")?Echo1200ATInternet.Utils.Base64.decode(t):decodeURIComponent(t)};r=e?new function(){var r=function(t){var e,n=+new Date,i=!1;return t.options&&(void 0!==t.options.expires?e=t.options.expires:"function"==typeof(t=t.options.end||{}).getTime?e=t.getTime():"number"==typeof t&&(e=n+1e3*t)),"number"==typeof e&&e<=n&&(i=!0),{itemToDelete:i,timestamp:e}},o=function(t){var e=!1;try{localStorage.removeItem(t),e=!0}catch(t){}return e};this.getData=function(t){var e=null;if(n=localStorage.getItem(t)){var n=s(n),i=Echo1200ATInternet.Utils.jsonParse(n);i&&"object"==typeof i?r(i).itemToDelete&&o(t)||(delete i.options.expires,e=Echo1200ATInternet.Utils.jsonSerialize(i)):e=n}return e},this.setData=function(t){var e=!1;if(t.name&&"string"==typeof t.name){var n=r(t);"number"==typeof n.timestamp&&(t.options.expires=n.timestamp);var i=Echo1200ATInternet.Utils.jsonSerialize(t);if(n.itemToDelete)e=o(t.name);else try{localStorage.setItem(t.name,u(i)),e=!0}catch(t){}}return e}}:new function(){this.getData=function(t){var e=null;return(t=RegExp("(?:^| )"+t+"=([^;]+)").exec(document.cookie)||null)&&(e=s(t[1])),e},this.setData=function(t){var e=!1;if(t.name&&"string"==typeof t.name){var n=t.options||{},i=n.end||{},r=n.domain||a.getConfig("cookieDomain"),o=n.secure||a.getConfig("cookieSecure"),s=Echo1200ATInternet.Utils.jsonSerialize(t);s=(s=(s=t.name+"="+u(s))+(n.path&&"string"==typeof n.path?";path="+n.path:""))+(r&&"string"==typeof r?";domain="+r:"")+(o&&"boolean"==typeof o?";secure":""),"function"==typeof i.toUTCString?s+=";expires="+i.toUTCString():"number"==typeof i&&(s+=";max-age="+i.toString()),document.cookie=s,this.getData(t.name)&&(e=!0)}return e}};var c=function(t,e){var n=!1;return!Echo1200ATInternet.Utils.consent&&!e||a.getConfig("disableCookie")||a.getConfig("disableStorage")||!t||"object"!=typeof t||(n=r.setData(t)),n},l=function(t,e,n){return t={name:t,val:e},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),t.options=n||{},t},f=function(t){var e=null,n=null;return a.getConfig("disableCookie")||a.getConfig("disableStorage")||!t||"string"!=typeof t||(n=r.getData(t)),(t=n)&&(e=Echo1200ATInternet.Utils.jsonParse(t)),e},d=function(t,e){var n=Echo1200ATInternet.Utils.cloneSimpleObject(t);return c(n,e)?Echo1200ATInternet.Utils.jsonParse(Echo1200ATInternet.Utils.jsonSerialize(t)):null},n=function(t,e,n){return!n&&o[t]?n=o[t]:(n=f(t))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,d(n,!1)),o[t]=n),n?e?(t=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[e]||(t=n.val[e]),t):n.val:null},p=function(t,e,n,i,r){return e?(r=f(t))&&(!r||"object"!=typeof r.val||r.val instanceof Array?r=null:void 0===n?delete r.val[e]:r.val[e]=n,r&&(r=d(r,i))):(r=l(t,n,r=r||{}),r=d(r,i)),r?(o[t]=r).val:null},h=function(t,e){if(e)p(t,e,void 0,!1,null);else{o[t]=void 0;var n=l(t,"",{end:new Date("Thu, 01 Jan 1970 00:00:00 UTC"),path:"/"});c(n,!1)}};a.storage={},a.storage.get=i.get=function(t,e){return e=!!e,t instanceof Array?n(t[0],t[1],e):n(t,"",e)},a.storage.getPrivate=i.getPrivate=function(t,e){return t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.get(t,e)},a.storage.set=i.set=function(t,e,n,i){return t instanceof Array?p(t[0],t[1],e,i,null):p(t,null,e,i,n)},a.storage.setPrivate=i.setPrivate=function(t,e,n){return t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.set(t,e,n)},a.storage.del=i.del=function(t){t instanceof Array?h(t[0],t[1]):h(t,"")},a.storage.delPrivate=i.delPrivate=function(t){t instanceof Array?t[0]+=a.getConfig("site"):t+=a.getConfig("site"),i.del(t)},a.storage.cacheInvalidation=i.cacheInvalidation=function(){o={}}},Echo1200ATInternet.Tracker.addPlugin("Storage"),Echo1200ATInternet.Tracker.addPlugin("Cookies")}.call(window),function(){var t={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500,info:!1};window.Echo1200ATInternet.Tracker.Plugins.TechClicks=function(s){var a,u,c=this;s.configPlugin("TechClicks",t,function(t){a=t.clicksAutoManagementEnabled,u=t.clicksAutoManagementTimeout}),c.deactivateAutoManagement=function(){a=!1};var l=function(t){switch(t.target){case"_top":window.top.location.href=t.url;break;case"_parent":window.parent.location.href=t.url;break;default:window.location.href=t.url}},f=function(t){var e=t.timeout;t.mailto?c.timeout=setTimeout(function(){window.location.href=t.mailto},e):t.form?c.timeout=setTimeout(function(){t.form.submit()},e):t.url&&(c.timeout=setTimeout(function(){l({url:t.url,target:t.target})},e))};s.techClicks={},s.techClicks.manageClick=c.manageClick=function(t,e){var n=!0;if(a&&t){var i;t:{for(i=t;i;){if("function"==typeof i.getAttribute&&("_blank"===i.getAttribute("target")||"no"===i.getAttribute("data-atclickmanagement"))){i=!0;break t}i=i.parentNode}i=t;for(var r,o=window.location.href;i;){if((r=i.href)&&0<=r.indexOf("#")&&o.substring(0,0<=o.indexOf("#")?o.indexOf("#"):o.length)===r.substring(0,r.indexOf("#"))){i=!0;break t}i=i.parentNode}i=!1}if(o=function(t){for(;t;){if(t.href){if(0<=t.href.indexOf("mailto:"))return"mailto";if(0===t.href.indexOf("http"))return"redirection"}else if("FORM"===t.nodeName)return"form";t=t.parentNode}return""}(t),!i&&o){switch(o){case"mailto":!function(t){var e=t;for(t=e.timeoutonly;e&&!(e.href&&0<=e.href.indexOf("mailto:"));)e=e.parentNode;e&&(t||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),window.location.href=e.href}),f({mailto:e.href,timeout:u}))}(t),n=!1;break;case"form":!function(t){var e=t;for(t=e.timeoutonly;e&&"FORM"!==e.nodeName;)e=e.parentNode;e&&(t||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),e.submit()}),f({form:e,timeout:u}))}(t),n=!1;break;case"redirection":(function(t){for(var e,n="_self",i=t.timeoutonly;t;){if(t.href&&0===t.href.indexOf("http")){e=t.href.split('"').join('\\"'),n=t.target?t.target:n;break}t=t.parentNode}e&&(i||s.onTrigger("Tracker:Hit:Sent:Ok",function(){c.timeout&&clearTimeout(c.timeout),l({url:e,target:n})}),f({url:e,target:n,timeout:u}))})(t),n=!1}e&&(i=e.defaultPrevented,"function"==typeof e.isDefaultPrevented&&(i=e.isDefaultPrevented()),i||e.preventDefault&&e.preventDefault())}}return n}},window.Echo1200ATInternet.Tracker.addPlugin("TechClicks")}.call(window),function(){window.Echo1200ATInternet.Tracker.Plugins.Utils=function(u){var t=this,o={};u.utils={},u.utils.getQueryStringValue=t.getQueryStringValue=function(t,e){var n=Echo1200ATInternet.Utils.hashcode(e).toString();if(!o[n]){o[n]={};var i=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=i.exec(e);if(null!==r)for(;null!==r;)o[n][r[1]]=r[2],r=i.exec(e)}return o[n].hasOwnProperty(t)?o[n][t]:null},t.manageChapters=function(t,e,n){var i=u.getConfig("ignoreEmptyChapterValue"),r="";if(t){n=parseInt(n,10);for(var o=1;o<n+1;o++){var s=t[e+o]||"";r=i?r+(s?s+"::":""):r+(t.hasOwnProperty(e+o)?s+"::":"")}}return r},t.getDocumentLevel=function(){var t=u.getConfig("documentLevel");return t.indexOf(".")<0?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document)},u.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},u.dispatchIndex={},u.dispatchStack=[],u.dispatchEventFor={};var i=0;u.dispatchSubscribe=function(t){return!u.dispatchIndex[t]&&(u.dispatchStack.push(t),u.dispatchIndex[t]=!0)},u.dispatchSubscribed=function(t){return!0===u.dispatchIndex[t]},u.addSpecificDispatchEventFor=function(t){return!u.dispatchEventFor[t]&&(u.dispatchEventFor[t]=!0,i++,!0)},u.processSpecificDispatchEventFor=function(t){u.dispatchEventFor[t]&&(u.dispatchEventFor[t]=!1,0===--i&&(u.dispatchEventFor={},u.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},u.dispatch=function(n){var t=function(){for(var t="",e=null;0<u.dispatchStack.length;)t=u.dispatchStack.pop(),0===u.dispatchStack.length&&(e=n),u[t].onDispatch(e);u.dispatchIndex={},u.delContext(void 0,"customObject")},e=function(){u.plugins.isExecWaitingLazyloading()?u.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",function(){t()},!0):t()};0===i?e():u.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",function(){e()},!0)},u.dispatchRedirect=function(t){var e=!0,n=null;return t&&(n=null,t&&t.hasOwnProperty("event")&&(n=t.event||window.event),!Echo1200ATInternet.Utils.isTabOpeningAction(n)&&t.elem&&(t.elem.timeoutonly=!0,u.plugins.exec("TechClicks","manageClick",[t.elem,n],function(t){e=t})),n=t.callback),u.dispatch(n),e};var c=u.manageSend=function(e){Echo1200ATInternet.Utils.isPreview()&&!u.getConfig("preview")||Echo1200ATInternet.Utils.isPrerender(function(t){e(t)})||e()};u.processTagObject=function(t,e,n){if((t=u.getParam(t,!0))&&t.options.permanent){for(var i=!1,r=t.options.hitType||[],o=0;o<r.length;o++)if(-1!==Echo1200ATInternet.Utils.arrayIndexOf(e.concat("all"),r[o])){i=!0;break}i&&(n=Echo1200ATInternet.Utils.completeFstLevelObj(t.value||{},n,!0))}return n},u.processContextObjectAndSendHit=function(t,e,n,i){var r=u.getParam(t,!0);if(r){for(var o=!1,s=r.options.hitType||[],a=0;a<s.length;a++)if(-1!==Echo1200ATInternet.Utils.arrayIndexOf(e.hitType.concat("all"),s[a])){o=!0;break}o?((o=Echo1200ATInternet.Utils.cloneSimpleObject(r)).value=Echo1200ATInternet.Utils.completeFstLevelObj(o.value||{},n,!0),u.setParam(t,o.value,{hitType:e.hitType,encode:e.encode,separator:e.separator,truncate:e.truncate}),c(function(){u.sendHit(null,[["hitType",e.hitType]],i,null,!0)}),r.options.permanent&&u.setParam(t,r.value,r.options)):(u.setParam(t,n,{hitType:e.hitType,encode:e.encode,separator:e.separator,truncate:e.truncate}),c(function(){u.sendHit(null,[["hitType",e.hitType]],i,null,!0)}),u.setParam(t,r.value,r.options))}else u.setParam(t,n,{hitType:e.hitType,encode:e.encode,separator:e.separator,truncate:e.truncate}),c(function(){u.sendHit(null,[["hitType",e.hitType]],i,null,!0)})}},window.Echo1200ATInternet.Tracker.addPlugin("Utils")}.call(window),"function"==typeof window.Echo1200ATInternet.onTrackerLoad&&window.Echo1200ATInternet.onTrackerLoad(),Echo1200ATInternet}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(){}return t.sendRefreshEvent=function(t,e,n){if(n){var i=n;e(i=(i=(i=i.replace(/a\=play/g,"a=refresh")).replace(/ts\=[0-9\.]+/g,"ts="+(new Date).getTime())).replace(/(prich\=|s2rich\=).*?(&|$)/g,""),function(){t.emit("Tracker:Hit:Sent:Ok",i)}.bind(t))}},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){"use strict";var a=n(5),s=n(4),u=n(20);return{APP_NAME:void 0,APP_CATEGORY:void 0,bbc_content_id:1,bbc_app_type:2,bbc_app_name:3,language:4,bbc_url:5,bbc_referrer_url:6,bbc_content_type:7,bbc_library_version:8,page_title:9,custom_var_1:11,custom_var_2:12,custom_var_3:13,custom_var_4:14,custom_var_5:15,custom_var_6:16,custom_var_7:17,custom_var_8:18,custom_var_9:19,custom_var_10:20,create:function(t,e,n,i,r,o){var s;return this.APP_NAME=t,n&&n[a.APP_CATEGORY]?this.APP_CATEGORY=n[a.APP_CATEGORY]:this.APP_CATEGORY="",s=this._setCustomVariable(s,a.APP_TYPE,e),s=this._setCustomVariable(s,a.APP_NAME,t),s=this._setCustomVariable(s,a.LIBRARY_VERSION,u.getLibraryName()+"-"+u.getLibraryVersion()),o&&(s=this._setDocumentCustomVariables(s,o)),r&&(s=this._setOrbitCustomVariables(s,r)),this._applyLabels(s,n),this._applyLabels(s,i),s},_initialise:function(){return{site:{}}},_applyLabels:function(e,n){if(n){var i=this._getAppName(n);n[a.APP_CATEGORY]&&(e=this._setCustomVariable(e,a.APP_NAME,i),delete n[a.APP_CATEGORY]),Object.keys(n).forEach(function(t){this._isCustomVariable(t)&&(t===a.APP_NAME&&(n[t]=i),e=this._setCustomVariable(e,t,n[t]),delete n[t])},this)}},_getAppName:function(t){var e="";return t[a.APP_CATEGORY]?e=t[a.APP_CATEGORY]+"-":this.APP_CATEGORY&&(e=this.APP_CATEGORY+"-"),t[a.APP_NAME]?e+=t[a.APP_NAME]:e+=this.APP_NAME,e},_isCustomVariable:function(t){return void 0!==this[t]&&this.hasOwnProperty(t)&&"function"!=typeof this[t]},_setCustomVariable:function(t,e,n){if(n){t||(t=this._initialise());var i=s.removeSensitiveInfo(n),r=s.cleanCustomVariable(i),o=this[e];t.site[o]="["+encodeURIComponent(r)+"]"}return t},_setDocumentCustomVariables:function(t,e){return e&&(t=this._setCustomVariable(t,a.URL,e.URL),t=this._setCustomVariable(t,a.REFERRER_URL,e.referrer),t=this._setCustomVariable(t,a.PAGE_TITLE,e.title)),t},_setOrbitCustomVariables:function(t,e){return e&&(t=this._setCustomVariable(t,a.CONTENT_ID,e.contentId),t=this._setCustomVariable(t,a.CONTENT_TYPE,e.contentType),t=this._setCustomVariable(t,a.LANGUAGE,e.language),t=this._setProductCustomVariables(t,e.additionalProperties)),t},_setProductCustomVariables:function(t,e){return e&&(e.app_category&&(t=this._setCustomVariable(t,a.APP_NAME,this._getAppName(e))),e.content_language&&(t=this._setCustomVariable(t,a.LANGUAGE,e.content_language)),t=this._setCustomVariable(t,a.CUSTOM_VAR_1,e.custom_var_1),t=this._setCustomVariable(t,a.CUSTOM_VAR_2,e.custom_var_2),t=this._setCustomVariable(t,a.CUSTOM_VAR_3,e.custom_var_3),t=this._setCustomVariable(t,a.CUSTOM_VAR_4,e.custom_var_4),t=this._setCustomVariable(t,a.CUSTOM_VAR_5,e.custom_var_5),t=this._setCustomVariable(t,a.CUSTOM_VAR_6,e.custom_var_6),t=this._setCustomVariable(t,a.CUSTOM_VAR_7,e.custom_var_7),t=this._setCustomVariable(t,a.CUSTOM_VAR_8,e.custom_var_8),t=this._setCustomVariable(t,a.CUSTOM_VAR_9,e.custom_var_9),t=this._setCustomVariable(t,a.CUSTOM_VAR_10,e.custom_var_10)),t}}}.call(e,n,e,t))||(t.exports=i)},function(t){t.exports={name:"@bbc/echo-client-js",description:"Client library for sending events",version:"12.3.0",main:"dist/echo.js",scripts:{test:"grunt build",build:"grunt build","build:dev":"webpack --mode=development --config ./config/webpack.dev.config.js","build:dist":"webpack --mode=production --config ./config/webpack.prod.config.js"},"pre-commit":["test"],"echo-client-js":{"barb-spring-version":"2.0.0","comscore-streamsense-version":"6.2.3.180328","ati-smarttag-version":"5.17.1"},devDependencies:{ajv:"^6.6.2","es6-promise":"^4.2.5",eslint:"^5.12.0",grunt:"^1.0.3","grunt-cli":"^1.3.2","grunt-contrib-jshint":"^2.0.0","grunt-contrib-watch":"^1.1.0","grunt-jscs":"^3.0.1","grunt-karma":"^3.0.1","grunt-shell":"^2.1.0",gulp:"^4.0.0",hoek:"^6.1.2","istanbul-instrumenter-loader":"^3.0.1",jasmine:"^3.3.1","jasmine-core":"^3.3.0",jquery:"^3.3.1",karma:"^3.1.4","karma-chrome-launcher":"*","karma-coverage-istanbul-reporter":"^2.0.4","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^2.0.1","karma-jasmine-html-reporter":"^1.4.0","karma-phantomjs-launcher":"^1.0.4","karma-requirejs":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-story-reporter":"^0.3.1","karma-webpack":"^3.0.0","load-grunt-tasks":"^4.0.0",lodash:"^4.17.11","phantomjs-prebuilt":"^2.1.16","pre-commit":"^1.2.2",requirejs:"^2.3.6",sinon:"^7.2.2","ssc-js":"git+ssh://git@github.com/bbc/ssc-js.git#1.2.0","time-grunt":"^2.0.0","uglifyjs-webpack-plugin":"^2.1.1",webpack:"^4.28.4","webpack-cli":"^3.2.1","webpack-merge":"^4.2.1"}}},function(t,e,s){var n;void 0===(n=function(){"use strict";var n=s(20),i={BRAND:"brand",SERIES:"series",EPISODE:"episode",CLIP:"clip",NAME:"name",TYPE:"type",PLIST:"pList"},r={RETRIEVAL_TYPE:"retType",INITATION_TYPE:"init",ADS_ENABLED:"adEna"},o={PLAYER_NAME:"mpN",PLAYER_VERSION:"mpV",TRANSPORT_MODE:"tMod",LIBRARY_NAME:"mlN",LIBRARY_VERSION:"mlV"};return{buildTheme:function(t,e,n){return t+"="+encodeURIComponent(e||"")+(n?"":"~")},constructThemeOne:function(t){var e="";return t&&(e=this.buildTheme(i.BRAND,t.getBrandId()),e+=this.buildTheme(i.SERIES,t.getSeriesId()),e+=this.buildTheme(i.EPISODE,t.getEpisodeId()),e+=this.buildTheme(i.CLIP,t.getClipId()),e+=this.buildTheme(i.NAME,t.getName()),e+=this.buildTheme(i.TYPE,t.getType()),t.isLive()?e+=this.buildTheme(i.PLIST,t.getServiceId(),!0):e+=this.buildTheme(i.PLIST,t.getPlaylist(),!0)),e},constructThemeTwo:function(t){var e="";return t&&(e=this.buildTheme(r.RETRIEVAL_TYPE,t.getRetrievalType()),e+=this.buildTheme(r.INITATION_TYPE,t.getInitiationType()),e+=this.buildTheme(r.ADS_ENABLED,t.isAdsEnabled()?"1":"0",!0)),e},constructThemeThree:function(t){var e="";return t&&(e=this.buildTheme(o.PLAYER_NAME,t.getMediaPlayerName()),e+=this.buildTheme(o.PLAYER_VERSION,t.getMediaPlayerVersion()),e+=this.buildTheme(o.TRANSPORT_MODE,t.getTransportMode()),e+=this.buildTheme(o.LIBRARY_NAME,n.getLibraryName()),e+=this.buildTheme(o.LIBRARY_VERSION,n.getLibraryVersion(),!0)),e}}}.call(e,s,e,t))||(t.exports=n)},function(t,e,n){var i;void 0===(i=function(){"use strict";function t(){}return t.sendEvent=function(t,e,n,i){if(e){var r={action:n,playerId:e.playerId,mediaLabel:e.mediaLabel,mediaTheme1:e.mediaTheme1,mediaTheme2:e.mediaTheme2,mediaTheme3:e.mediaTheme3};for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);t.richMedia.send(r)}},t}.call(e,n,e,t))||(t.exports=i)},function(t,e,r){var n;void 0===(n=function(){"use strict";var o=r(5),e=r(4),n="unknown",s="Page",a="",u="",c="unknown",l="",f="",d="unknown",p="click",i="impression";function h(){}return h.sendClickEvent=function(t,e){this._sendEvent(t,e,p)},h.sendImpressionEvent=function(t,e){this._sendEvent(t,e,i)},h._sendEvent=function(t,e,n){e||(e={customObject:{}}),e.customObject||(e.customObject={});var i={creation:this._formatEventValue(h._buildCreation(e)),campaignId:this._formatEventValue(e.customObject[o.CONTAINER]||s),variant:this._formatEventValue(e.customObject[o.PERSONALISATION]||a),format:this._formatEventValue(e.customObject[o.METADATA]||u),generalPlacement:this._formatEventValue(e[o.BBC_COUNTER_NAME]||c),detailedPlacement:this._formatEventValue(e.user||l),advertiserId:this._formatEventValue(e.customObject[o.SOURCE]||f),url:this._formatEventValue(e.customObject[o.RESULT]||d)},r={};n===p?r.click=i:r.impression=i,t&&t.publisher.send(r)},h._buildCreation=function(t){var e=t&&t.actionName||n;return t&&t.actionType&&(e+="~"+t.actionType),e},h._formatEventValue=function(t){return"["+e.cleanCustomVariable(t)+"]"},h}.call(e,r,e,t))||(t.exports=n)}])});